/*!

=========================================================
* Argon Dashboard PRO React - v1.2.1
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard-pro-react
* Copyright 2021 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.79ce4602.chunk.js.LICENSE.txt */
(this["webpackJsonpargon-dashboard-pro-react"]=this["webpackJsonpargon-dashboard-pro-react"]||[]).push([[0],{138:function(e,t,a){var c=a(192),n=function(){return Math.round(100*Math.random())};c.elements.Rectangle.prototype.draw=function(){var e,t,a,c,n,r,s,l=this._chart.ctx,o=this._view,i=o.borderWidth;if(o.horizontal?(e=o.base,t=o.x,a=o.y-o.height/2,c=o.y+o.height/2,n=t>e?1:-1,r=1,s=o.borderSkipped||"left"):(e=o.x-o.width/2,t=o.x+o.width/2,a=o.y,n=1,r=(c=o.base)>a?1:-1,s=o.borderSkipped||"bottom"),i){var j=Math.min(Math.abs(e-t),Math.abs(a-c)),d=(i=i>j?j:i)/2,u=e+("left"!==s?d*n:0),b=t+("right"!==s?-d*n:0),h=a+("top"!==s?d*r:0),m=c+("bottom"!==s?-d*r:0);u!==b&&(a=h,c=m),h!==m&&(e=u,t=b)}l.beginPath(),l.fillStyle=o.backgroundColor,l.strokeStyle=o.borderColor,l.lineWidth=i;var p=[[e,c],[e,a],[t,a],[t,c]],x=["bottom","left","top","right"].indexOf(s,0);function O(e){return p[(x+e)%4]}-1===x&&(x=0);var f=O(0);l.moveTo(f[0],f[1]);for(var v=1;v<4;v++){f=O(v);var g=v+1;4===g&&(g=0);var N,y=p[2][0]-p[1][0],S=p[0][1]-p[1][1],C=p[1][0],w=p[1][1];(N=6)>S/2&&(N=S/2),N>y/2&&(N=y/2),l.moveTo(C+N,w),l.lineTo(C+y-N,w),l.quadraticCurveTo(C+y,w,C+y,w+N),l.lineTo(C+y,w+S-N),l.quadraticCurveTo(C+y,w+S,C+y-N,w+S),l.lineTo(C+N,w+S),l.quadraticCurveTo(C,w+S,C,w+S-N),l.lineTo(C,w+N),l.quadraticCurveTo(C,w,C+N,w)}l.fill(),i&&l.stroke()};var r="Open Sans",s={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},l={default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},o="#FFFFFF",i="transparent";var j={options:{scales:{yAxes:[{gridLines:{color:s[700],zeroLineColor:s[700]},ticks:{callback:function(e){if(!(e%10))return"$"+e+"k"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",c=e.yLabel,n="";return t.datasets.length>1&&(n+=a),n+="$"+c+"k"}}}},data1:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}},data2:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]}}},d={options:{scales:{yAxes:[{gridLines:{color:s[200],zeroLineColor:s[200]},ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",c=e.yLabel,n="";return t.datasets.length>1&&(n+=a),n+=c}}}},data:{labels:["Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[25,20,30,22,17,29],maxBarThickness:10}]}},u={options:{scales:{yAxes:[{gridLines:{color:s[200],zeroLineColor:s[200]},ticks:{}}]}},data:{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}},b={options:{scales:{yAxes:[{gridLines:{color:s[200],zeroLineColor:s[200]},ticks:{}}]}},data:{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[10,18,28,23,28,40,36,46,52],pointRadius:10,pointHoverRadius:15,showLine:!1}]}},h={data:{labels:["Danger","Warning","Success","Primary","Info"],datasets:[{data:[n(),n(),n(),n(),n()],backgroundColor:[l.danger,l.warning,l.success,l.primary,l.info],label:"Dataset 1"}]},options:{responsive:!0,legend:{position:"top"},animation:{animateScale:!0,animateRotate:!0}}},m={data:{labels:["Danger","Warning","Success","Primary","Info"],datasets:[{data:[n(),n(),n(),n(),n()],backgroundColor:[l.danger,l.warning,l.success,l.primary,l.info],label:"Dataset 1"}]},options:{responsive:!0,legend:{position:"top"},animation:{animateScale:!0,animateRotate:!0}}},p={data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",backgroundColor:l.danger,data:[n(),n(),n(),n(),n(),n(),n()],maxBarThickness:10},{label:"Dataset 2",backgroundColor:l.primary,data:[n(),n(),n(),n(),n(),n(),n()],maxBarThickness:10},{label:"Dataset 3",backgroundColor:l.success,data:[n(),n(),n(),n(),n(),n(),n()],maxBarThickness:10}]},options:{tooltips:{mode:"index",intersect:!1},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:s[600],defaultFontColor:s[600],defaultFontFamily:r,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:l.primary},line:{tension:.4,borderWidth:4,borderColor:l.primary,backgroundColor:i,borderCapStyle:"rounded"},rectangle:{backgroundColor:l.warning},arc:{backgroundColor:l.primary,borderColor:o,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,c){var n=t.datasets[0].backgroundColor[c];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+n+'"></i>',a+=e,a+="</span>"})),a}}}};return c.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:s[300],drawBorder:!1,drawTicks:!1,lineWidth:1,zeroLineWidth:1,zeroLineColor:s[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),c.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(t,a){for(var c in a)"object"!==typeof a[c]?t[c]=a[c]:e(t[c],a[c])},chartExample1:j,chartExample2:d,chartExample3:u,chartExample4:b,chartExample5:h,chartExample6:m,chartExample7:p}},165:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/angular.b5045666.jpg"},187:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/bootstrap.bd712487.jpg"},240:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/sketch.a6af780a.jpg"},248:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/react.0e8c9066.jpg"},314:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},384:function(e,t,a){},386:function(e,t,a){},404:function(e,t){},440:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/login-pic.acd43512.jpg"},454:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/team-5.fa5a7ac2.jpg"},548:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/img-1-1000x600.3869811c.jpg"},549:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/vue.43bd93a8.jpg"},550:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAeCAYAAABqpJ3BAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABUBJREFUWIXtll1MU2cYx3/v4bOFuGJFQM6K6BzF+hm4GItRA4kMLyQxmiUSl3jRC5ELpxIvnEvYhYlLlqBRs6saZBcYd+HMgNu5RZwZ0RQlpYU5tKWlKS2wtceh7Xl3UT2M+bFNlzCM/6uT8z7Pe/6/93mfJ0domlam6/pXwPuKoij8z6XrulQUZUxK2Wk2mz8V8Xj8B0VRNs23sZeRlPKEiMfjqYVw8s+Srut+ZaGafyx1IZtHURSxoAEA3gDMt15jgNQM4lH8hcmpVOq/9vOv9TRAxI3oaUJ0rIULGxAXt8AdF8hZsyMjIzQ3N3Pp0qU5qaFQiJaWFlwu1ysbu3LlCk6nk+Hh4X8OIPzfIb79EEI3QCjIggqYmUTcOIG42gpIAG7fvk00GsVut8/ZzO/3E4lEkFLS09NDa2srwWDwpQAGBgZIJBJkZma+MG529ZEGV1tBTyILKhDVhyDTBN6LcLcbfr4CZdug/AOGhoYQQpCfn084HKaoqAiAdevWcfLkSVRV5ejRo8RiMfLz89E0DbPZDEA4HCYajVJUVITVakVKydjYGIlEgrKyMnJzcwHYv38/Dx8+pKSkhOnpaSKRCDk5OaiqihDiGQCB72FmMl2JSS+yYBX0tSHfO46IDsL0KAx/jV62DZ/Ph5SSY8eOAbBr1y52797NqVOnuHnzJu3t7QQCAQCcTiebNm1i3759nD59GrfbDYDJZKK9vZ1z584Z7ywWC21tbWRlZdHc3ExNTQ0Wi4Xe3l7DpsPh4Pjx4wbELMD03dm65JVAVh6ivB6pKPD7VBrsNz9+vx9N01i7di0NDQ24XC4uX75MY2MjXq8XVVUJhUIAbN68GYfDQXl5OWfOnMHtdtPY2IjD4UBKSUdHB263m6amJlKpFF1dXfT09BhXs7Kyku7ubhYtWsSBAwfo6upicHCQYDBIaWkp8KceELkF6YeMHGTVx+C/CjdOgKkQlMecOW8xNDQEQG1tLVVVVaxatYpkMonX6yWRSGC3242Y+vp6tm7dSm5uLrdu3WLjxo3s2bOH9evXs3z5cvr6+qiqqmLHjh3U1dUBMDU1ZeQXFxcTDodZvXo1GzZsMK7qk2s2B0Cqm0FkpKdNZAAK3kE2XECMfAMPJtIxb9cam9vtdnRdZ3R0FLPZzPj4uPHe6/WSnZ1NeXk5gNHIqqoaHx4bGwNgxYoVAEbViouL8Xg8mEwm4vG4UQlITz+LxcLixYufBiC/FNY5QU8ifulF/PQ59HwE1z5Jr1tWICv34vF4sFgspFIpXC4XoVCI7du34/P5DIBIJEJmZibBYJDR0VEsFguQniyBQACPx0NeXh4APp+P+/fv09nZiRCC6upq/H6/cRBP9pyYmGBiYoLKysrnNDEgqw4hlCwY+BKCP2KELatBbvmC6K8PmJxMN3pLSwsAdXV17Ny5k4MHD2K1WlmyZAl2u51r165x5MgRrFYrZ8+epbq6mv7+fg4fPgzA+fPnWbNmDW63G7fbTUZGBk6nE03TkFIae5jNZmw2G9evX59TjScSmqZJ/qqZSRjvh+QDxGI7suDdNODjkXfv3j10XWflypUsW7YMKSUjIyOYTCZUVSWZTHLnzh00TcNms6GqKlJKBgcHicViLF26lIqKCnRdN+Z9RUUFhYWFTE1NEYlEKCkpYXx8nOzsbGw2G9FolFgsRmlpqTGSnw+wgPQa/8wtEL0BmG8tfABd1xfsFNJ1XVcURRmbbyOvoIAipeycbxcvKyFEh5BSZmqa1ial3AuoiqKIv82cR+m6rgMBIUSH2Wz+7A/zHDgmOfiReQAAAABJRU5ErkJggg=="},555:function(e,t,a){},671:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},728:function(e,t,a){},729:function(e,t,a){},730:function(e,t,a){},731:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/argon-react.128d71d3.png"},741:function(e,t,a){"use strict";a.r(t);var c,n=a(4),r=a(1),s=a.n(r),l=a(39),o=a.n(l),i=a(73),j=a(54),d=(a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(10)),u=a(2),b=a(5),h=a.n(b),m=a(8),p=a.n(m),x=(a(386),a(752)),O=a(753),f=a(754),v=a(755),g=a(756),N=a(757),y=a(758),S=a(759),C=a(760),w=a(344),k=a(761),_=a(762),F=a(345),D=a(224),I=a.n(D),T=a(107),A=a.n(T),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c=JSON.parse(JSON.parse(localStorage.getItem("persist:root")).authReducer).token,n=A.a.AES.decrypt(c,"secretkey9876"),r=n.toString(A.a.enc.Utf8),s={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(r)};return I()({method:a,url:e,data:t,headers:s}).then((function(e){return e})).catch((function(e){return e.response?(e.response.status,e.response):(console.log("Error",e.message),console.log(e.request),console.log(e.config),e.message)}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c=JSON.parse(JSON.parse(localStorage.getItem("persist:root")).authReducer).token,n=A.a.AES.decrypt(c,"secretkey9876"),r=n.toString(A.a.enc.Utf8),s={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)};return I()({method:a,url:e,data:t,headers:s}).then((function(e){return e})).catch((function(e){return e.response?(e.response.status,e.response):(console.log("Error",e.message),console.log(e.request),console.log(e.config),e.message)}))},B=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/signin"),e.prev=1,e.next=4,L(c,{SID:t,password:a},"POST");case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),q=a(44),E=a(7),R=a(86),K=Object(R.b)("auth/login",function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.username,n=t.password,a.rejectWithValue,!c||!n){e.next=15;break}return e.prev=3,e.next=6,B(c,n);case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:e.next=16;break;case 15:alert("Please fill all fields");case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()),M=Object(R.c)({name:"auth",initialState:{token:"",expiry:"",userDetails:{},loading:!1,error:{}},reducers:{setToken:function(e,t){e.token=t.payload},setExpiry:function(e,t){e.expiry=t.payload},setUserDetails:function(e,t){e.userDetails=t.payload}},extraReducers:(c={},Object(E.a)(c,K.pending,(function(e){e.loading=!0})),Object(E.a)(c,K.fulfilled,(function(e,t){var a=t.payload;if(a){var c=A.a.AES.encrypt(a.token,"secretkey9876").toString();e.token=c,e.userDetails=a.user,e.expiry=a.expiryTime}})),Object(E.a)(c,K.rejected,(function(e,t){var a=t.payload;e.loading=!1,e.error=a})),c)}),z=M.actions,J=z.setToken,W=z.setExpiry,H=z.setUserDetails,V=M.reducer,G=a(9),U="Update Department Success",Y="Delete Department Success",Z="Success to Assign Department Head",X="Getting Staff Failed",Q="Getting Class Failed",$="Getting Sections Failed",ee="Getting Department Failed",te="Update Department Failed",ae="Delete Department Failed",ce="Failed to Assign Department Head",ne="Getting School Profile failed",re="Add Canteen Failed",se=a(0);var le=function(){var e=Object(q.b)(),t=(Object(j.g)(),Object(r.useState)("")),c=Object(u.a)(t,2),n=c[0],l=(c[1],Object(r.useState)(!1)),o=Object(u.a)(l,2),i=o[0],b=o[1],m=Object(r.useState)(""),D=Object(u.a)(m,2),I=D[0],T=D[1],A=Object(r.useState)(""),P=Object(u.a)(A,2),L=P[0],B=P[1],E=Object(r.useState)(!1),R=Object(u.a)(E,2),M=R[0],z=R[1],V=Object(r.useState)(!1),U=Object(u.a)(V,2),Y=U[0],Z=U[1],X=Object(r.useState)(!1),Q=Object(u.a)(X,2),$=Q[0],ee=Q[1],te=Object(r.useState)(!1),ae=Object(u.a)(te,2),ce=ae[0],ne=ae[1],re=Object(q.c)((function(e){return e.authReducer})),le=(re.loading,re.error,re.token);Object(r.useEffect)((function(){if(!localStorage.getItem("persist:root"))return e(J("")),e(W("")),void e(H({}));le&&(G.b.success("Login Success"),b(!0))}),[le]);var oe=function(){var t=Object(d.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),z(!0),t.next=4,e(K({username:I,password:L}));case 4:z(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),i?Object(se.jsx)(j.a,{to:"/admin/dashboard"}):null,Object(se.jsx)("div",{className:"login-container",children:Object(se.jsxs)(x.a,{className:"login-page-container",children:[Object(se.jsxs)(O.a,{lg:"5",md:"7",className:"login-form-container",children:[Object(se.jsxs)(f.a,{className:"border-0 mb-0",style:{backgroundColor:"transparent",color:"black"},children:[Object(se.jsx)(v.a,{className:"d-flex justify-content-center h1",children:"Log In"}),Object(se.jsx)(g.a,{className:"",children:Object(se.jsxs)(N.a,{role:"form",onSubmit:oe,children:[Object(se.jsx)(y.a,{className:p()("mb-3",{focused:Y}),children:Object(se.jsxs)(S.a,{className:"input-group-merge input-group-alternative",children:[Object(se.jsx)(C.a,{addonType:"prepend",children:Object(se.jsx)(w.a,{children:Object(se.jsx)("i",{className:"ni ni-email-83"})})}),Object(se.jsx)(k.a,{placeholder:"Email or Username",type:"text",onFocus:function(){return Z(!0)},onBlur:function(){return Z(!0)},value:I,onChange:function(e){return T(e.target.value)},style:{color:"black !important"}})]})}),Object(se.jsx)(y.a,{className:p()("mb-3",{focused:$}),children:Object(se.jsxs)(S.a,{className:"input-group-merge input-group-alternative",children:[Object(se.jsx)(C.a,{addonType:"prepend",children:Object(se.jsx)(w.a,{children:Object(se.jsx)("i",{className:"ni ni-lock-circle-open"})})}),Object(se.jsx)(k.a,{placeholder:"Password",type:ce?"text":"password",onFocus:function(){return ee(!0)},onBlur:function(){return ee(!0)},value:L,onChange:function(e){return B(e.target.value)}}),Object(se.jsx)(C.a,{addonType:"append",children:ce?Object(se.jsx)(w.a,{style:{cursor:"pointer"},onClick:function(){return ne(!1)},children:Object(se.jsx)("i",{className:"fa fa-eye-slash"})}):Object(se.jsx)(w.a,{style:{cursor:"pointer"},onClick:function(){return ne(!0)},children:Object(se.jsx)("i",{className:"fa fa-eye"})})})]})}),n?Object(se.jsx)(_.a,{color:"danger",children:n}):null,Object(se.jsxs)("div",{className:"custom-control custom-control-alternative custom-checkbox",children:[Object(se.jsx)("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox"}),Object(se.jsx)("label",{className:"custom-control-label",htmlFor:" customCheckLogin",children:Object(se.jsx)("span",{className:"h4",children:"Remember me"})})]}),Object(se.jsx)("div",{className:"text-center",children:Object(se.jsx)(F.a,{className:"my-4",color:"info",type:"submit",children:M?Object(se.jsx)(s.a.Fragment,{children:Object(se.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})}):Object(se.jsxs)(s.a.Fragment,{children:[Object(se.jsx)("i",{className:"ci-user me-2 ms-n1"}),"Login"]})})})]})})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)("a",{className:"text-light",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("small",{style:{color:"white"},children:"Forgot password?"})})})})]}),Object(se.jsx)(O.a,{className:"login-pic-container",children:Object(se.jsx)("div",{className:"pic-card",children:Object(se.jsx)("img",{className:"login-picture",src:a(440).default,alt:""})})})]})})]})},oe=a(763),ie=a(764),je=a(765),de=a(766),ue=a(767),be=a(768),he=a(793),me=a(769),pe=a(770),xe=a(771),Oe=a(772),fe=a(794),ve=a(773);function ge(e){var t=e.theme,c=e.sidenavOpen,n=e.toggleSidenav,r=Object(q.b)(),s=Object(j.g)();return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(oe.a,{className:p()("navbar-top navbar-expand border-bottom",{"navbar-dark bg-info":"dark"===t},{"navbar-light bg-secondary":"light"===t}),children:Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(je.a,{navbar:!0,isOpen:!0,children:[Object(se.jsxs)(N.a,{className:p()("navbar-search form-inline mr-sm-3",{"navbar-search-light":"dark"===t},{"navbar-search-dark":"light"===t}),children:[Object(se.jsx)(y.a,{className:"mb-0",children:Object(se.jsxs)(S.a,{className:"input-group-alternative input-group-merge",children:[Object(se.jsx)(C.a,{addonType:"prepend",children:Object(se.jsx)(w.a,{children:Object(se.jsx)("i",{className:"fas fa-search"})})}),Object(se.jsx)(k.a,{placeholder:"Search",type:"text"})]})}),Object(se.jsx)("button",{"aria-label":"Close",className:"close",type:"button",onClick:function(){document.body.classList.remove("g-navbar-search-shown"),setTimeout((function(){document.body.classList.remove("g-navbar-search-show"),document.body.classList.add("g-navbar-search-hiding")}),150),setTimeout((function(){document.body.classList.remove("g-navbar-search-hiding"),document.body.classList.add("g-navbar-search-hidden")}),300),setTimeout((function(){document.body.classList.remove("g-navbar-search-hidden")}),500)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(de.a,{className:"align-items-center ml-md-auto",navbar:!0,children:[Object(se.jsx)(ue.a,{className:"d-xl-none",children:Object(se.jsx)("div",{className:p()("pr-3 sidenav-toggler",{active:c},{"sidenav-toggler-dark":"dark"===t}),onClick:n,children:Object(se.jsxs)("div",{className:"sidenav-toggler-inner",children:[Object(se.jsx)("i",{className:"sidenav-toggler-line"}),Object(se.jsx)("i",{className:"sidenav-toggler-line"}),Object(se.jsx)("i",{className:"sidenav-toggler-line"})]})})}),Object(se.jsx)(ue.a,{className:"d-sm-none",children:Object(se.jsx)(be.a,{onClick:function(){document.body.classList.add("g-navbar-search-showing"),setTimeout((function(){document.body.classList.remove("g-navbar-search-showing"),document.body.classList.add("g-navbar-search-show")}),150),setTimeout((function(){document.body.classList.add("g-navbar-search-shown")}),300)},children:Object(se.jsx)("i",{className:"ni ni-zoom-split-in"})})}),Object(se.jsx)(he.a,{nav:!0,children:Object(se.jsxs)(me.a,{className:"dropdown-menu-xl py-0 overflow-hidden",right:!0,children:[Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsx)(xe.a,{className:"list-group-item-action",href:"#pablo",onClick:function(e){return e.preventDefault()},tag:"a",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("img",{alt:"...",className:"avatar rounded-circle",src:a(76).default})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(se.jsx)("div",{children:Object(se.jsx)("h4",{className:"mb-0 text-sm",children:"John Snow"})}),Object(se.jsx)("div",{className:"text-right text-muted",children:Object(se.jsx)("small",{children:"2 hrs ago"})})]}),Object(se.jsx)("p",{className:"text-sm mb-0",children:"Let's meet at Starbucks at 11:30. Wdyt?"})]})]})}),Object(se.jsx)(xe.a,{className:"list-group-item-action",href:"#pablo",onClick:function(e){return e.preventDefault()},tag:"a",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("img",{alt:"...",className:"avatar rounded-circle",src:a(82).default})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(se.jsx)("div",{children:Object(se.jsx)("h4",{className:"mb-0 text-sm",children:"John Snow"})}),Object(se.jsx)("div",{className:"text-right text-muted",children:Object(se.jsx)("small",{children:"3 hrs ago"})})]}),Object(se.jsx)("p",{className:"text-sm mb-0",children:"A new issue has been reported for Argon."})]})]})}),Object(se.jsx)(xe.a,{className:"list-group-item-action",href:"#pablo",onClick:function(e){return e.preventDefault()},tag:"a",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("img",{alt:"...",className:"avatar rounded-circle",src:a(83).default})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(se.jsx)("div",{children:Object(se.jsx)("h4",{className:"mb-0 text-sm",children:"John Snow"})}),Object(se.jsx)("div",{className:"text-right text-muted",children:Object(se.jsx)("small",{children:"5 hrs ago"})})]}),Object(se.jsx)("p",{className:"text-sm mb-0",children:"Your posts have been liked a lot."})]})]})}),Object(se.jsx)(xe.a,{className:"list-group-item-action",href:"#pablo",onClick:function(e){return e.preventDefault()},tag:"a",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("img",{alt:"...",className:"avatar rounded-circle",src:a(90).default})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(se.jsx)("div",{children:Object(se.jsx)("h4",{className:"mb-0 text-sm",children:"John Snow"})}),Object(se.jsx)("div",{className:"text-right text-muted",children:Object(se.jsx)("small",{children:"2 hrs ago"})})]}),Object(se.jsx)("p",{className:"text-sm mb-0",children:"Let's meet at Starbucks at 11:30. Wdyt?"})]})]})}),Object(se.jsx)(xe.a,{className:"list-group-item-action",href:"#pablo",onClick:function(e){return e.preventDefault()},tag:"a",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("img",{alt:"...",className:"avatar rounded-circle",src:a(454).default})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(se.jsx)("div",{children:Object(se.jsx)("h4",{className:"mb-0 text-sm",children:"John Snow"})}),Object(se.jsx)("div",{className:"text-right text-muted",children:Object(se.jsx)("small",{children:"3 hrs ago"})})]}),Object(se.jsx)("p",{className:"text-sm mb-0",children:"A new issue has been reported for Argon."})]})]})})]}),Object(se.jsx)(Oe.a,{className:"text-center text-info font-weight-bold py-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:"View all"})]})}),Object(se.jsx)(he.a,{nav:!0,children:Object(se.jsx)(me.a,{className:"dropdown-menu-lg dropdown-menu-dark bg-default",right:!0,children:Object(se.jsxs)(x.a,{className:"shortcuts px-4",children:[Object(se.jsxs)(O.a,{className:"shortcut-item",href:"#pablo",onClick:function(e){return e.preventDefault()},xs:"4",tag:"a",children:[Object(se.jsx)("span",{className:"shortcut-media avatar rounded-circle bg-gradient-red",children:Object(se.jsx)("i",{className:"ni ni-calendar-grid-58"})}),Object(se.jsx)("small",{children:"Calendar"})]}),Object(se.jsxs)(O.a,{className:"shortcut-item",href:"#pablo",onClick:function(e){return e.preventDefault()},xs:"4",tag:"a",children:[Object(se.jsx)("span",{className:"shortcut-media avatar rounded-circle bg-gradient-orange",children:Object(se.jsx)("i",{className:"ni ni-email-83"})}),Object(se.jsx)("small",{children:"Email"})]}),Object(se.jsxs)(O.a,{className:"shortcut-item",href:"#pablo",onClick:function(e){return e.preventDefault()},xs:"4",tag:"a",children:[Object(se.jsx)("span",{className:"shortcut-media avatar rounded-circle bg-gradient-info",children:Object(se.jsx)("i",{className:"ni ni-credit-card"})}),Object(se.jsx)("small",{children:"Payments"})]}),Object(se.jsxs)(O.a,{className:"shortcut-item",href:"#pablo",onClick:function(e){return e.preventDefault()},xs:"4",tag:"a",children:[Object(se.jsx)("span",{className:"shortcut-media avatar rounded-circle bg-gradient-green",children:Object(se.jsx)("i",{className:"ni ni-books"})}),Object(se.jsx)("small",{children:"Reports"})]}),Object(se.jsxs)(O.a,{className:"shortcut-item",href:"#pablo",onClick:function(e){return e.preventDefault()},xs:"4",tag:"a",children:[Object(se.jsx)("span",{className:"shortcut-media avatar rounded-circle bg-gradient-purple",children:Object(se.jsx)("i",{className:"ni ni-pin-3"})}),Object(se.jsx)("small",{children:"Maps"})]}),Object(se.jsxs)(O.a,{className:"shortcut-item",href:"#pablo",onClick:function(e){return e.preventDefault()},xs:"4",tag:"a",children:[Object(se.jsx)("span",{className:"shortcut-media avatar rounded-circle bg-gradient-yellow",children:Object(se.jsx)("i",{className:"ni ni-basket"})}),Object(se.jsx)("small",{children:"Shop"})]})]})})})]}),Object(se.jsx)(de.a,{className:"align-items-center ml-auto ml-md-0",navbar:!0,children:Object(se.jsxs)(he.a,{nav:!0,children:[Object(se.jsx)(fe.a,{className:"nav-link pr-0",color:"",tag:"a",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("span",{className:"avatar avatar-sm rounded-circle",children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(ve.a,{className:"ml-2 d-none d-lg-block",children:Object(se.jsx)("span",{className:"mb-0 text-sm font-weight-bold",children:"John Snow"})})]})}),Object(se.jsxs)(me.a,{right:!0,children:[Object(se.jsx)(Oe.a,{className:"noti-title",header:!0,tag:"div",children:Object(se.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(se.jsxs)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-single-02"}),Object(se.jsx)("span",{children:"My profile"})]}),Object(se.jsx)(Oe.a,{divider:!0}),Object(se.jsxs)(Oe.a,{href:"#",onClick:function(e){return function(e){e.preventDefault(),r(J("")),r(W("")),r(H({})),s.push("/login")}(e)},children:[Object(se.jsx)("i",{className:"ni ni-user-run"}),Object(se.jsx)("span",{children:"Logout"})]})]})]})})]})})})})}ge.defaultProps={toggleSidenav:function(){},sidenavOpen:!1,theme:"dark"};var Ne=ge;var ye=function(){return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(ie.a,{fluid:!0})})},Se=a(347),Ce=a.n(Se),we=a(774);function ke(e){var t=e.toggleSidenav,a=e.sidenavOpen,c=e.routes,r=e.logo,l=e.rtlActive,o=s.a.useState({}),d=Object(u.a)(o,2),b=d[0],h=d[1],m=Object(j.h)();s.a.useEffect((function(){h(O(c))}),[]);var x,O=function e(t){var a={};return t.map((function(t,c){return t.collapse&&(a=Object(n.a)(Object(n.a)(Object(E.a)({},t.state,f(t.views)),e(t.views)),a)),null})),a},f=function e(t){for(var a=0;a<t.length;a++){if(t[a].collapse&&e(t[a].views))return!0;if(-1!==m.pathname.indexOf(t[a].path))return!0}return!1},v=function(){window.innerWidth<1200&&t()};r&&r.innerLink?x={to:r.innerLink,tag:i.b}:r&&r.outterLink&&(x={href:r.outterLink,target:"_blank"});var g=Object(se.jsxs)("div",{className:"scrollbar-inner",children:[Object(se.jsxs)("div",{className:"sidenav-header d-flex align-items-center",children:[r?Object(se.jsx)(we.a,Object(n.a)(Object(n.a)({},x),{},{children:Object(se.jsx)("img",{alt:r.imgAlt,className:"navbar-brand-img",src:r.imgSrc})})):null,Object(se.jsx)("div",{className:"ml-auto",children:Object(se.jsx)("div",{className:p()("sidenav-toggler d-none d-xl-block",{active:a}),onClick:t,children:Object(se.jsxs)("div",{className:"sidenav-toggler-inner",children:[Object(se.jsx)("i",{className:"sidenav-toggler-line"}),Object(se.jsx)("i",{className:"sidenav-toggler-line"}),Object(se.jsx)("i",{className:"sidenav-toggler-line"})]})})})]}),Object(se.jsx)("div",{className:"navbar-inner",children:Object(se.jsx)(je.a,{navbar:!0,isOpen:!0,children:Object(se.jsx)(de.a,{navbar:!0,children:function e(t){return t.map((function(t,a){if(t.redirect)return null;if(t.collapse){var c={};return c[t.state]=!b[t.state],Object(se.jsxs)(ue.a,{children:[Object(se.jsx)(be.a,{href:"#pablo","data-toggle":"collapse","aria-expanded":b[t.state],className:p()({active:f(t.views)}),onClick:function(e){e.preventDefault(),h(c)},children:t.icon?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("i",{className:t.icon}),Object(se.jsx)("span",{className:"nav-link-text",children:t.name})]}):t.miniName?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("span",{className:"sidenav-mini-icon",children:[" ",t.miniName," "]}),Object(se.jsxs)("span",{className:"sidenav-normal",children:[" ",t.name," "]})]}):null}),Object(se.jsx)(je.a,{isOpen:b[t.state],children:Object(se.jsx)(de.a,{className:"nav-sm flex-column",children:e(t.views)})})]},a)}return Object(se.jsx)(ue.a,{className:(n=t.layout+t.path,m.pathname.indexOf(n)>-1?"active":""),children:Object(se.jsx)(be.a,{to:t.layout+t.path,activeClassName:"",onClick:v,tag:i.c,children:void 0!==t.icon?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("i",{className:t.icon}),Object(se.jsx)("span",{className:"nav-link-text",children:t.name})]}):void 0!==t.miniName?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("span",{className:"sidenav-mini-icon",children:[" ",t.miniName," "]}),Object(se.jsxs)("span",{className:"sidenav-normal",children:[" ",t.name," "]})]}):t.name})},a);var n}))}(c)})})})]});return Object(se.jsx)(oe.a,{className:"sidenav navbar-vertical navbar-expand-xs navbar-light bg-white "+(l?"":"fixed-left"),onMouseEnter:function(){document.body.classList.contains("g-sidenav-pinned")||document.body.classList.add("g-sidenav-show")},onMouseLeave:function(){document.body.classList.contains("g-sidenav-pinned")||document.body.classList.remove("g-sidenav-show")},children:navigator.platform.indexOf("Win")>-1?Object(se.jsx)(Ce.a,{children:g}):g})}ke.defaultProps={routes:[{}],toggleSidenav:function(){},sidenavOpen:!1,rtlActive:!1};var _e=ke,Fe=function(){if(!localStorage.getItem("persist:root"))return!1;var e=JSON.parse(JSON.parse(localStorage.getItem("persist:root")).authReducer).token,t=A.a.AES.decrypt(e,"secretkey9876").toString(A.a.enc.Utf8),a=JSON.parse(JSON.parse(localStorage.getItem("persist:root")).authReducer).userDetails;return"undefined"!=typeof window&&(!!t&&{token:t,user:a})},De=a(192),Ie=a(265),Te=a(777),Ae=a(778),Pe=a(791),Le=a(779),Be=a(780),qe=a(775),Ee=a(776);var Re=function(e){var t=e.name,a=e.parentName;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"header bg-info pb-6",children:Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)("div",{className:"header-body",children:[Object(se.jsxs)(x.a,{className:"align-items-center py-4",children:[Object(se.jsxs)(O.a,{lg:"6",xs:"7",children:[Object(se.jsx)("h6",{className:"h2 text-white d-inline-block mb-0",children:t})," ",Object(se.jsxs)(qe.a,{className:"d-none d-md-inline-block ml-md-4",listClassName:"breadcrumb-links breadcrumb-dark",children:[Object(se.jsx)(Ee.a,{children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("i",{className:"fas fa-home"})})}),Object(se.jsx)(Ee.a,{children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:a})}),Object(se.jsx)(Ee.a,{"aria-current":"page",className:"active",children:t})]})]}),Object(se.jsxs)(O.a,{className:"text-right",lg:"6",xs:"5",children:[Object(se.jsx)(F.a,{className:"btn-neutral",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm",children:"New"}),Object(se.jsx)(F.a,{className:"btn-neutral",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm",children:"Filters"})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"6",xl:"3",children:Object(se.jsx)(f.a,{className:"card-stats",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)(v.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Total traffic"}),Object(se.jsx)("span",{className:"h2 font-weight-bold mb-0",children:"350,897"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("div",{className:"icon icon-shape bg-gradient-red text-white rounded-circle shadow",children:Object(se.jsx)("i",{className:"ni ni-active-40"})})})]}),Object(se.jsxs)("p",{className:"mt-3 mb-0 text-sm",children:[Object(se.jsxs)("span",{className:"text-success mr-2",children:[Object(se.jsx)("i",{className:"fa fa-arrow-up"})," 3.48%"]})," ",Object(se.jsx)("span",{className:"text-nowrap",children:"Since last month"})]})]})})}),Object(se.jsx)(O.a,{md:"6",xl:"3",children:Object(se.jsx)(f.a,{className:"card-stats",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)(v.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"New users"}),Object(se.jsx)("span",{className:"h2 font-weight-bold mb-0",children:"2,356"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("div",{className:"icon icon-shape bg-gradient-orange text-white rounded-circle shadow",children:Object(se.jsx)("i",{className:"ni ni-chart-pie-35"})})})]}),Object(se.jsxs)("p",{className:"mt-3 mb-0 text-sm",children:[Object(se.jsxs)("span",{className:"text-success mr-2",children:[Object(se.jsx)("i",{className:"fa fa-arrow-up"})," 3.48%"]})," ",Object(se.jsx)("span",{className:"text-nowrap",children:"Since last month"})]})]})})}),Object(se.jsx)(O.a,{md:"6",xl:"3",children:Object(se.jsx)(f.a,{className:"card-stats",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)(v.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Sales"}),Object(se.jsx)("span",{className:"h2 font-weight-bold mb-0",children:"924"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("div",{className:"icon icon-shape bg-gradient-green text-white rounded-circle shadow",children:Object(se.jsx)("i",{className:"ni ni-money-coins"})})})]}),Object(se.jsxs)("p",{className:"mt-3 mb-0 text-sm",children:[Object(se.jsxs)("span",{className:"text-success mr-2",children:[Object(se.jsx)("i",{className:"fa fa-arrow-up"})," 3.48%"]})," ",Object(se.jsx)("span",{className:"text-nowrap",children:"Since last month"})]})]})})}),Object(se.jsx)(O.a,{md:"6",xl:"3",children:Object(se.jsx)(f.a,{className:"card-stats",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)(v.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Performance"}),Object(se.jsx)("span",{className:"h2 font-weight-bold mb-0",children:"49,65%"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("div",{className:"icon icon-shape bg-gradient-primary text-white rounded-circle shadow",children:Object(se.jsx)("i",{className:"ni ni-chart-bar-32"})})})]}),Object(se.jsxs)("p",{className:"mt-3 mb-0 text-sm",children:[Object(se.jsxs)("span",{className:"text-success mr-2",children:[Object(se.jsx)("i",{className:"fa fa-arrow-up"})," 3.48%"]})," ",Object(se.jsx)("span",{className:"text-nowrap",children:"Since last month"})]})]})})})]})]})})})})},Ke=a(138);var Me=function(){var e=s.a.useState(1),t=Object(u.a)(e,2),c=t[0],n=t[1],r=s.a.useState("data1"),l=Object(u.a)(r,2),o=l[0],i=l[1],j=function(e,t){e.preventDefault(),n(t),i("data1"===o?"data2":"data1")};return window.Chart&&Object(Ke.parseOptions)(De.Chart,Object(Ke.chartOptions)()),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Re,{name:"Default",parentName:"Dashboards"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{xl:"8",children:Object(se.jsxs)(f.a,{className:"bg-default",children:[Object(se.jsx)(Te.a,{className:"bg-transparent",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("h6",{className:"text-light text-uppercase ls-1 mb-1",children:"Overview"}),Object(se.jsx)("h5",{className:"h3 text-white mb-0",children:"Sales value"})]}),Object(se.jsx)("div",{className:"col",children:Object(se.jsxs)(de.a,{className:"justify-content-end",pills:!0,children:[Object(se.jsx)(ue.a,{className:"mr-2 mr-md-0",children:Object(se.jsxs)(be.a,{className:p()("py-2 px-3",{active:1===c}),href:"#pablo",onClick:function(e){return j(e,1)},children:[Object(se.jsx)("span",{className:"d-none d-md-block",children:"Month"}),Object(se.jsx)("span",{className:"d-md-none",children:"M"})]})}),Object(se.jsx)(ue.a,{children:Object(se.jsxs)(be.a,{className:p()("py-2 px-3",{active:2===c}),"data-toggle":"tab",href:"#pablo",onClick:function(e){return j(e,2)},children:[Object(se.jsx)("span",{className:"d-none d-md-block",children:"Week"}),Object(se.jsx)("span",{className:"d-md-none",children:"W"})]})})]})})]})}),Object(se.jsx)(g.a,{children:Object(se.jsx)("div",{className:"chart",children:Object(se.jsx)(Ie.Line,{data:Ke.chartExample1[o],options:Ke.chartExample1.options,id:"chart-sales-dark",className:"chart-canvas"})})})]})}),Object(se.jsx)(O.a,{xl:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{className:"bg-transparent",children:Object(se.jsx)(x.a,{className:"align-items-center",children:Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("h6",{className:"text-uppercase text-muted ls-1 mb-1",children:"Performance"}),Object(se.jsx)("h5",{className:"h3 mb-0",children:"Total orders"})]})})}),Object(se.jsx)(g.a,{children:Object(se.jsx)("div",{className:"chart",children:Object(se.jsx)(Ie.Bar,{data:Ke.chartExample2.data,options:Ke.chartExample2.options,className:"chart-canvas",id:"chart-bars"})})})]})})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{xl:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h5",{className:"h3 mb-0",children:"Team members"})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(pe.a,{className:"list my--3",flush:!0,children:[Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsx)("h4",{className:"mb-0",children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"John Michael"})}),Object(se.jsx)("span",{className:"text-success",children:"\u25cf"})," ",Object(se.jsx)("small",{children:"Online"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)(F.a,{color:"primary",size:"sm",type:"button",children:"Add"})})]})}),Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsx)("h4",{className:"mb-0",children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Alex Smith"})}),Object(se.jsx)("span",{className:"text-warning",children:"\u25cf"})," ",Object(se.jsx)("small",{children:"In a meeting"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)(F.a,{color:"primary",size:"sm",type:"button",children:"Add"})})]})}),Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsx)("h4",{className:"mb-0",children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Samantha Ivy"})}),Object(se.jsx)("span",{className:"text-danger",children:"\u25cf"})," ",Object(se.jsx)("small",{children:"Offline"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)(F.a,{color:"primary",size:"sm",type:"button",children:"Add"})})]})}),Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})})}),Object(se.jsxs)("div",{className:"col ml--2",children:[Object(se.jsx)("h4",{className:"mb-0",children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"John Michael"})}),Object(se.jsx)("span",{className:"text-success",children:"\u25cf"})," ",Object(se.jsx)("small",{children:"Online"})]}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)(F.a,{color:"primary",size:"sm",type:"button",children:"Add"})})]})})]})})]})}),Object(se.jsx)(O.a,{xl:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h5",{className:"h3 mb-0",children:"To do list"})}),Object(se.jsx)(g.a,{className:"p-0",children:Object(se.jsxs)(pe.a,{"data-toggle":"checklist",flush:!0,children:[Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsxs)("div",{className:"checklist-item checklist-item-success checklist-item-checked",children:[Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Call with Dave"}),Object(se.jsx)("small",{children:"10:30 AM"})]}),Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"custom-control custom-checkbox custom-checkbox-success",children:[Object(se.jsx)("input",{className:"custom-control-input",defaultChecked:!0,id:"chk-todo-task-1",type:"checkbox"}),Object(se.jsx)("label",{className:"custom-control-label",htmlFor:"chk-todo-task-1"})]})})]})}),Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsxs)("div",{className:"checklist-item checklist-item-warning",children:[Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Lunch meeting"}),Object(se.jsx)("small",{children:"10:30 AM"})]}),Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"custom-control custom-checkbox custom-checkbox-warning",children:[Object(se.jsx)("input",{className:"custom-control-input",id:"chk-todo-task-2",type:"checkbox"}),Object(se.jsx)("label",{className:"custom-control-label",htmlFor:"chk-todo-task-2"})]})})]})}),Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsxs)("div",{className:"checklist-item checklist-item-info",children:[Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Argon Dashboard Launch"}),Object(se.jsx)("small",{children:"10:30 AM"})]}),Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"custom-control custom-checkbox custom-checkbox-info",children:[Object(se.jsx)("input",{className:"custom-control-input",id:"chk-todo-task-3",type:"checkbox"}),Object(se.jsx)("label",{className:"custom-control-label",htmlFor:"chk-todo-task-3"})]})})]})}),Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsxs)("div",{className:"checklist-item checklist-item-danger checklist-item-checked",children:[Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Winter Hackaton"}),Object(se.jsx)("small",{children:"10:30 AM"})]}),Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"custom-control custom-checkbox custom-checkbox-danger",children:[Object(se.jsx)("input",{className:"custom-control-input",defaultChecked:!0,id:"chk-todo-task-4",type:"checkbox"}),Object(se.jsx)("label",{className:"custom-control-label",htmlFor:"chk-todo-task-4"})]})})]})})]})})]})}),Object(se.jsx)(O.a,{xl:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h5",{className:"h3 mb-0",children:"Progress track"})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(pe.a,{className:"list my--3",flush:!0,children:[Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(239).default})})}),Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("h5",{children:"Argon Design System"}),Object(se.jsx)(Ae.a,{className:"progress-xs mb-0",color:"orange",max:"100",value:"60"})]})]})}),Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(186).default})})}),Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("h5",{children:"Angular Now UI Kit PRO"}),Object(se.jsx)(Ae.a,{className:"progress-xs mb-0",color:"success",max:"100",value:"100"})]})]})}),Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(240).default})})}),Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("h5",{children:"Black Dashboard"}),Object(se.jsx)(Ae.a,{className:"progress-xs mb-0",color:"danger",max:"100",value:"72"})]})]})}),Object(se.jsx)(xe.a,{className:"px-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)("a",{className:"avatar rounded-circle",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(313).default})})}),Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("h5",{children:"React Material Dashboard"}),Object(se.jsx)(Ae.a,{className:"progress-xs mb-0",color:"info",max:"100",value:"90"})]})]})})]})})]})})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{xl:"5",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h5",{className:"h3 mb-0",children:"Activity feed"})}),Object(se.jsxs)(Te.a,{className:"d-flex align-items-center",children:[Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",className:"avatar",src:a(76).default})}),Object(se.jsxs)("div",{className:"mx-3",children:[Object(se.jsx)("a",{className:"text-dark font-weight-600 text-sm",href:"#pablo",onClick:function(e){return e.preventDefault()},children:"John Snow"}),Object(se.jsx)("small",{className:"d-block text-muted",children:"3 days ago"})]})]}),Object(se.jsx)("div",{className:"text-right ml-auto",children:Object(se.jsxs)(F.a,{className:"btn-icon",color:"primary",size:"sm",type:"button",children:[Object(se.jsx)("span",{className:"btn-inner--icon mr-1",children:Object(se.jsx)("i",{className:"ni ni-fat-add"})}),Object(se.jsx)("span",{className:"btn-inner--text",children:"Follow"})]})})]}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)("p",{className:"mb-4",children:"Personal profiles are the perfect way for you to grab their attention and persuade recruiters to continue reading your CV because you\u2019re telling them from the off exactly why they should hire you."}),Object(se.jsx)("img",{alt:"...",className:"img-fluid rounded",src:a(548).default}),Object(se.jsxs)(x.a,{className:"align-items-center my-3 pb-3 border-bottom",children:[Object(se.jsx)(O.a,{sm:"6",children:Object(se.jsxs)("div",{className:"icon-actions",children:[Object(se.jsxs)("a",{className:"like active",href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-like-2"}),Object(se.jsx)("span",{className:"text-muted",children:"150"})]}),Object(se.jsxs)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-chat-round"}),Object(se.jsx)("span",{className:"text-muted",children:"36"})]}),Object(se.jsxs)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-curved-next"}),Object(se.jsx)("span",{className:"text-muted",children:"12"})]})]})}),Object(se.jsx)(O.a,{className:"d-none d-sm-block",sm:"6",children:Object(se.jsxs)("div",{className:"d-flex align-items-center justify-content-sm-end",children:[Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-xs rounded-circle",href:"#pablo",id:"tooltip36177092",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip36177092",children:"Jessica Rowland"}),Object(se.jsx)("a",{className:"avatar avatar-xs rounded-circle",href:"#pablo",id:"tooltip857639221",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",className:"rounded-circle",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip857639221",children:"Audrey Love"}),Object(se.jsx)("a",{className:"avatar avatar-xs rounded-circle",href:"#pablo",id:"tooltip260223080",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",className:"rounded-circle",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip260223080",children:"Michael Lewis"})]}),Object(se.jsx)("small",{className:"pl-2 font-weight-bold",children:"and 30+ more"})]})})]}),Object(se.jsxs)("div",{className:"mb-1",children:[Object(se.jsxs)(ve.a,{className:"media-comment",children:[Object(se.jsx)("img",{alt:"...",className:"avatar avatar-lg media-comment-avatar rounded-circle",src:a(76).default}),Object(se.jsx)(ve.a,{children:Object(se.jsxs)("div",{className:"media-comment-text",children:[Object(se.jsx)("h6",{className:"h5 mt-0",children:"Michael Lewis"}),Object(se.jsx)("p",{className:"text-sm lh-160",children:"Cras sit amet nibh libero nulla vel metus scelerisque ante sollicitudin. Cras purus odio vestibulum in vulputate viverra turpis."}),Object(se.jsxs)("div",{className:"icon-actions",children:[Object(se.jsxs)("a",{className:"like active",href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-like-2"}),Object(se.jsx)("span",{className:"text-muted",children:"3 likes"})]}),Object(se.jsxs)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-curved-next"}),Object(se.jsx)("span",{className:"text-muted",children:"2 shares"})]})]})]})})]}),Object(se.jsxs)(ve.a,{className:"media-comment",children:[Object(se.jsx)("img",{alt:"...",className:"avatar avatar-lg media-comment-avatar rounded-circle",src:a(82).default}),Object(se.jsx)(ve.a,{children:Object(se.jsxs)("div",{className:"media-comment-text",children:[Object(se.jsx)("h6",{className:"h5 mt-0",children:"Jessica Stones"}),Object(se.jsx)("p",{className:"text-sm lh-160",children:"Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis."}),Object(se.jsxs)("div",{className:"icon-actions",children:[Object(se.jsxs)("a",{className:"like active",href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-like-2"}),Object(se.jsx)("span",{className:"text-muted",children:"10 likes"})]}),Object(se.jsxs)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(se.jsx)("i",{className:"ni ni-curved-next"}),Object(se.jsx)("span",{className:"text-muted",children:"1 share"})]})]})]})})]}),Object(se.jsx)("hr",{}),Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("img",{alt:"...",className:"avatar avatar-lg rounded-circle mr-4",src:a(83).default}),Object(se.jsx)(ve.a,{body:!0,children:Object(se.jsx)(N.a,{children:Object(se.jsx)(k.a,{placeholder:"Write your comment",rows:"1",type:"textarea"})})})]})]})]})]})}),Object(se.jsxs)(O.a,{xl:"7",children:[Object(se.jsx)(x.a,{children:Object(se.jsx)("div",{className:"col",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{className:"border-0",children:Object(se.jsx)("h3",{className:"mb-0",children:"Light table"})}),Object(se.jsxs)(Le.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(se.jsx)("thead",{className:"thead-light",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{className:"sort","data-sort":"name",scope:"col",children:"Project"}),Object(se.jsx)("th",{className:"sort","data-sort":"budget",scope:"col",children:"Budget"}),Object(se.jsx)("th",{className:"sort","data-sort":"status",scope:"col",children:"Status"}),Object(se.jsx)("th",{scope:"col",children:"Users"}),Object(se.jsx)("th",{className:"sort","data-sort":"completion",scope:"col",children:"Completion"}),Object(se.jsx)("th",{scope:"col"})]})}),Object(se.jsxs)("tbody",{className:"list",children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(239).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Argon Design System"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$2500 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-warning"}),Object(se.jsx)("span",{className:"status",children:"pending"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip792717700",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip792717700",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip654289872",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip654289872",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip409131762",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip409131762",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip50788433",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip50788433",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"60%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"60",color:"warning"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(186).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Angular Now UI Kit PRO"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$1800 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-success"}),Object(se.jsx)("span",{className:"status",children:"completed"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip545726644",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip545726644",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip823332447",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip823332447",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip354076640",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip354076640",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip625572621",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip625572621",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"100%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"100",color:"success"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(240).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Black Dashboard"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$3150 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-danger"}),Object(se.jsx)("span",{className:"status",children:"delayed"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip927457712",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip927457712",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip959509788",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip959509788",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip239649821",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip239649821",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip908443321",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip908443321",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"72%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"72",color:"danger"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(313).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"React Material Dashboard"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$4400 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-info"}),Object(se.jsx)("span",{className:"status",children:"on schedule"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip817843622",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip817843622",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip885824111",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip885824111",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip426851535",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip426851535",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip913358720",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip913358720",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"90%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"90",color:"info"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(549).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Vue Paper UI Kit PRO"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$2200 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-success"}),Object(se.jsx)("span",{className:"status",children:"completed"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip460474820",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip460474820",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip979995688",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip979995688",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip732882700",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip732882700",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip242724387",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip242724387",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"100%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"100",color:"success"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(239).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Argon Design System"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$2500 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-warning"}),Object(se.jsx)("span",{className:"status",children:"pending"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip318080952",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip318080952",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip221723068",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip221723068",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip138748612",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip138748612",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip431342349",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip431342349",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"60%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"60",color:"warning"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(186).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Angular Now UI Kit PRO"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$1800 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-success"}),Object(se.jsx)("span",{className:"status",children:"completed"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip384464413",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip384464413",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip828512937",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip828512937",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip409745485",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip409745485",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip262162858",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip262162858",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"100%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"100",color:"success"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(240).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Black Dashboard"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$3150 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-danger"}),Object(se.jsx)("span",{className:"status",children:"delayed"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip711925042",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip711925042",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip664693924",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip664693924",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip582913491",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip582913491",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip699784330",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip699784330",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"72%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"72",color:"danger"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:Object(se.jsxs)(ve.a,{className:"align-items-center",children:[Object(se.jsx)("a",{className:"avatar rounded-circle mr-3",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(186).default})}),Object(se.jsx)(ve.a,{children:Object(se.jsx)("span",{className:"name mb-0 text-sm",children:"Angular Now UI Kit PRO"})})]})}),Object(se.jsx)("td",{className:"budget",children:"$1800 USD"}),Object(se.jsx)("td",{children:Object(se.jsxs)(Be.a,{className:"badge-dot mr-4",color:"",children:[Object(se.jsx)("i",{className:"bg-success"}),Object(se.jsx)("span",{className:"status",children:"completed"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"avatar-group",children:[Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip912421317",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(76).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip912421317",children:"Ryan Tompson"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip912012329",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(82).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip912012329",children:"Romina Hadid"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip366509724",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(83).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip366509724",children:"Alexander Smith"}),Object(se.jsx)("a",{className:"avatar avatar-sm rounded-circle",href:"#pablo",id:"tooltip569311457",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("img",{alt:"...",src:a(90).default})}),Object(se.jsx)(Pe.a,{delay:0,target:"tooltip569311457",children:"Jessica Doe"})]})}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"completion mr-2",children:"100%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"100",color:"success"})})]})}),Object(se.jsx)("td",{className:"text-right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{color:"",size:"sm",className:"btn-icon-only text-light",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Another action"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Something else here"})]})]})})]})]})]})]})})}),Object(se.jsxs)("div",{className:"card-deck",children:[Object(se.jsxs)(f.a,{className:"bg-gradient-default",children:[Object(se.jsxs)(g.a,{children:[Object(se.jsxs)("div",{className:"mb-2",children:[Object(se.jsx)("sup",{className:"text-white",children:"$"})," ",Object(se.jsx)("span",{className:"h2 text-white",children:"3,300"}),Object(se.jsx)("div",{className:"text-light mt-2 text-sm",children:"Your current balance"}),Object(se.jsxs)("div",{children:[Object(se.jsx)("span",{className:"text-success font-weight-600",children:"+ 15%"})," ",Object(se.jsx)("span",{className:"text-light",children:"($250)"})]})]}),Object(se.jsx)(F.a,{block:!0,className:"btn-neutral",color:"default",size:"sm",children:"Add credit"})]}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(x.a,{children:[Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("small",{className:"text-light",children:"Orders: 60%"}),Object(se.jsx)(Ae.a,{className:"progress-xs my-2",max:"100",value:"60",color:"success"})]}),Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("small",{className:"text-light",children:"Sales: 40%"}),Object(se.jsx)(Ae.a,{className:"progress-xs my-2",max:"100",value:"40",color:"warning"})]})]})})]}),Object(se.jsx)(f.a,{className:"bg-gradient-danger",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{className:"justify-content-between align-items-center",children:[Object(se.jsx)("div",{className:"col",children:Object(se.jsx)("img",{alt:"...",src:a(550).default})}),Object(se.jsx)(O.a,{className:"col-auto",children:Object(se.jsx)(Be.a,{className:"badge-lg",color:"success",children:"Active"})})]}),Object(se.jsxs)("div",{className:"my-4",children:[Object(se.jsx)("span",{className:"h6 surtitle text-light",children:"Username"}),Object(se.jsx)("div",{className:"h1 text-white",children:"@johnsnow"})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)("span",{className:"h6 surtitle text-light",children:"Name"}),Object(se.jsx)("span",{className:"d-block h3 text-white",children:"John Snow"})]})})]})})]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{xl:"8",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{className:"border-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)("div",{className:"col",children:Object(se.jsx)("h3",{className:"mb-0",children:"Page visits"})}),Object(se.jsx)("div",{className:"col text-right",children:Object(se.jsx)(F.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm",children:"See all"})})]})}),Object(se.jsxs)(Le.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(se.jsx)("thead",{className:"thead-light",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"col",children:"Page name"}),Object(se.jsx)("th",{scope:"col",children:"Visitors"}),Object(se.jsx)("th",{scope:"col",children:"Unique users"}),Object(se.jsx)("th",{scope:"col",children:"Bounce rate"})]})}),Object(se.jsxs)("tbody",{children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"/argon/"}),Object(se.jsx)("td",{children:"4,569"}),Object(se.jsx)("td",{children:"340"}),Object(se.jsxs)("td",{children:[Object(se.jsx)("i",{className:"fas fa-arrow-up text-success mr-3"}),"46,53%"]})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"/argon/index.html"}),Object(se.jsx)("td",{children:"3,985"}),Object(se.jsx)("td",{children:"319"}),Object(se.jsxs)("td",{children:[Object(se.jsx)("i",{className:"fas fa-arrow-down text-warning mr-3"}),"46,53%"]})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"/argon/charts.html"}),Object(se.jsx)("td",{children:"3,513"}),Object(se.jsx)("td",{children:"294"}),Object(se.jsxs)("td",{children:[Object(se.jsx)("i",{className:"fas fa-arrow-down text-warning mr-3"}),"36,49%"]})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"/argon/tables.html"}),Object(se.jsx)("td",{children:"2,050"}),Object(se.jsx)("td",{children:"147"}),Object(se.jsxs)("td",{children:[Object(se.jsx)("i",{className:"fas fa-arrow-up text-success mr-3"}),"50,87%"]})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"/argon/profile.html"}),Object(se.jsx)("td",{children:"1,795"}),Object(se.jsx)("td",{children:"190"}),Object(se.jsxs)("td",{children:[Object(se.jsx)("i",{className:"fas fa-arrow-down text-danger mr-3"}),"46,53%"]})]})]})]})]})}),Object(se.jsx)(O.a,{xl:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{className:"border-0",children:Object(se.jsxs)(x.a,{className:"align-items-center",children:[Object(se.jsx)("div",{className:"col",children:Object(se.jsx)("h3",{className:"mb-0",children:"Social traffic"})}),Object(se.jsx)("div",{className:"col text-right",children:Object(se.jsx)(F.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm",children:"See all"})})]})}),Object(se.jsxs)(Le.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(se.jsx)("thead",{className:"thead-light",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"col",children:"Referral"}),Object(se.jsx)("th",{scope:"col",children:"Visitors"}),Object(se.jsx)("th",{scope:"col"})]})}),Object(se.jsxs)("tbody",{children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"Facebook"}),Object(se.jsx)("td",{children:"1,480"}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"mr-2",children:"60%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"60",color:"gradient-danger"})})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"Facebook"}),Object(se.jsx)("td",{children:"5,480"}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"mr-2",children:"70%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"70",color:"gradient-success"})})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"Google"}),Object(se.jsx)("td",{children:"4,807"}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"mr-2",children:"80%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"80",clor:"gradient-primary"})})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"Instagram"}),Object(se.jsx)("td",{children:"3,678"}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"mr-2",children:"75%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"75",color:"gradient-info"})})]})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{scope:"row",children:"twitter"}),Object(se.jsx)("td",{children:"2,645"}),Object(se.jsx)("td",{children:Object(se.jsxs)("div",{className:"d-flex align-items-center",children:[Object(se.jsx)("span",{className:"mr-2",children:"30%"}),Object(se.jsx)("div",{children:Object(se.jsx)(Ae.a,{max:"100",value:"30",color:"gradient-warning"})})]})})]})]})]})]})})]})]})]})},ze=a(795),Je=a(782),We=a(783),He=a(74);var Ve=function(e){var t=e.name,a=e.parentName;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"header header-dark bg-info pb-6 content__title content__title--calendar",children:Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsx)("div",{className:"header-body",children:Object(se.jsx)(x.a,{className:"align-items-center py-4",children:Object(se.jsxs)(O.a,{lg:"6",xs:"7",children:[Object(se.jsx)("h6",{className:"fullcalendar-title h2 text-white d-inline-block mb-0",children:t})," ",Object(se.jsxs)(qe.a,{className:"d-none d-md-inline-block ml-lg-4",listClassName:"breadcrumb-links breadcrumb-dark",children:[Object(se.jsx)(Ee.a,{children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("i",{className:"fas fa-home"})})}),Object(se.jsx)(Ee.a,{children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:a})}),Object(se.jsx)(Ee.a,{"aria-current":"page",className:"active",children:t})]})]})})})})})})},Ge=(a(314),function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/department/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))}),Ue=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/department/edit/").concat(e,"/").concat(t);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ye=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/department/all/").concat(e,"/").concat(t);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ze=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/department/delete/").concat(e,"/").concat(t);return fetch(c,{method:"DELETE",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},Xe=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/department/edit/").concat(e,"/").concat(t);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},Qe=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/staff/head/").concat(t,"/").concat(a));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),$e=a(796),et=a(156),tt=function(e){var t=e.columns,a=e.data,c=e.exportFileName;return Object(se.jsx)("div",{children:Object(se.jsx)(He.a,{style:{whiteSpace:"pre"},columns:t,dataSource:a,exportableProps:{fileName:c,showColumnPicker:!0},pagination:{pageSizeOptions:["5","10","30","60","100","1000"],showSizeChanger:!0}})})},at=(a(555),a(781));var ct=function(){return Object(se.jsx)("div",{className:"Loader",children:Object(se.jsx)(at.a,{color:"dark",size:"",children:"Loading..."})})},nt=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/session/all/").concat(t,"/").concat(e);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},rt=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/session/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},st=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("http://35.174.4.42:5000","/api/school/session/edit/").concat(t,"/").concat(a),e.abrupt("return",fetch(r,{method:"PUT",headers:{Authorization:"Bearer "+c,Accept:"application/json"},body:n}).then((function(e){return e.json()})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,n){return e.apply(this,arguments)}}(),lt=a(56),ot=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c="".concat("http://35.174.4.42:5000","/api/school/staff/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},it=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/staff/all/").concat(t,"/").concat(a));case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),jt=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/staff/delete/").concat(t,"/").concat(a),{},"DELETE");case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),dt=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/staff/edit/").concat(t,"/").concat(a),c,"PUT");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),ut=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/staff/edit/").concat(t,"/").concat(a),c,"PUT");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),bt=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/staff/department/").concat(t,"/").concat(a),c,"POST");case 3:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,c){return e.apply(this,arguments)}}(),ht=function(){var e=Fe(),t=e.user,a=e.token,c=Object(r.useState)(!1),n=Object(u.a)(c,2),s=n[0],l=n[1],o=Object(r.useState)([]),i=Object(u.a)(o,2),j=(i[0],i[1]),b=Object(r.useState)([]),m=Object(u.a)(b,2),p=m[0],v=m[1],y=Object(r.useState)(""),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)(""),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(new FormData),P=Object(u.a)(A,1)[0],L=Object(r.useState)(""),B=Object(u.a)(L,2),q=B[0],E=B[1],R=Object(r.useState)(!1),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)(""),W=Object(u.a)(J,2),H=W[0],V=W[1],Z=Object(r.useState)(!1),Q=Object(u.a)(Z,2),$=Q[0],ce=Q[1],ne=Object(r.useState)([]),re=Object(u.a)(ne,2),le=re[0],oe=re[1],je=Object(r.useState)(""),de=Object(u.a)(je,2),ue=(de[0],de[1]),be=Object(r.useState)(""),he=Object(u.a)(be,2),me=(he[0],he[1]),pe=Object(r.useState)(""),xe=Object(u.a)(pe,2),Oe=(xe[0],xe[1]),fe=Object(r.useState)(!1),ve=Object(u.a)(fe,2),ge=ve[0],Ne=ve[1],ye=Object(r.useState)([]),Se=Object(u.a)(ye,2),Ce=Se[0],we=Se[1],ke=Object(r.useState)([]),_e=Object(u.a)(ke,2),De=(_e[0],_e[1]),Ie=Object(r.useRef)(),Te=Object(lt.useReactToPrint)({content:function(){return Ie.current}});Object(r.useEffect)((function(){if(t.permissions.Department){var e=t.permissions.Department;we(e)}}),[M]),Object(r.useEffect)((function(){Ae(),Le()}),[]),Object(r.useEffect)((function(){ce(!0),Ye(t.school,t._id,a).then((function(e){for(var t=[],a=function(a){t.push({key:a,name:e[a].name,module:e[a].module,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return function(e,t,a){l(!0),w(t),T(e)}(e[a]._id,e[a].name,e[a].module)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+a+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return function(e){return Be.apply(this,arguments)}(e[a]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+a+1)]},a+1)})},c=0;c<e.length;c++)a(c);v(t),ce(!1)})).catch((function(e){console.log(e),G.b.error(ee),ce(!1)}))}),[M]);var Ae=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe(t.school,t._id);case 3:a=e.sent,De(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),G.b.error(X);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){j([{value:"ocean",label:"Ocean"},{value:"science",label:"Blue"},{value:"purple",label:"Purple"}])}),[M]);var Pe=[{title:"Name",dataIndex:"name",width:"30%",sorter:function(e,t){return e.name>t.name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.name.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",width:"10%",fixed:"right"}],Le=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:oe(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();function Be(){return Be=Object(d.a)(h.a.mark((function e(t){var a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fe(),c=a.user,n=a.token,e.prev=1,ce(!0),e.next=5,Ze(t,c._id,n);case 5:ce(!1),z(!M),G.b.success(Y),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),G.b.error(ae),ce(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Be.apply(this,arguments)}function qe(){return(qe=Object(d.a)(h.a.mark((function e(){var t,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Fe(),a=t.user,c=t.token,P.set("name",C),ce(!0),e.next=6,Ue(I,a._id,c,P);case 6:e.sent,l(!1),z(!M),ce(!1),G.b.success(U),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),ce(!1),G.b.error(te);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var Ee=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,n=a.token,e.prev=2,P.set("school",c.school),P.set("name",q),P.set("session",H),Ne(!0),e.next=9,Ge(c._id,n,P);case 9:if(!(r=e.sent).err){e.next=13;break}return Ne(!1),e.abrupt("return",G.b.error(r.err));case 13:Ne(!1),z(!M),E(""),V(""),me(""),Oe(""),ue(""),G.b.success("Deparment Added Successfully"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),Ne(!1),G.b.error("Something Went Wrong!");case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Department List",parentName:"Department Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(x.a,{children:[ge?Object(se.jsx)(ct,{}):Ce&&Ce.includes("add")&&Object(se.jsx)(O.a,{lg:"3",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(N.a,{onSubmit:Ee,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:function(e){return V(e.target.value)},children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),le&&le.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Department Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Department Name",type:"text",onChange:function(e){return E(e.target.value)},required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",style:{display:"flex",justifyContent:"center"},children:"Submit"})})})]})})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:!$&&p?Ce&&Ce.includes("export")?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Te,style:{float:"right"},children:"Print"}),Object(se.jsx)("div",{ref:Ie,children:Object(se.jsx)(tt,{columns:Pe,data:p,pagination:!0,exportFileName:"ClassDetails"})})]}):Object(se.jsx)(He.a,{style:{whiteSpace:"pre"},columns:Pe,dataSource:p,pagination:!0}):Object(se.jsx)(ct,{})})})})})]}),Object(se.jsxs)(ze.a,{isOpen:s,toggle:function(){return l(!1)},size:"lg",style:{height:"50vh"},scrollable:!0,children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:s?"Edit Form":"Create Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return l(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Department Name"}),Object(se.jsx)(k.a,{id:"form-department-name",value:C,onChange:function(e){return w(e.target.value)},placeholder:"School Address",type:"text"})]})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:function(){return qe.apply(this,arguments)},children:"Save changes"})})]})]})]})},mt=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)([]),s=Object(u.a)(n,2),l=s[0],o=s[1],i=Object(r.useState)(!1),j=Object(u.a)(i,2),b=j[0],m=j[1],p=Fe(),x=p.user,O=p.token,v=Object(r.useState)(""),N=Object(u.a)(v,2),y=(N[0],N[1],Object(r.useState)("")),S=Object(u.a)(y,2),C=(S[0],S[1],Object(r.useState)(!1)),w=Object(u.a)(C,2),_=w[0],F=w[1];Object(r.useEffect)((function(){D(),I()}),[_]);var D=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Ye(x.school,x._id,O);case 4:if(!(t=e.sent).err){e.next=7;break}return e.abrupt("return",G.b.error(t.err));case 7:c(t),m(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),G.b.error(ee),m(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),{school:x.school},e.next=5,Qe(x.school,x._id);case 5:if(!(t=e.sent).err){e.next=8;break}return e.abrupt("return",G.b.error(t.err));case 8:o(t),m(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),G.b.error(X),m(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),T=Object(r.useState)([]),A=Object(u.a)(T,2),P=(A[0],A[1],Object(r.useState)(new FormData)),L=(Object(u.a)(P,1)[0],function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var c,n,r,s,l,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a.target.value,""!==a.target.value){t.next=3;break}return t.abrupt("return");case 3:if("delete"!==a.target.value){t.next=28;break}return t.prev=4,(n=new FormData).set("id",e._id),n.set("removeSecondaryHead",!0),m(!0),t.next=11,Xe(e._id,x._id,O,n);case 11:return t.sent,(r=new FormData).set("isHead",!1),t.next=16,ut(e.secondary_head._id,x._id,r);case 16:t.sent,G.b.success("Secondary Head Removed"),F(!_),m(!1),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(4),console.log(t.t0),G.b.error("Error in removing Secondary Head"),m(!1);case 27:return t.abrupt("return");case 28:return(s=new FormData).set("secondary_head",a.target.value),t.prev=30,m(!0),t.next=34,Xe(e._id,x._id,O,s);case 34:if(t.sent,!e.secondary_head){t.next=49;break}return(l=new FormData).set("isHead",!1),t.next=40,ut(e.secondary_head._id,x._id,l);case 40:return t.sent,(o=new FormData).set("head",e._id),o.set("isHead",!0),t.next=46,ut(c,x._id,o);case 46:t.sent,t.next=55;break;case 49:return(i=new FormData).set("head",e._id),i.set("isHead",!0),t.next=54,ut(c,x._id,i);case 54:t.sent;case 55:F(!_),m(!1),G.b.success(Z),t.next=65;break;case 60:t.prev=60,t.t1=t.catch(30),m(!1),console.log(t.t1),G.b.error(ce);case 65:case"end":return t.stop()}}),t,null,[[4,22],[30,60]])})));return function(e){return t.apply(this,arguments)}}()});return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Dept Head",parentName:"Department Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{fluid:!0,className:"mt--6 shadow-lg",children:Object(se.jsx)(f.a,{className:"department-head-container",children:Object(se.jsx)(g.a,{children:Object(se.jsx)(Le.a,{className:"my-table",children:Object(se.jsx)("tbody",{children:b?Object(se.jsx)(ct,{}):Object(se.jsx)(se.Fragment,{children:a&&a.map((function(e){return Object(se.jsxs)("tr",{className:"teacher-table-row",children:[Object(se.jsx)("td",{className:"teacher-table-class",children:e.name}),Object(se.jsx)("td",{children:Object(se.jsxs)(k.a,{id:e._id,type:"select",onChange:(t=e,function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n,r,s,l,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.target.value,""!==a.target.value){e.next=3;break}return e.abrupt("return");case 3:if("delete"!==a.target.value){e.next=28;break}return e.prev=4,(n=new FormData).set("id",t._id),n.set("removePrimaryHead",!0),m(!0),e.next=11,Xe(t._id,x._id,O,n);case 11:return e.sent,(r=new FormData).set("isHead",!1),e.next=16,ut(t.primary_head._id,x._id,r);case 16:e.sent,G.b.success("Primary Head Removed"),F(!_),m(!1),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(4),console.log(e.t0),G.b.error("Error in Removing Primary Head"),m(!1);case 27:return e.abrupt("return");case 28:return(s=new FormData).set("primary_head",a.target.value),e.prev=30,m(!0),e.next=34,Xe(t._id,x._id,O,s);case 34:if(e.sent,l=new FormData,!t.primary_head){e.next=49;break}return l.set("isHead",!1),e.next=40,ut(t.primary_head._id,x._id,l);case 40:return e.sent,(o=new FormData).set("head",t._id),o.set("isHead",!0),e.next=46,ut(c,x._id,o);case 46:e.sent,e.next=54;break;case 49:return l.set("head",t._id),l.set("isHead",!0),e.next=53,ut(c,x._id,l);case 53:e.sent;case 54:F(!_),m(!1),G.b.success(Z),e.next=64;break;case 59:e.prev=59,e.t1=e.catch(30),console.log(e.t1),m(!1),G.b.error(ce);case 64:case"end":return e.stop()}}),e,null,[[4,22],[30,59]])})));return function(t){return e.apply(this,arguments)}}()),value:e.primary_head&&e.primary_head._id,placeholder:"Select Staff",children:[e.primary_head?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("option",{value:e.primary_head.firstname,children:[e.primary_head.firstname," ",e.primary_head.secondname," "]}),Object(se.jsx)("option",{value:"delete",style:{fontWeight:"500"},children:"Delete Primary Head"})]}):Object(se.jsx)("option",{value:"",children:"Primary Head"}),l&&l.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})}),Object(se.jsx)("td",{children:Object(se.jsxs)(k.a,{id:e._id,type:"select",onChange:L(e),value:e.secondary_head&&e.secondary_head._id,placeholder:"Select Staff",children:[e.secondary_head?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("option",{value:"",children:[e.secondary_head.firstname," ",e.secondary_head.secondname," "]}),Object(se.jsx)("option",{value:"delete",style:{fontWeight:"500"},children:"Delete Secondary Head"})]}):Object(se.jsx)("option",{value:"",children:"Secondary Head"}),l&&l.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})})]});var t}))})})})})})})]})},pt=a(784),xt=a(143),Ot=a.n(xt),ft=a(51),vt=a.n(ft),gt=a(52),Nt=a(71),yt=(a(187),function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/subject/all/").concat(t,"/").concat(e);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}),St=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c="".concat("http://35.174.4.42:5000","/api/school/subject/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ct=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/subject/edit/").concat(e,"/").concat(t);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},wt=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/subject/delete/").concat(e,"/").concat(t);return fetch(c,{method:"DELETE",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},kt=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/role/all/").concat(a,"/").concat(t));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),_t=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/role/create/").concat(t),a,"POST");case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/role/edit/").concat(a,"/").concat(t),c,"PUT");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/role/delete/").concat(a,"/").concat(t),{},"DELETE");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),It=a(19),Tt=a(21),At=a(18),Pt=a(24),Lt=a(27),Bt=a(6),qt=a.n(Bt),Et=["SelectComponent","required"],Rt=function(){},Kt=function(e){Object(Pt.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(Tt.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={value:e.props.value||""},e.selectRef=null,e.setSelectRef=function(t){e.selectRef=t},e.onChange=function(t,a){e.props.onChange(t,a),e.setState({value:t})},e.getValue=function(){return void 0!==e.props.value?e.props.value:e.state.value||""},e}return Object(At.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.SelectComponent,c=t.required,r=Object(It.a)(t,Et),s=!this.props.isDisabled;return Object(se.jsxs)("div",{children:[Object(se.jsx)(a,Object(n.a)(Object(n.a)({},r),{},{ref:this.setSelectRef,onChange:this.onChange})),s&&Object(se.jsx)("input",{tabIndex:-1,autoComplete:"off",style:{opacity:0,width:"100%",height:0,position:"absolute"},value:this.getValue(),onChange:Rt,onFocus:function(){return e.selectRef.focus()},required:c})]})}}]),a}(s.a.Component);Kt.defaultProps={onChange:Rt},Kt.protoTypes={selectComponent:qt.a.func.isRequired,onChange:qt.a.func,required:qt.a.bool};var Mt=Kt,zt=a(45);var Jt=function(){var e,t=Object(r.useState)(0),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Fe().user,o=Object(r.useState)(!1),i=Object(u.a)(o,2),b=i[0],m=i[1],p=Object(r.useState)((e={photo:"",firstname:"",lastname:"",email:"",phone:"",session:"",alternate_phone:"",date_of_birth:"",gender:"",birth_place:"",caste:"",religion:"",mother_tongue:""},Object(E.a)(e,"session",""),Object(E.a)(e,"bloodgroup",""),Object(E.a)(e,"joining_date",""),Object(E.a)(e,"present_address",""),Object(E.a)(e,"permanent_address",""),Object(E.a)(e,"state",""),Object(E.a)(e,"city",""),Object(E.a)(e,"country",""),Object(E.a)(e,"pincode",""),Object(E.a)(e,"contact_person_name",""),Object(E.a)(e,"contact_person_relation",""),Object(E.a)(e,"contact_person_phone",""),Object(E.a)(e,"contact_person_address",""),Object(E.a)(e,"contact_person_state",""),Object(E.a)(e,"contact_person_city",""),Object(E.a)(e,"contact_person_country",""),Object(E.a)(e,"contact_person_pincode",""),Object(E.a)(e,"assign_role",""),Object(E.a)(e,"assign_role_name",""),Object(E.a)(e,"job",""),Object(E.a)(e,"salary",""),Object(E.a)(e,"qualification",""),Object(E.a)(e,"department",""),Object(E.a)(e,"subject",""),Object(E.a)(e,"job_description",""),e)),v=Object(u.a)(p,2),S=v[0],C=v[1],w=Object(j.g)(),_=Object(r.useState)([]),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)([]),P=Object(u.a)(A,2),L=P[0],B=P[1],q=Object(r.useState)(""),R=Object(u.a)(q,2),K=(R[0],R[1],Object(r.useState)(new FormData)),M=Object(u.a)(K,1)[0],z=Object(r.useState)([]),J=Object(u.a)(z,2),W=J[0],H=J[1],V=Object(r.useState)([]),U=Object(u.a)(V,2),Y=U[0],Z=U[1],X=Object(r.useState)(),Q=Object(u.a)(X,2),te=Q[0],ae=Q[1],ce=new FileReader;Object(r.useEffect)((function(){ne(),we()}),[]);var ne=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kt(l._id,l.school);case 3:t=e.sent,T(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),re=function(e){return function(t){M.set(e,t.target.value),C(Object(n.a)(Object(n.a)({},S),{},Object(E.a)({},e,t.target.value)))}},le=function(e){return function(t){me("country"===e?Object(n.a)(Object(n.a)({},he),{},{country:t,state:null,city:null}):"state"===e?Object(n.a)(Object(n.a)({},he),{},{state:t,city:null}):Object(n.a)(Object(n.a)({},he),{},{city:t})),C(Object(n.a)(Object(n.a)({},S),{},Object(E.a)({},e,t.name))),M.set(e,t.name),C(Object(n.a)(Object(n.a)({},S),{},Object(E.a)({},e,t.name)))}},oe=function(e){return function(t){fe("contact_person_country"===e?Object(n.a)(Object(n.a)({},Oe),{},{contact_person_country:t,contact_person_state:null,contact_person_city:null}):"contact_person_state"===e?Object(n.a)(Object(n.a)({},Oe),{},{contact_person_state:t,contact_person_city:null}):Object(n.a)(Object(n.a)({},Oe),{},{contact_person_city:t})),C(Object(n.a)(Object(n.a)({},S),{},Object(E.a)({},e,t.name))),M.set(e,t.name),C(Object(n.a)(Object(n.a)({},S),{},Object(E.a)({},e,t.name)))}},je=function(e){e.preventDefault(),s((function(e){return e+1})),window.scrollTo(0,0)},de=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,n=a.token,M.set("school",c.school),e.prev=3,m(!0),e.next=7,ot(c._id,n,M);case 7:if(!(r=e.sent).err){e.next=13;break}return m(!1),e.abrupt("return",G.b.error(r.err));case 13:G.b.success("Staff Added successfully"),w.push("/admin/all-staffs");case 15:m(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),G.b.error("Add Student Failed"),m(!1);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),ue=Object(r.useState)({country:"",state:"",city:""}),be=Object(u.a)(ue,2),he=be[0],me=be[1],pe=Object(r.useState)({contact_person_country:"",contact_person_state:"",contact_person_city:""}),xe=Object(u.a)(pe,2),Oe=xe[0],fe=xe[1],ve=Nt.Country.getAllCountries().map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)})),ge=function(e){return Nt.State.getStatesOfCountry(e).map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)}))},Ne=function(e,t){return Nt.City.getCitiesOfState(e,t).map((function(e){return Object(n.a)({label:e.name,value:e.stateCode},e)}))};function ye(){return Se.apply(this,arguments)}function Se(){return Se=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,Ye(a.school,a._id,c);case 4:if(!(n=e.sent).err){e.next=7;break}return e.abrupt("return",G.b.error(n.err));case 7:H(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),G.b.error(ee),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Se.apply(this,arguments)}Object(r.useEffect)((function(){}),[he,Oe]),Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){var t,a,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==c){e.next=18;break}return e.next=3,ye();case 3:return t=Fe(),a=t.user,n=t.token,e.prev=4,e.next=7,yt(a._id,a.school,n);case 7:if(r=e.sent,s=[],r.map(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push({value:t.name,label:t.name});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!r.err){e.next=12;break}return e.abrupt("return",G.b.error($));case 12:Z(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),G.b.error("Something Went Wrong!");case 18:case"end":return e.stop()}}),e,null,[[4,15]])}))),[c]);var Ce,we=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:B(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ke=function(e){return Object(se.jsx)(Mt,Object(n.a)(Object(n.a)({},e),{},{SelectComponent:zt.a,options:e.options}))};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Staff",parentName:"Staff Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:b?Object(se.jsx)(ct,{}):Object(se.jsxs)(f.a,{className:"mb-4 bg-transparent",children:[Object(se.jsxs)(Te.a,{className:"Step_Header",children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){ae(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),te&&(ce.onload=function(e){e.target.result},ce.readAsText(te))}(e)},color:"primary",children:"IMPORT CSV"})]})})}),Object(se.jsx)(x.a,{className:"d-flex justify-content-center",children:Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(gt.b,{activeStep:c,styleConfig:{activeBgColor:"#e56813",completedBgColor:"#1cdc23",size:"3em"},children:[Object(se.jsx)(gt.a,{label:"Staff Member Details"}),Object(se.jsx)(gt.a,{label:"Residential Details"}),Object(se.jsx)(gt.a,{label:"Contact Details"}),Object(se.jsx)(gt.a,{label:"Occupational Details"})]})})})]}),0===c&&Object(se.jsx)(N.a,{onSubmit:je,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[S.photo.name&&Object(se.jsxs)("h2",{children:["File ",S.photo.name," is Selected"]}),Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",onChange:(Ce="photo",function(e){M.set(Ce,e.target.files[0]),C(Object(n.a)(Object(n.a)({},S),{},Object(E.a)({},Ce,e.target.files[0])))}),accept:"image/*"}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:re("session"),children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),L&&L.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Date of Joining"}),Object(se.jsx)(vt.a,{dateFormat:"dd-mm-yy",placeholderText:"dd/mm/yy"})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"First Name",type:"text",onChange:re("firstname"),value:S.firstname,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:re("lastname"),value:S.lastname,required:!0})]})]}),Object(se.jsx)("br",{}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{cl:!0,ssName:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:re("date_of_birth"),value:S.date_of_birth,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Gender"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:re("gender"),value:S.gender,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Gender"}),Object(se.jsx)("option",{children:"Male"}),Object(se.jsx)("option",{children:"Female"})]})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Email"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Email",onChange:re("email"),value:S.email,type:"email",required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",oninvalid:"this.setCustomValidity('Witinnovation')",onvalid:"this.setCustomValidity('')"})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Contact Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Contact Number",type:"number",onChange:re("phone"),pattern:"[1-9]{1}[0-9]{9}",value:S.phone,required:!0,oninvalid:"this.setCustomValidity('Witinnovation')",onvalid:"this.setCustomValidity('')"})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Alternate Contact Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Alternate Contact Number",onChange:re("alternate_phone"),value:S.alternate_phone,type:"number",pattern:"[1-9]{1}[0-9]{9}",required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:re("bloodgroup"),value:S.bloodgroup,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Blood Group"}),Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Birth Place"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Birth Place",onChange:re("birth_place"),value:S.birth_place,type:"text",required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Caste"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Caste",type:"text",onChange:re("caste"),value:S.caste,required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Religion"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Religion",type:"text",onChange:re("religion"),value:S.religion,required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:re("mother_tongue"),value:S.mother_tongue,required:!0})]})]}),Object(se.jsx)(x.a,{className:"mt-4 float-right mr-4",children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})]})}),1===c&&Object(se.jsx)(N.a,{onSubmit:je,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Present Address",type:"text",onChange:re("present_address"),value:S.present_address,required:!0})]})}),Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Permanent Address",onChange:re("permanent_address"),value:S.permanent_address,type:"text",required:!0})]})}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",onChange:re("pincode"),value:S.pincode,type:"number",required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Country"}),Object(se.jsx)(ke,{id:"country",name:"country",label:"country",options:ve,required:!0,value:he.country,onChange:le("country")})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"State"}),Object(se.jsx)(ke,{id:"state",name:"state",label:"state",options:ge(he.country?he.country.isoCode:null),required:!0,value:he.state,onChange:le("state")})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"City"}),Object(se.jsx)(ke,{id:"city",name:"city",label:"city",options:he.state?Ne(he.country.value,he.state.value):Ne(null,null),required:!0,value:he.city,onChange:le("city")})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){s((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),2===c&&Object(se.jsx)(N.a,{onSubmit:je,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols1Input",children:"Contact Person Name"}),Object(se.jsx)(k.a,{id:"example4cols1Input",placeholder:"Name",type:"text",onChange:re("contact_person_name"),value:S.contact_person_name,required:!0})]}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Relation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Relation",type:"text",onChange:re("contact_person_relation"),value:S.contact_person_relation,required:!0})]})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Contact Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Contact Number",onChange:re("contact_person_phone"),value:S.contact_person_phone,type:"number",pattern:"[1-9]{1}[0-9]{9}",required:!0})]})})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Address",type:"text",onChange:re("contact_person_address"),value:S.contact_person_address,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Number",type:"number",onChange:re("contact_person_pincode"),value:S.contact_person_pincode,required:!0})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Country"}),Object(se.jsx)(ke,{id:"country",name:"country",label:"country",options:ve,required:!0,value:Oe.contact_person_country,onChange:oe("contact_person_country")})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"State"}),Object(se.jsx)(ke,{id:"state",name:"state",label:"state",options:ge(Oe.contact_person_country?Oe.contact_person_country.isoCode:null),required:!0,value:Oe.contact_person_state,onChange:oe("contact_person_state")})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"City"}),Object(se.jsx)(ke,{id:"city",name:"city",label:"city",options:Oe.contact_person_state?Ne(Oe.contact_person_country.value,Oe.contact_person_state.value):Ne(null,null),required:!0,value:Oe.contact_person_city,onChange:oe("contact_person_city")})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){s((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),3===c&&Object(se.jsx)(N.a,{onSubmit:de,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Department"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:re("department"),value:S.department,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Department"}),W.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name})}))]})]})}),S.department&&Object(se.jsxs)(x.a,{className:"mt-2 mb-2",children:[Object(se.jsx)(O.a,{md:"6",children:Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Role"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:function(e){return function(t){var a,c=JSON.parse(t.target.value);M.set(e,c._id),C(Object(n.a)(Object(n.a)({},S),{},(a={},Object(E.a)(a,e,c._id),Object(E.a)(a,"assign_role_name",c.name),a)))}}("assign_role"),value:S.assign_role,required:!0,children:[""!==S.assign_role_name?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("option",{value:S.assign_role_name,selected:!0,children:S.assign_role_name}),Object(se.jsx)("hr",{})]}):Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Role"}),I&&I.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]})}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Salary"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Salary",type:"number",onChange:re("salary"),value:S.salary,required:!0})]})]}),"Teacher"===S.assign_role_name?Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Subject"}),Object(se.jsx)(ke,{isMulti:!0,name:"colors",options:Y,onChange:function(e){for(var t=[],a=0,c=e.length;a<c;a++)t.push(e[a].value);M.set("subject",JSON.stringify(t))},className:"basic-multi-select",classNamePrefix:"select",required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Highest Qualification"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Highest Qualification",onChange:re("qualification"),value:S.qualification,type:"text",required:!0})]})]}):null,""!==S.assign_role_name&&"Teacher"!==S.assign_role_name&&Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"12",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Job Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Job Name",type:"text",onChange:re("job"),value:S.job,required:!0})]})}),Object(se.jsx)(O.a,{md:"12",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Job Description"}),Object(se.jsx)(Ot.a,{id:"example4cols3Input",placeholder:"Job Description",type:"text",onChange:re("job_description"),value:S.job_description,required:!0})]})})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){s((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),S.department&&S.assign_role_name&&Object(se.jsx)(F.a,{className:"mr-4",color:"success",type:"submit",children:"Submit"})]})]})})]})})]})},Wt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c="".concat("http://35.174.4.42:5000","/api/school/student/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ht=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/student/all/").concat(e,"/").concat(t);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},Vt=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/student/delete/").concat(t,"/").concat(a),{},"DELETE");case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/student/edit/").concat(t,"/").concat(a),c,"PUT");case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Ut=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/student/parent/check/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:a.type,email:a.email})}).then((function(e){return e.json()})).catch((function(e){throw e}))},Yt=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/student/custom/all/").concat(t,"/").concat(a),JSON.stringify(c),"POST");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}();a(333),a(248);var Zt=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(q.c)((function(e){return e.classReducer})).classes,o=Object(j.g)(),i=Object(r.useState)([]),b=Object(u.a)(i,2),m=b[0],p=b[1],v=Object(r.useState)(""),S=Object(u.a)(v,2),C=S[0],w=S[1],_=Object(r.useState)(!1),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)({photo:"",joining_date:"",firstname:"",lastname:"",date_of_birth:"",gender:"",aadhar_number:"",email:"",phone:"",alternate_phone:"",birth_place:"",caste:"",religion:"",bloodgroup:"",class:"",section:"",session:"",roll_number:"",previous_school:"",present_address:"",permanent_address:"",pincode:"",parent_address:"",parent_email:"",connected:null,connectedID:"",country:"",state:"",city:"",nationality:"",mother_tongue:"",contact_person_select:"",guardian_name:"",guardian_last_name:"",guardian_dob:"",guardian_email:"",guardian_address:"",guardian_blood_group:"",guardian_phone:"",guardian_pincode:"",guardian_nationality:"",guardian_mother_tongue:"",father_name:"",father_last_name:"",father_dob:"",father_blood_group:"",father_phone:"",father_pincode:"",father_nationality:"",father_mother_tongue:"",mother_name:"",mother_last_name:"",mother_dob:"",mother_blood_group:"",mother_phone:"",mother_pincode:"",mother_nationality:"",mother_mother_tongue:""}),P=Object(u.a)(A,2),L=P[0],B=P[1],R=Object(r.useState)(!1),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)({}),W=Object(u.a)(J,2),H=W[0],V=W[1],U=Object(r.useState)(new FormData),Y=Object(u.a)(U,1)[0],Z=Object(r.useState)(),X=Object(u.a)(Z,2),Q=X[0],$=X[1],ee=new FileReader;s.a.useEffect((function(){ce()}),[]);var te,ae,ce=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:p(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){return function(t){if(Y.set(e,t.target.value),B(Object(n.a)(Object(n.a)({},L),{},Object(E.a)({},e,t.target.value))),"class"===e){var a=l.find((function(e){return e._id.toString()===t.target.value.toString()}));V(a)}}},re=function(e){B(Object(n.a)(Object(n.a)({},L),{},Object(E.a)({},e,""))),Y.delete(e)},le=function(e){return function(t){me("country"===e?Object(n.a)(Object(n.a)({},he),{},{country:t,state:null,city:null}):"state"===e?Object(n.a)(Object(n.a)({},he),{},{state:t,city:null}):Object(n.a)(Object(n.a)({},he),{},{city:t})),B(Object(n.a)(Object(n.a)({},L),{},Object(E.a)({},e,t.name))),Y.set(e,t.name),B(Object(n.a)(Object(n.a)({},L),{},Object(E.a)({},e,t.name)))}},oe=function(e){e.preventDefault(),c((function(e){return e+1})),window.scrollTo(0,0)},je=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,n={type:C,email:"parent"===C?L.parent_email:L.guardian_email},e.prev=2,e.next=5,Ut(a._id,c,n);case 5:(r=e.sent).err&&G.b.error(r.err),!1===r.status?G.b.sucess("Email verified"):(T(!0),L.connectedID=r.id,G.b.success("You Can Connect the Student ")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),G.b.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,n=a.token,Y.set("school",c.school),e.prev=3,z(!0),e.next=7,Wt(c._id,n,Y);case 7:if(!(r=e.sent).err){e.next=13;break}return z(!1),e.abrupt("return",G.b.error(r.err));case 13:G.b.success("Student added successfully"),z(!1),o.push("/admin/all-students");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),z(!1),G.b.error("Something Went Wrong");case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),ue=Object(r.useState)({country:"",state:"",city:""}),be=Object(u.a)(ue,2),he=be[0],me=be[1],pe=Nt.Country.getAllCountries().map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)})),xe=function(e,t){return Nt.City.getCitiesOfState(e,t).map((function(e){return Object(n.a)({label:e.name,value:e.stateCode},e)}))};return Object(r.useEffect)((function(){}),[he]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Student",parentName:"Student Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:M?Object(se.jsx)(ct,{}):Object(se.jsxs)(f.a,{className:"mb-4 bg-transparent",children:[Object(se.jsxs)(Te.a,{className:"Step_Header",children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-2",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){$(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),Q&&(ee.onload=function(e){e.target.result},ee.readAsText(Q))}(e)},color:"primary",children:"IMPORT CSV"})]})})}),Object(se.jsx)(x.a,{className:"d-flex justify-content-center",children:Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(gt.b,{activeStep:a,styleConfig:{activeBgColor:"#e56813",completedBgColor:"#1cdc23",size:"3em"},children:[Object(se.jsx)(gt.a,{label:"Student Details"}),Object(se.jsx)(gt.a,{label:"Admission Details"}),Object(se.jsx)(gt.a,{label:"Address Details"}),Object(se.jsx)(gt.a,{label:"Contact Person Details"})]})})})]}),0===a&&Object(se.jsx)(N.a,{onSubmit:oe,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[L.photo.name&&Object(se.jsxs)("h2",{children:["File ",L.photo.name," is Selected"]}),Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",accept:"photo/*",onChange:(ae="photo",function(e){Y.set(ae,e.target.files[0]),B(Object(n.a)(Object(n.a)({},L),{},Object(E.a)({},ae,e.target.files[0])))}),required:!0}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:ne("session"),children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),m&&m.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Date of Joining"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:ne("joining_date"),value:L.joining_date,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"First Name",type:"text",onChange:ne("firstname"),value:L.firstname,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:ne("lastname"),value:L.lastname,required:!0})]})]}),Object(se.jsx)("br",{}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:ne("date_of_birth"),value:L.date_of_birth,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Gender"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("gender"),required:!0,value:L.gender,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Gender"}),Object(se.jsx)("option",{children:"Male"}),Object(se.jsx)("option",{children:"Female"})]})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Aadhar Card Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Aadhar Card Number",type:"number",onChange:ne("aadhar_number"),pattern:"[0-9]{1,12}",value:L.aadhar_number,required:!0})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Email"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Email",type:"text",onChange:ne("email"),required:!0,value:L.email,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Phone Number",type:"number",pattern:"[1-9]{1}[0-9]{9}",onChange:ne("phone"),required:!0,value:L.phone})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Alternate Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Alternate Phone Number",type:"number",pattern:"[1-9]{1}[0-9]{9}",onChange:ne("alternate_phone"),required:!0,value:L.alternate_phone})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Birth Place"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Birth Place",type:"text",onChange:ne("birth_place"),required:!0,value:L.birth_place})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Caste"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Caste",type:"text",onChange:ne("caste"),required:!0,value:L.caste})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Religion"}),Object(se.jsx)(k.a,{id:"exampleFormControlSelect3",type:"text",onChange:ne("religion"),required:!0,value:L.religion,placeholder:"Religion"})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("bloodgroup"),required:!0,value:L.bloodgroup,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Blood Group"}),Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]})]}),Object(se.jsx)(x.a,{className:"mt-4 float-right mr-4",children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})]})}),1===a&&Object(se.jsx)(N.a,{onSubmit:oe,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Class"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,onChange:ne("class"),value:L.class,children:[Object(se.jsx)("option",{value:"",children:"Select Class"}),l&&l.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Section"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,onChange:ne("section"),value:L.section,children:[Object(se.jsx)("option",{value:"",children:"Select Section"}),H.section&&H.section.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Roll Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Roll Number",type:"number",onChange:ne("roll_number"),required:!0,value:L.roll_number})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Previous School"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Previous School",type:"text",onChange:ne("previous_school"),required:!0,value:L.previous_school})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){c((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),2===a&&Object(se.jsx)(N.a,{onSubmit:oe,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Present Address",type:"text",onChange:ne("present_address"),required:!0,value:L.present_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Permanent Address",type:"text",onChange:ne("permanent_address"),required:!0,value:L.permanent_address})]})})}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:ne("pincode"),required:!0,value:L.pincode})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Country"}),Object(se.jsx)(zt.a,{id:"country",name:"country",label:"country",options:pe,required:!0,value:he.country,onChange:le("country")})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"State"}),Object(se.jsx)(zt.a,{id:"state",name:"state",label:"state",options:(te=he.country?he.country.isoCode:null,Nt.State.getStatesOfCountry(te).map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)}))),required:!0,value:he.state,onChange:le("state")})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"City"}),Object(se.jsx)(zt.a,{id:"city",name:"city",label:"city",options:he.state?xe(he.country.value,he.state.value):xe(null,null),required:!0,value:he.city,onChange:le("city")})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:ne("nationality"),required:!0,value:L.nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:ne("mother_tongue"),required:!0,value:L.mother_tongue})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){c((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),3===a&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(g.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsxs)("div",{style:{width:"300px"},children:[Object(se.jsx)("label",{className:"form-control-label",children:"Contact Person"}),Object(se.jsx)(zt.a,{defaultValue:L.contact_person_select,options:[{label:"Guardian",value:"guardian"},{label:"Parent",value:"parent"}],onChange:function(e){!function(e){w(e.value),"guardian"===e.value?(re("father_name"),re("father_last_name"),re("father_dob"),re("father_blood_group"),re("father_phone"),re("father_address"),re("father_permanent_address"),re("father_pincode"),re("father_nationality"),re("father_mother_tongue"),re("mother_name"),re("mother_last_name"),re("mother_dob"),re("mother_blood_group"),re("mother_phone"),re("mother_address"),re("mother_permanent_address"),re("mother_pincode"),re("mother_nationality"),re("mother_mother_tongue")):"parent"===e.value&&(re("guardian_name"),re("guardian_last_name"),re("guardian_dob"),re("guardian_blood_group"),re("guardian_phone"),re("guardian_address"),re("guardian_permanent_address"),re("guardian_pincode"),re("guardian_nationality"),re("guardian_mother_tongue")),B(Object(n.a)(Object(n.a)({},L),{},{contact_person_select:e}))}(e)}})]})})})}),Object(se.jsxs)(N.a,{onSubmit:de,className:"mb-4",children:["parent"===L.contact_person_select.value?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Parent Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Parent Address",type:"text",onChange:ne("parent_address"),required:!0,value:L.parent_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Parent Email"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Parent Address",type:"email",onChange:ne("parent_email"),required:!0,value:L.parent_email,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"})]})})}),I&&Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Connected"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("connected"),required:!0,value:L.connected,children:[Object(se.jsx)("option",{disabled:!0,value:"",children:"Connect"}),Object(se.jsx)("option",{value:!0,children:"Yes"}),Object(se.jsx)("option",{value:!1,children:"No"})]})]})})}),"true"===L.connected&&Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Connection"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"connection",type:"text",onChange:ne("connectedID"),required:!0,disabled:!0,value:L.connectedID})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"danger",onClick:je,children:"Check"})})}),Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)("h2",{children:"Father Details"})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"First Name",type:"text",onChange:ne("father_name"),required:!0,value:L.father_name})]})}),Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:ne("father_last_name"),required:!0,value:L.father_last_name})]})})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:ne("father_dob"),required:!0,value:L.father_dob})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("father_blood_group"),required:!0,value:L.father_blood_group,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Blood Group"}),Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Phone Number",type:"number",pattern:"[1-9]{1}[0-9]{9}",onChange:ne("father_phone"),required:!0,value:L.father_phone})]})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:ne("father_pincode"),required:!0,value:L.father_pincode})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:ne("father_nationality"),required:!0,value:L.father_nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:ne("father_mother_tongue"),required:!0,value:L.father_mother_tongue})]})]})]}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)("h2",{children:"Mother Details"})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"First Name",type:"text",onChange:ne("mother_name"),required:!0,value:L.mother_name})]})}),Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:ne("mother_last_name"),required:!0,value:L.mother_last_name})]})})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:ne("mother_dob"),required:!0,value:L.mother_dob})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("mother_blood_group"),required:!0,value:L.mother_blood_group,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Blood Group"}),Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Phone Number",type:"number",pattern:"[1-9]{1}[0-9]{9}",onChange:ne("mother_phone"),required:!0,value:L.mother_phone})]})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:ne("mother_pincode"),required:!0,value:L.mother_pincode})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:ne("mother_nationality"),required:!0,value:L.mother_nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:ne("mother_mother_tongue"),required:!0,value:L.mother_mother_tongue})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){c((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"success",type:"submit",children:"Submit"})]})]})]}):null,"guardian"===L.contact_person_select.value?Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Guardian Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Guardian Address",type:"text",onChange:ne("guardian_address"),required:!0,value:L.guardian_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Guardian Email"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Guardian Address",type:"text",onChange:ne("guardian_email"),required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",value:L.guardian_email})]})})}),I&&Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Connected"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("connected"),required:!0,value:L.connected,children:[Object(se.jsx)("option",{disabled:!0,value:"",children:"Connect"}),Object(se.jsx)("option",{value:!0,children:"Yes"}),Object(se.jsx)("option",{value:!1,children:"No"})]})]})})}),"true"===L.connected&&Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Connection"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"connection",type:"text",onChange:ne("connectedID"),required:!0,disabled:!0,value:L.connectedID})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"danger",onClick:je,children:"Check"})})}),Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)("h2",{children:"Guardian Details"})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"First Name",type:"text",onChange:ne("guardian_name"),required:!0,value:L.guardian_name})]})}),Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:ne("guardian_last_name"),required:!0,value:L.guardian_last_name})]})})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:ne("guardian_dob"),required:!0,value:L.guardian_dob})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:ne("guardian_blood_group"),required:!0,value:L.guardian_blood_group,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Blood Group"}),Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Phone Number",type:"number",pattern:"[1-9]{1}[0-9]{9}",onChange:ne("guardian_phone"),required:!0,value:L.guardian_phone})]})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:ne("guardian_pincode"),required:!0,value:L.guardian_pincode})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:ne("guardian_nationality"),required:!0,value:L.guardian_nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:ne("guardian_mother_tongue"),required:!0,value:L.guardian_mother_tongue})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){c((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"success",type:"submit",children:"Submit"})]})]})}):null]})]})]})})]})},Xt=a(785),Qt=a(786),$t=a(787),ea=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/doc/details/view/").concat(t,"/").concat(a));case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),ta=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/doc/details/edit/").concat(t,"/").concat(a),c,"PUT");case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,c){return e.apply(this,arguments)}}(),aa=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/admin/detail/edit/").concat(t),a,"PUT");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ca=a(85);var na=function(){var e=Object(r.useState)("1"),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)({}),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Fe().user,y=Object(r.useState)(new FormData),S=Object(u.a)(y,1)[0],C=Object(r.useState)(!1),w=Object(u.a)(C,2),_=w[0],D=w[1],I=Object(r.useState)(!1),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)({school_name:"",abbreviation:"",school_address:"",pin_code:"",country:"",city:"",state:"",school_email:"",primary_contact_no:"",telephone:"",fax_no:"",affiliate_board:""}),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)([]),M=Object(u.a)(K,2),z=M[0],J=M[1],W=Object(r.useState)(!1),H=Object(u.a)(W,2),V=H[0],U=H[1];Object(r.useEffect)((function(){if(v.permissions["School Profile Module"]){var e=v.permissions["School Profile Module"];J(e)}}),[]),Object(r.useEffect)((function(){Y()}),[_]);var Y=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,ea(v.school,v._id);case 4:t=e.sent,a=t.data,i(a),R(Object(n.a)(Object(n.a)({},q),{},{school_name:a.schoolname,abbreviation:a.abbreviation,school_address:a.address,pin_code:a.pincode,country:a.country,city:a.city,state:a.state,school_email:a.email,primary_contact_no:a.phone,telephone:a.telephone,fax_no:"",affiliate_board:a.affiliate_board})),P(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),P(!1),G.b.error(ne);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e){return function(t){R(Object(n.a)(Object(n.a)({},q),{},Object(E.a)({},e,t.target.value)))}},X=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S.set("schoolname",q.school_name),S.set("abbreviation",q.abbreviation),S.set("address",q.school_address),S.set("affiliate_board",q.affiliate_board),S.set("city",q.city),S.set("country",q.country),S.set("email",q.school_email),S.set("phone",q.primary_contact_no),S.set("pincode",q.pin_code),S.set("state",q.state),S.set("telephone",q.telephone),e.prev=12,U(!0),e.next=16,ta(v.school,v._id,S);case 16:e.sent,p(!1),D(!_),U(!1),G.b.success("Update School Profile Success"),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(12),console.log(e.t0),U(!1),G.b.error("Update School Profile Failed");case 28:case"end":return e.stop()}}),e,null,[[12,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"School Profile"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ze.a,{style:{height:"75vh"},isOpen:m,toggle:function(){return p(!1)},size:"lg",scrollable:!0,children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:m?"Event List":""}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return p(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),V?Object(se.jsx)(ct,{}):Object(se.jsx)(Je.a,{children:Object(se.jsxs)(N.a,{onSubmit:X,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"School Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("school_name"),value:q.school_name,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Abbreviation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("abbreviation"),value:q.abbreviation,required:!0})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Affiliated Board"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("affiliate_board"),value:q.affiliate_board,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"School Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("school_address"),value:q.school_address,required:!0})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("pin_code"),value:q.pin_code,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Country"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("country"),value:q.country,required:!0})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"State"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("state"),value:q.state,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"City"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("city"),value:q.city,required:!0})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"SchoolEmail"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("school_email"),value:q.school_email,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Primary Contact No"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("primary_contact_no"),value:q.primary_contact_no,required:!0})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Telephone"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Z("telephone"),value:q.telephone,required:!0})]})}),Object(se.jsx)(F.a,{color:"success",type:"submit",className:"mt-2 mb-2",style:{float:"right"},children:"Save changes"})]})})]}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:A?Object(se.jsx)(ct,{}):Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)(Xt.a,{alt:"...",src:"https://trancaes.files.wordpress.com/2015/09/school-logo-new.jpg",top:!0,className:"p-4",style:{width:"80%",height:"100%"}})}),Object(se.jsxs)(g.a,{className:"mt-0",children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-0 mb-1",children:"School Name"}),Object(se.jsx)("span",{className:"text-md",children:o.schoolname})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Abbreviation"}),Object(se.jsx)("span",{className:"text-md",children:o.abbreviation})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Affiliated Board"}),Object(se.jsx)("span",{className:"text-md",children:o.affiliate_board})]})})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===a?"active":"",onClick:function(){return c("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===a?"active":"",onClick:function(){return c("2")},children:"Contact"})})]})}),z&&z.includes("edit")&&Object(se.jsx)(O.a,{className:"text-right",children:Object(se.jsx)(F.a,{className:"btn-icon",color:"primary",type:"button",onClick:function(){return p(!0)},children:Object(se.jsx)("span",{className:"btn-inner--icon",children:Object(se.jsx)(ca.a,{})})})})]})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(Qt.a,{activeTab:a,children:[Object(se.jsx)($t.a,{tabId:"1",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"School Address"}),Object(se.jsx)("small",{children:o.address})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Pin Code"}),Object(se.jsx)("small",{children:o.pincode})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Country"}),Object(se.jsx)("small",{children:o.country})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"City"}),Object(se.jsx)("small",{children:o.city})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"State"}),Object(se.jsx)("small",{children:o.state})]})})})})]})]})}),Object(se.jsx)($t.a,{tabId:"2",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"School Email"}),Object(se.jsx)("small",{children:o.email})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Primary Contact Number"}),Object(se.jsxs)("small",{children:["+91 ",o.phone]})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Telephone"}),Object(se.jsx)("small",{children:o.telephone})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Fax No."}),Object(se.jsx)("small",{children:"+91 123456789"})]})})})})]})]})})]})})]})})})]})})]})};var ra=function(){var e=Object(r.useState)("1"),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Fe().user;return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Student Profile"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Xt.a,{alt:"...",src:"https://colorlib.com/polygon/kiaalap/img/profile/1.jpg",top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Name"}),Object(se.jsx)("span",{className:"text-md",children:n.firstname+" "+n.lastname})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsx)("span",{className:"text-md",children:n.phone})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Address"}),Object(se.jsx)("span",{className:"text-md",children:"Not Available"})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Email"}),Object(se.jsx)("span",{className:"text-md",children:n.email})]})]})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===a?"active":"",onClick:function(){return c("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===a?"active":"",onClick:function(){return c("2")},children:"Documents"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"3"===a?"active":"",onClick:function(){return c("3")},children:"Attendance"})})]})}),Object(se.jsx)(O.a,{className:"text-right",children:Object(se.jsx)(F.a,{className:"btn-icon",color:"primary",type:"button",children:Object(se.jsx)("span",{className:"btn-inner--icon",children:Object(se.jsx)(ca.a,{})})})})]})}),Object(se.jsx)(g.a,{children:Object(se.jsx)(x.a,{className:"ml-2",children:Object(se.jsxs)(Qt.a,{activeTab:a,children:[Object(se.jsx)($t.a,{tabId:"1",children:"Details"}),Object(se.jsx)($t.a,{tabId:"2",children:"Documents"}),Object(se.jsx)($t.a,{tabId:"3",children:"Attendance"})]})})})]})})})]})})]})};var sa=function(){var e=Object(r.useState)("1"),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Fe().user;return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Staff Profile"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Xt.a,{alt:"...",src:"https://colorlib.com/polygon/kiaalap/img/profile/1.jpg",top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Name"}),Object(se.jsx)("span",{className:"text-md",children:n.firstname+" "+n.lastname})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsx)("span",{className:"text-md",children:n.phone})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Address"}),Object(se.jsx)("span",{className:"text-md",children:"Not Available"})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Email"}),Object(se.jsx)("span",{className:"text-md",children:n.email})]})]})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===a?"active":"",onClick:function(){return c("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===a?"active":"",onClick:function(){return c("2")},children:"Documents"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"3"===a?"active":"",onClick:function(){return c("3")},children:"Attendance"})})]})}),Object(se.jsx)(O.a,{className:"text-right",children:Object(se.jsx)(F.a,{className:"btn-icon",color:"primary",type:"button",children:Object(se.jsx)("span",{className:"btn-inner--icon",children:Object(se.jsx)(ca.a,{})})})})]})}),Object(se.jsx)(g.a,{children:Object(se.jsx)(x.a,{className:"ml-2",children:Object(se.jsxs)(Qt.a,{activeTab:a,children:[Object(se.jsx)($t.a,{tabId:"1",children:"Details"}),Object(se.jsx)($t.a,{tabId:"2",children:"Documents"}),Object(se.jsx)($t.a,{tabId:"3",children:"Attendance"})]})})})]})})})]})})]})};var la=function(){var e=Object(r.useState)("1"),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Fe().user;return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Student Profile"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Xt.a,{alt:"...",src:"https://colorlib.com/polygon/kiaalap/img/profile/1.jpg",top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Name"}),Object(se.jsx)("span",{className:"text-md",children:n.firstname+" "+n.lastname})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsx)("span",{className:"text-md",children:n.phone})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Address"}),Object(se.jsx)("span",{className:"text-md",children:"Not Available"})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Email"}),Object(se.jsx)("span",{className:"text-md",children:n.email})]})]})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===a?"active":"",onClick:function(){return c("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===a?"active":"",onClick:function(){return c("2")},children:"Documents"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"3"===a?"active":"",onClick:function(){return c("3")},children:"Attendance"})})]})}),Object(se.jsx)(O.a,{className:"text-right",children:Object(se.jsx)(F.a,{className:"btn-icon",color:"primary",type:"button",children:Object(se.jsx)("span",{className:"btn-inner--icon",children:Object(se.jsx)(ca.a,{})})})})]})}),Object(se.jsx)(g.a,{children:Object(se.jsx)(x.a,{className:"ml-2",children:Object(se.jsxs)(Qt.a,{activeTab:a,children:[Object(se.jsx)($t.a,{tabId:"1",children:"Details"}),Object(se.jsx)($t.a,{tabId:"2",children:"Documents"}),Object(se.jsx)($t.a,{tabId:"3",children:"Attendance"})]})})})]})})})]})})]})};var oa=function(){var e=Object(r.useState)("1"),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)({}),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Fe().user,y=Object(r.useState)(new FormData),S=Object(u.a)(y,1)[0],C=Object(r.useState)(!1),w=Object(u.a)(C,2),_=w[0],D=(w[1],Object(r.useState)(!1)),I=Object(u.a)(D,2),T=I[0],A=I[1],P=Object(r.useState)({firstname:"",lastname:"",email:"",phone:""}),L=Object(u.a)(P,2),B=L[0],q=L[1],R=Object(r.useState)([]),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)(!1),W=Object(u.a)(J,2),H=W[0],V=W[1];Object(r.useEffect)((function(){if(v.permissions["School Profile Module"]){var e=v.permissions["School Profile Module"];z(e)}}),[]),Object(r.useEffect)((function(){U()}),[_]);var U=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,ea(v.school,v._id);case 4:t=e.sent,a=t.data,i(a),q(Object(n.a)(Object(n.a)({},B),{},{firstname:v.firstname,lastname:v.lastname,email:v.email,phone:v.phone})),A(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),A(!1),G.b.error(ne);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return function(t){q(Object(n.a)(Object(n.a)({},B),{},Object(E.a)({},e,t.target.value)))}},Z=function(){var e=Object(d.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S.set("firstname",B.firstname),S.set("lastname",B.lastname),S.set("email",B.email),S.set("phone",B.phone),e.prev=5,V(!0),e.next=9,aa(v._id,S);case 9:a=e.sent,q(Object(n.a)(Object(n.a)({},B),{},{firstname:a.firstname,lastname:a.lastname,email:a.email,phone:a.phone})),p(!1),V(!1),G.b.success("Profile Updated Successfully"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0),V(!1),G.b.error("Error Updating Profile");case 21:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"School Profile"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ze.a,{style:{height:"75vh"},isOpen:m,toggle:function(){return p(!1)},size:"lg",scrollable:!0,children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:m?"Event List":""}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return p(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),H?Object(se.jsx)(ct,{}):Object(se.jsx)(Je.a,{children:Object(se.jsxs)(N.a,{onSubmit:Z,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Y("firstname"),value:B.firstname,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Y("lastname"),value:B.lastname,required:!0})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Email"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Y("email"),value:B.email,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Phone"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Y("phone"),value:B.phone,required:!0})]})]}),Object(se.jsx)(F.a,{color:"success",type:"submit",className:"mt-2 mb-2",style:{float:"right"},children:"Save changes"})]})})]}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:T?Object(se.jsx)(ct,{}):Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)(Xt.a,{alt:"...",src:"https://trancaes.files.wordpress.com/2015/09/school-logo-new.jpg",top:!0,className:"p-4",style:{width:"80%",height:"100%"}})}),Object(se.jsxs)(g.a,{className:"mt-0",children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-0 mb-1",children:"Name"}),Object(se.jsxs)("span",{className:"text-md",children:[v.firstname," ",v.lastname]})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Email"}),Object(se.jsx)("span",{className:"text-md",children:v.email})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsx)("span",{className:"text-md",children:v.phone})]})})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===a?"active":"",onClick:function(){return c("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===a?"active":"",onClick:function(){return c("2")},children:"Contact"})})]})}),M&&M.includes("edit")&&Object(se.jsx)(O.a,{className:"text-right",children:Object(se.jsx)(F.a,{className:"btn-icon",color:"primary",type:"button",onClick:function(){return p(!0)},children:Object(se.jsx)("span",{className:"btn-inner--icon",children:Object(se.jsx)(ca.a,{})})})})]})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(Qt.a,{activeTab:a,children:[Object(se.jsx)($t.a,{tabId:"1",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"School Address"}),Object(se.jsx)("small",{children:o.address})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Pin Code"}),Object(se.jsx)("small",{children:o.pincode})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Country"}),Object(se.jsx)("small",{children:o.country})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"City"}),Object(se.jsx)("small",{children:o.city})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"State"}),Object(se.jsx)("small",{children:o.state})]})})})})]})]})}),Object(se.jsx)($t.a,{tabId:"2",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"School Email"}),Object(se.jsx)("small",{children:o.email})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Primary Contact Number"}),Object(se.jsxs)("small",{children:["+91 ",o.phone]})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Telephone"}),Object(se.jsx)("small",{children:o.telephone})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Fax No."}),Object(se.jsx)("small",{children:"+91 123456789"})]})})})})]})]})})]})})]})})})]})})]})},ia=function(){var e=Fe().user;return"schoolAdmin"===e.user?Object(se.jsx)(oa,{}):"teacher"===e.user?Object(se.jsx)(sa,{}):"student"===e.user?Object(se.jsx)(la,{}):void 0},ja=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c="".concat("http://35.174.4.42:5000","/api/school/support/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},da=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/support/details/all/").concat(t,"/").concat(e);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))};var ua,ba=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)({priority:"",root_caused:"",description:""}),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(!1),y=Object(u.a)(v,2),S=y[0],C=y[1],w=Fe(),_=w.user,D=w.token,I=Object(r.useState)([]),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)(!1),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)({}),M=Object(u.a)(K,2),z=M[0],J=M[1],W=function(e){J(e),R(!0)},H=Object(r.useState)(),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=new FileReader;Object(r.useEffect)((function(){_.permissions.Support&&_.permissions.Support}),[a]);var X=Object(r.useRef)(),Q=Object(lt.useReactToPrint)({content:function(){return X.current}});Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),da(_._id,_.school,D).then((function(e){for(var t=[],a=function(a){t.push({key:a,sid:e[a].SID,status:e[a].status,root_caused:e[a].root_caused,action:Object(se.jsx)("h5",{className:"mb-0",children:Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){W(e[a])},children:"View More"},"view"+a+1)},a+1)})},c=0;c<e.length;c++)a(c);P(t),i(!1)})).catch((function(e){console.log(e),G.b.error("Getting All Support Failed"),i(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var $=[{title:"SID",dataIndex:"sid",width:"30%",sorter:function(e,t){return e.sid>t.sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.sid.toLowerCase().includes(e.toLowerCase())}},{title:"Status",dataIndex:"status",width:"30%",sorter:function(e,t){return e.status>t.status},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.status.toLowerCase().includes(e.toLowerCase())}},{title:"Root Caused",dataIndex:"root_caused",width:"30%",sorter:function(e,t){return e.root_caused>t.root_caused},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.root_caused.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],ee=Object(r.useState)(new FormData),te=Object(u.a)(ee,1)[0],ae=function(e){return function(t){p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.target.value)))}},ce=function(){var e=Object(d.a)(h.a.mark((function e(t){var n,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Fe(),r=n.user,s=n.token,te.set("school",r.school),te.set("priority",m.priority),te.set("root_caused",m.root_caused),te.set("description",m.description),p({priority:"",root_caused:"",description:""}),e.prev=7,C(!0),e.next=11,ja(r._id,s,te);case 11:if(!(l=e.sent).err){e.next=15;break}return C(!1),e.abrupt("return",G.b.error(l.err));case 15:C(!1),c(!a),G.b.success("Add Support Success"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),C(!1),G.b.error("Add Support Failed");case 24:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Support"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-2  ml-4",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){Y(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),U&&(Z.onload=function(e){e.target.result},Z.readAsText(U))}(e)},color:"primary",className:"mt-2",children:"IMPORT CSV"})]})})}),Object(se.jsx)(N.a,{className:"mb-4",onSubmit:ce,children:S?Object(se.jsx)(ct,{}):Object(se.jsxs)(g.a,{className:"ml-4 mr-4",children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect1",children:"Priority"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect1",type:"select",onChange:ae("priority"),value:m.priority,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Priority"}),Object(se.jsx)("option",{value:"P1",children:"P1 - Critical"}),Object(se.jsx)("option",{value:"P2",children:"P2 - Medium"}),Object(se.jsx)("option",{value:"P3",children:"P3 - Normal"})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Root Caused"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Root Caused",type:"text",onChange:ae("root_caused"),value:m.root_caused,required:!0})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Description"}),Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",rows:"5",type:"textarea",onChange:ae("description"),value:m.description,required:!0})]}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center"},children:Object(se.jsx)(F.a,{color:"primary",children:"Submit"})})})]})})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Q,style:{float:"right"},children:"Print"}),!o&&A?Object(se.jsx)("div",{ref:X,children:Object(se.jsx)(tt,{columns:$,data:A,pagination:!0,exportFileName:"SupportDetails"})}):Object(se.jsx)(ct,{})]})})})})]})}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:q,toggle:function(){return R(!1)},children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h6",{className:"modal-title",id:"modal-title-default",children:"Support Details"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return R(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"SID"}),Object(se.jsx)("span",{className:"text-md",children:z.SID})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Status"}),Object(se.jsx)("span",{className:"text-md",children:z.status})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Priority"}),Object(se.jsx)("span",{className:"text-md",children:z.priority})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Root Caused"}),Object(se.jsx)("span",{className:"text-md",children:z.root_caused})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Description"}),Object(se.jsx)("span",{className:"text-md",children:z.description})]})})]})]})]})},ha="VIEWER",ma="EDITOR",pa="OWNER",xa="add",Oa="edit",fa="delete",va="view";ua={},Object(E.a)(ua,ha,[va]),Object(E.a)(ua,ma,[va,Oa]),Object(E.a)(ua,pa,[va,Oa,xa,fa]);a(112);var ga=a(31),Na=a.n(ga),ya=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),l=Object(u.a)(s,2),o=l[0],i=(l[1],Object(r.useState)(!1)),j=Object(u.a)(i,2),b=j[0],m=j[1],p=Object(r.useState)(!1),v=Object(u.a)(p,2),y=v[0],S=v[1],C=Object(r.useState)(new Date),w=Object(u.a)(C,2),_=w[0],D=w[1],I=Na()(_).format("LT"),T=Object(r.useState)(!1),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)(""),q=Object(u.a)(B,2),R=q[0],K=q[1],M=Object(r.useState)(""),z=Object(u.a)(M,2),J=z[0],W=z[1],H=Object(r.useState)(""),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=Object(r.useState)(""),X=Object(u.a)(Z,2),Q=X[0],$=X[1],ee=Object(r.useState)(new Date),te=Object(u.a)(ee,2),ae=te[0],ce=te[1],ne=Na()(ae).format("LT"),re=Object(r.useState)(""),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(r.useState)({name:"",start_date:"",end_date:"",working_days:""}),ue=Object(u.a)(de,2),be=ue[0],he=ue[1],me=Fe(),pe=me.user,xe=me.token,Oe=Object(r.useState)(),fe=Object(u.a)(Oe,2),ve=(fe[0],fe[1],new FileReader,Object(r.useState)(!1)),ge=Object(u.a)(ve,2),Ne=(ge[0],ge[1]),ye=Object(r.useState)([]),Se=Object(u.a)(ye,2),Ce=(Se[0],Se[1]),we=Object(r.useRef)(),ke=Object(lt.useReactToPrint)({content:function(){return we.current}}),_e=[];Object(r.useEffect)((function(){pe.permissions.Session&&(_e=pe.permissions.Session,Ce(_e))}),[]),Object(r.useEffect)((function(){nt(pe._id,pe.school,xe).then((function(e){for(var t=[],a=function(a){t.push({key:a,session:e[a].name,start_date:e[a].start_date.split("T")[0],end_date:e[a].start_date.split("T")[0],working_days:e[a].working_days,working_time:e[a].working_time,year:e[a].year,status:e[a].status,action:Object(se.jsx)("h5",{className:"mb-0",children:_e&&_e.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return t=e[a]._id,c=e[a].name,n=e[a].start_date.split("T")[0],r=e[a].start_date.split("T")[0],s=e[a].working_days,L(!0),K(c),W(n),Y(r),je(t),void $(s);var t,c,n,r,s},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+a+1)},a+1)})},n=0;n<e.length;n++)a(n);var r=0;t.map((function(e){"current"===e.status?Ne(!1):r++})),t.length===r&&Ne(!0),c(t),m(!0)})).catch((function(e){console.log(e),G.b.error("Getting All Session Failed")}))}),[o,y]);var De=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,(n=new FormData).set("name",R),n.set("start_date",J),n.set("end_date",U),n.set("working_days",Q),n.set("working_time",ne),e.prev=7,e.next=10,st(oe,a._id,c,n);case 10:e.sent,L(!1),S(!1===y),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),G.b.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}();var Ie=[{title:"Session",dataIndex:"session",width:"20%",sorter:function(e,t){return e.session>t.session},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.session.toLowerCase().includes(e.toLowerCase())}},{title:"Status",key:"status",dataIndex:"status"},{title:"Start Date",dataIndex:"start_date",width:"20%",sorter:function(e,t){return e.start_date>t.start_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.start_date.toLowerCase().includes(e.toLowerCase())}},{title:"End Date",dataIndex:"end_date",width:"20%",sorter:function(e,t){return e.end_date>t.end_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.end_date.toLowerCase().includes(e.toLowerCase())}},{title:"Working Days",dataIndex:"working_days",sorter:function(e,t){return e.working_days>t.working_days},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.working_days.toLowerCase().includes(e.toLowerCase())}},{title:"Working Time",dataIndex:"working_time",width:"10%",sorter:function(e,t){return e.working_time>t.working_time},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.working_time.toLowerCase().includes(e.toLowerCase())}},{title:"Year",dataIndex:"year",width:"20%",sorter:function(e,t){return e.year>t.year},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.year.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],Te=Object(r.useState)(new FormData),Ae=Object(u.a)(Te,1)[0],Pe=function(e){return function(t){Ae.set(e,t.target.value),he(Object(n.a)(Object(n.a)({},be),{},Object(E.a)({},e,t.target.value)))}},Le=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,n=a.token,Ae.set("school",c.school),r=Ae.get("start_date").slice(2,4)+"-"+Ae.get("end_date").slice(2,4),Ae.set("year",r),Ae.set("working_days",be.working_days),Ae.set("working_time",I),e.prev=7,e.next=10,rt(c._id,n,Ae);case 10:if(s=e.sent,he({name:"",start_date:"",end_date:"",working_days:""}),!s.err){e.next=16;break}return e.abrupt("return",G.b.error(s.err));case 16:G.b.success("Add Session Success"),S(!y);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),G.b.error("Add Session Failed");case 23:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Session"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(N.a,{onSubmit:Le,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Session",type:"text",onChange:Pe("name"),value:be.name,required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Starting Date"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Pe("start_date"),required:!0,value:be.start_date})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Ending Date"}),Object(se.jsx)(k.a,{id:"example-date-input",value:be.end_date,type:"date",onChange:Pe("end_date"),required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Working Days"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"number",onChange:Pe("working_days"),value:be.working_days,placeholder:"Working Days",required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Working Time"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:_,onChange:function(e){return D(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"})]})}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Submit"})})})]})})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:ke,style:{float:"right"},children:"Print"}),b&&a?_e&&_e.includes("edit")?Object(se.jsx)("div",{ref:we,children:Object(se.jsx)(tt,{columns:Ie,data:a,pagination:!0,exportFileName:"SessionDetails"})}):Object(se.jsx)(He.a,{style:{whiteSpace:"pre"},columns:Ie,dataSource:a,pagination:{pageSizeOptions:["5","10","30","60","100","1000"],showSizeChanger:!0}}):Object(se.jsx)(ct,{})]})})})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:P,toggle:function(){return L(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:P?"Edit Form":"Create Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return L(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Session Name"}),Object(se.jsx)(k.a,{id:"form-department-name",value:R,onChange:function(e){return K(e.target.value)},placeholder:"School Address",type:"text"})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Starting Date"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:function(e){return W(e.target.value)},required:!0,value:J})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Ending Date"}),Object(se.jsx)(k.a,{id:"example-date-input",value:U,type:"date",onChange:function(e){return Y(e.target.value)},required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Working Days"}),Object(se.jsx)(k.a,{id:"example-date-input",value:Q,type:"number",onChange:function(e){return $(e.target.value)},required:!0,placeholder:"Working Days"})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example-date-input",children:"Working Time"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:ae,onChange:function(e){return ce(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"})]})})]}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:De,children:"Save changes"})})]})]})]})},Sa=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c="".concat("http://35.174.4.42:5000","/api/school/class/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ca=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/class/all/").concat(t,"/").concat(e);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},wa=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("http://35.174.4.42:5000","/api/school/class/edit/").concat(t,"/").concat(a),e.abrupt("return",fetch(r,{method:"PUT",headers:{Authorization:"Bearer "+c,Accept:"application/json"},body:n}).then((function(e){return e.json()})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,n){return e.apply(this,arguments)}}(),ka=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("http://35.174.4.42:5000","/api/school/class/delete/").concat(t,"/").concat(a),e.abrupt("return",fetch(n,{method:"DELETE",headers:{Authorization:"Bearer "+c,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),_a=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("http://35.174.4.42:5000","/api/school/section/edit/").concat(t,"/").concat(a),e.abrupt("return",fetch(r,{method:"PUT",headers:{Authorization:"Bearer "+c,Accept:"application/json"},body:n}).then((function(e){return e.json()})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,n){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/staff/classTeacher/").concat(t,"/").concat(a));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Da=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/section/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ia=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/class/section/edit/").concat(t,"/").concat(e);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},Ta=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/section/delete/").concat(a,"/").concat(t),e.prev=1,e.next=4,P(c,{},"DELETE");case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Aa=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("http://35.174.4.42:5000","/api/school/section/edit/").concat(a,"/").concat(t),e.prev=1,e.next=4,P(n,c,"PUT");case 4:return r=e.sent,s=r.data,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Pa=Object(R.c)({name:"class",initialState:{classes:[]},reducers:{setClass:function(e,t){var a=t.payload;e.classes=a}}}),La=Pa.actions.setClass,Ba=Pa.reducer,qa=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(!1),y=Object(u.a)(v,2),S=y[0],C=y[1],w=Object(r.useState)(!1),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Object(r.useState)(!1),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)([]),E=Object(u.a)(B,2),R=(E[0],E[1]),K=Fe(),M=K.user,z=K.token,J=Object(r.useState)(""),W=Object(u.a)(J,2),H=W[0],V=W[1],U=Object(r.useState)(),Y=Object(u.a)(U,2),Z=Y[0],X=Y[1],ee=Object(r.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],ce=te[1],ne=new FileReader,re=Object(q.b)(),le=Object(r.useState)(""),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],ue=Object(r.useState)(""),be=Object(u.a)(ue,2),he=be[0],me=be[1],pe=Object(r.useState)(""),xe=Object(u.a)(pe,2),Oe=xe[0],fe=xe[1],ve=Object(r.useState)(""),ge=Object(u.a)(ve,2),Ne=ge[0],ye=ge[1],Se=Object(r.useState)([]),Ce=Object(u.a)(Se,2),we=Ce[0],ke=Ce[1],_e=Object(r.useState)([]),De=Object(u.a)(_e,2),Ie=De[0],Te=De[1],Ae=Object(r.useState)(!1),Pe=Object(u.a)(Ae,2),Le=Pe[0],Be=Pe[1],qe=Object(r.useState)(!1),Ee=Object(u.a)(qe,2),Re=Ee[0],Ke=Ee[1];Object(r.useEffect)((function(){if(M.permissions["Class, section and subject master"]){var e=M.permissions["Class, section and subject master"];Te(e)}}),[P,H]),Object(r.useEffect)((function(){Ge()}),[]);var Me=Object(r.useRef)(),He=Object(lt.useReactToPrint)({content:function(){return Me.current}}),Ge=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:R(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Ue=[{title:"Section",dataIndex:"name",width:150,sorter:function(e,t){return e.name>t.name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.name.toLowerCase().includes(e.toLowerCase())}},{title:"Section Abbreviation",dataIndex:"abbreviation",width:150,sorter:function(e,t){return e.abbreviation>t.abbreviation},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.abbreviation.toLowerCase().includes(e.toLowerCase())}},{title:"Subject",dataIndex:"subject",width:150,sorter:function(e,t){return e.subject>t.subject},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.subject.toLowerCase().includes(e.toLowerCase())}},{title:"Class Teacher",dataIndex:"class_teacher",width:150,sorter:function(e,t){return e.class_teacher>t.class_teacher},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.class_teacher.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];Object(r.useEffect)((function(){Ze(),Ye()}),[P]);var Ye=function(){(function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/section/all/").concat(t,"/").concat(e);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))})(M._id,M.school,z).then((function(e){})).catch((function(e){G.b.error("Getting Sections Failed")}))},Ze=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ca(M._id,M.school,z);case 3:return t=e.sent,e.next=6,i(t);case 6:return e.next=8,V(t[0]._id);case 8:re(La(t)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),G.b.error(Q);case 15:yt(M._id,M.school,z).then((function(e){for(var t=[],a=0;a<e.length;a++)t.push({value:e[a].name,label:e[a].name});p(t)})).catch((function(e){console.log(e),G.b.error($)}));case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){H&&Xe()}),[H,P]);var Xe=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.find((function(e){return e._id===H}));case 2:if(t=e.sent,a=[],0!==t.section.length){e.next=7;break}return Ke(!1),e.abrupt("return");case 7:for(Ke(!0),n=function(e){a.push({key:e,s_no:[e+1],name:t.section[e].name,abbreviation:t.section[e].abbreviation,subject:t.section[e].subject.toString(),class_teacher:t.section[e].classTeacher&&t.section[e].classTeacher.firstname,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Ie&&Ie.includes("edit".trim())&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return Qe(t.section[e])},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),Ie&&Ie.includes("delete".trim())&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return at(t.section[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1)]},e+1)})},r=0;r<t.section.length;r++)n(r);c(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(e){ce(!0),de(e.name),me(e.abbreviation),ye(e._id),fe(e.class)},at=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,Ta(M._id,t);case 4:e.sent,G.b.success("Section deleted successfully"),C(!S),I(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),G.b.error(""),I(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),rt=Object(r.useState)(new FormData),st=Object(u.a)(rt,1)[0],ot=Object(r.useState)(new FormData),it=Object(u.a)(ot,1)[0],jt=function(e){return function(t){st.set(e,t.target.value)}},dt=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,n=a.token,st.set("school",c.school),r=st.get("class"),e.prev=4,Be(!0),e.next=8,Da(c._id,n,st);case 8:return s=e.sent,it.set("school",c.school),it.set("section",s._id),e.next=13,Ia(c._id,r,n,it);case 13:if(C(!S),!s.err){e.next=19;break}return Be(!1),e.abrupt("return",G.b.error(s.err));case 19:G.b.success("Adding Section Success"),L(!P),Be(!1);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),G.b.error("Adding Section Failed"),Be(!1);case 28:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t){return e.apply(this,arguments)}}(),ut=function(e){return Object(se.jsx)(Mt,Object(n.a)(Object(n.a)({},e),{},{SelectComponent:zt.a,options:e.options}))},bt=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).set("school",M.school),t.set("name",je),t.set("abbreviation",he),t.set("subject",JSON.stringify(we)),t.set("class",Oe),e.prev=6,I(!0),e.next=10,Aa(M._id,Ne,t);case 10:e.sent,L(!P),ce(!1),I(!1),G.b.success("Section edited successfully"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0),G.b.error("Edit Section Failed"),I(!1);case 22:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Section",parentName:"Class Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Le?Object(se.jsx)(ct,{}):Ie&&Ie.includes("add")&&Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-2 ml-4",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){X(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),Z&&(ne.onload=function(e){e.target.result},ne.readAsText(Z))}(e)},color:"primary",className:"mt-3",children:"IMPORT CSV"})]})})}),Object(se.jsx)(N.a,{onSubmit:dt,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",onChange:jt("class"),required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),null===o||void 0===o?void 0:o.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Section"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Section",type:"text",onChange:jt("name"),required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Section Abbreviation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Section Abbreviation",type:"text",onChange:jt("abbreviation"),required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Subject"}),Object(se.jsx)(ut,{isMulti:!0,name:"colors",options:m,onChange:function(e){for(var t=[],a=0,c=e.length;a<c;a++)t.push(e[a].value);st.set("subject",JSON.stringify(t))},className:"basic-multi-select",classNamePrefix:"select",required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Submit"})})})]})})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{className:"sm-4 mb-3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",onChange:function(e){return V(e.target.value)},required:!0,value:H,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),null===o||void 0===o?void 0:o.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]})}),Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:He,style:{float:"right"},children:"Print"}),!D&&a?Re?Object(se.jsx)(tt,{columns:Ue,data:a,pagination:!0,exportFileName:"SectionDetails"}):Object(se.jsx)("h3",{style:{width:"100%"},children:"No section found"}):Object(se.jsx)(ct,{})]})})})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:ae,toggle:function(){return ce(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Edit Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return ce(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Section Name"}),Object(se.jsx)(k.a,{id:"form-class-name",value:je,onChange:function(e){return de(e.target.value)},placeholder:"Section Name",type:"text"})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Section Abbreviation"}),Object(se.jsx)(k.a,{id:"form-class-name",value:he,onChange:function(e){return me(e.target.value)},placeholder:"Section Abbreviation",type:"text"})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",onChange:function(e){return fe(e.target.value)},required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),null===o||void 0===o?void 0:o.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Subject"}),Object(se.jsx)(ut,{isMulti:!0,name:"colors",options:m,onChange:function(e){for(var t=[],a=0,c=e.length;a<c;a++)t.push(e[a].value);ke(t)},className:"basic-multi-select",classNamePrefix:"select",required:!0})]})})]}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:bt,children:"Save changes"})})]})]})]})},Ea=(a(671),function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)([]),s=Object(u.a)(n,2),l=(s[0],s[1],Object(r.useState)([])),o=Object(u.a)(l,2),i=o[0],j=o[1],b=Object(r.useState)(!1),m=Object(u.a)(b,2),p=m[0],x=m[1],O=Fe(),v=O.user,g=O.token,N=Object(r.useState)(!1),y=Object(u.a)(N,2),S=y[0],C=y[1];Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,Ca(v._id,v.school,g);case 4:if(!(t=e.sent).err){e.next=8;break}return x(!1),e.abrupt("return",G.b.error(t.err));case 8:c(t),x(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),G.b.error(Q);case 15:return x(!1),e.prev=16,a=Fe(),n=a.user,a.token,{school:n.school},e.next=21,Fa(n.school,n._id);case 21:if(!(r=e.sent).err){e.next=24;break}return e.abrupt("return",G.b.error(r.err));case 24:j(r),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(16),G.b.error(X);case 30:case"end":return e.stop()}}),e,null,[[0,12],[16,27]])}))),[S]);var w=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var c,n,r,s,l,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a.target.value,""!==a.target.value){t.next=3;break}return t.abrupt("return");case 3:if("delete"!==a.target.value){t.next=28;break}return t.prev=4,(n=new FormData).set("id",e._id),n.set("removeClassTeacher",!0),x(!0),t.next=11,_a(e._id,v._id,g,n);case 11:return t.sent,(r=new FormData).set("isClassTeacher",!1),t.next=16,ut(e.classTeacher._id,v._id,r);case 16:t.sent,G.b.success("Class Teacher Removed Successfully"),C(!S),x(!1),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(4),console.log(t.t0),G.b.error("Error in Removing Class Teacher"),x(!1);case 27:return t.abrupt("return");case 28:return(s=new FormData).set("classTeacher",a.target.value),(new FormData).set("schoolClassTeacher",e._id),t.prev=32,x(!0),t.next=36,_a(e._id,v._id,g,s);case 36:if(t.sent,!e.classTeacher){t.next=51;break}return(l=new FormData).set("isClassTeacher",!1),t.next=42,ut(e.classTeacher._id,v._id,l);case 42:return t.sent,(o=new FormData).set("schoolClassTeacher",e._id),o.set("isClassTeacher",!0),t.next=48,ut(c,v._id,o);case 48:t.sent,t.next=57;break;case 51:return(i=new FormData).set("isClassTeacher",!0),i.set("schoolClassTeacher",e._id),t.next=56,ut(c,v._id,i);case 56:t.sent;case 57:G.b.success("Class Teacher Assign Successfully"),C(!S),x(!1),t.next=67;break;case 62:t.prev=62,t.t1=t.catch(32),console.log(t.t1),G.b.error("Failed to Assign Class Teacher"),x(!1);case 67:case"end":return t.stop()}}),t,null,[[4,22],[32,62]])})));return function(e){return t.apply(this,arguments)}}()};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Class Teacher",parentName:"Class Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{fluid:!0,className:"mt--6",children:Object(se.jsx)(f.a,{className:"mb-4",children:p?Object(se.jsx)(ct,{}):Object(se.jsx)(Le.a,{className:"my-table mt-2",children:Object(se.jsx)("tbody",{children:a.map((function(e){return Object(se.jsxs)("tr",{className:"teacher-table-row",children:[Object(se.jsx)("td",{className:"teacher-table-class",children:e.name}),Object(se.jsx)("tbody",{children:e.section?e.section.map((function(e){return Object(se.jsxs)("tr",{className:"teacher-table-row",style:{marginLeft:"2rem"},children:[Object(se.jsx)("td",{className:"teacher-table-class",style:{marginLeft:"2rem"},children:e.name}),Object(se.jsx)("td",{children:Object(se.jsxs)(k.a,{id:e._id,type:"select",onChange:w(e),value:e.classTeacher,children:[e.classTeacher?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("option",{value:"",children:[e.classTeacher.firstname," ",e.classTeacher.secondname," "]}),Object(se.jsx)("option",{value:"delete",style:{fontWeight:"500"},children:"Delete Class Teacher"})]}):Object(se.jsx)("option",{value:"",children:"Class Teacher"}),i.map((function(e,t){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},t)}))]})})]},e._id)})):Object(se.jsx)("tr",{children:Object(se.jsx)("td",{children:"No Section"})})})]},e._id)}))})})})})]})}),Ra=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(!1),y=Object(u.a)(v,2),S=y[0],C=y[1],w=Object(r.useState)(!1),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Object(r.useState)(""),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)(""),R=Object(u.a)(B,2),K=R[0],M=R[1],z=Object(r.useState)(""),J=Object(u.a)(z,2),W=J[0],H=J[1],V=Object(r.useState)([]),U=Object(u.a)(V,2),Y=U[0],Z=U[1],X=Object(r.useState)(!1),$=Object(u.a)(X,2),ee=$[0],te=$[1],ae=Object(q.b)(),ce=Fe(),ne=ce.user,re=ce.token,le=Object(r.useState)([]),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],ue=Object(r.useState)(Object(E.a)({name:"",session:"",abbreviation:""},"session","")),be=Object(u.a)(ue,2),he=be[0],me=be[1],pe=Object(r.useState)(),xe=Object(u.a)(pe,2),Oe=xe[0],fe=xe[1],ve=new FileReader;Object(r.useEffect)((function(){Ne()}),[ee,o]);var ge=[],Ne=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne.permissions["Class, section and subject master"]&&(ge=ne.permissions["Class, section and subject master"],de(ge));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){_e()}),[]);var ye=Object(r.useRef)(),Se=Object(lt.useReactToPrint)({content:function(){return ye.current}});Object(r.useEffect)((function(){Ce()}),[o,ee]);var Ce=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(ne._id,ne.school,re);case 2:t=e.sent,ae(La(t)),a=[],n=h.a.mark((function e(c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.push({key:c,name:t[c].name,abbreviation:t[c].abbreviation,action:Object(se.jsxs)("h5",{className:"mb-0",children:[ge&&ge.includes("edit".trim())&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return ke(t[c]._id,t[c].name,t[c].abbreviation)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+c+1),ge&&ge.includes("delete".trim())&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return we(t[c]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+c+1)]},c+1)});case 2:case"end":return e.stop()}}),e)})),r=0;case 7:if(!(r<t.length)){e.next=12;break}return e.delegateYield(n(r),"t0",9);case 9:r++,e.next=7;break;case 12:c(a),p(!0);case 14:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=9;break;case 4:e.prev=4,e.t1=e.catch(0),console.log(e.t1),G.b.error(Q),p(!0);case 9:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fe(),c=a.user,n=a.token,e.prev=1,p(!0),e.next=5,ka(t,c._id,n);case 5:te(!ee),p(!1),G.b.success("Delete Class Success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),G.b.error("Delete Class Failed"),p(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e,t,a){I(!0),L(t),H(a),M(e)},_e=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:Z(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Fe(),a=t.user,c=t.token,Ae.set("name",P),Ae.set("abbreviation",W),p(!0),e.next=7,wa(K,a._id,c,Ae);case 7:if(!(n=e.sent).err){e.next=13;break}return p(!1),e.abrupt("return",G.b.error(n.err));case 13:I(!1),G.b.success("Update Class Success"),te(!ee),p(!1);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),G.b.error("Update Class Failed"),p(!1);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),Ie=[{title:"Class",dataIndex:"name",width:"40%",sorter:function(e,t){return e.name>t.name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.name.toLowerCase().includes(e.toLowerCase())}},{title:"Abbreviation",dataIndex:"abbreviation",width:"50%",sorter:function(e,t){return e.abbreviation>t.abbreviation},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.abbreviation.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],Te=Object(r.useState)(new FormData),Ae=Object(u.a)(Te,1)[0],Pe=function(e){return function(t){Ae.set(e,t.target.value),me(Object(n.a)(Object(n.a)({},he),{},Object(E.a)({},e,t.target.value)))}},Le=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,n=a.token,Ae.set("school",c.school),e.prev=3,C(!0),e.next=7,Sa(c._id,n,Ae);case 7:me({name:"",session:"",abbreviation:""}),G.b.success("Add Class Successfull"),C(!1),i(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),G.b.error("Add Staff Failed"),C(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Class",parentName:"Class Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:S?Object(se.jsx)(ct,{}):je&&je.includes("add")&&Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-3 ml-4",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){fe(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),Oe&&(ve.onload=function(e){e.target.result},ve.readAsText(Oe))}(e)},color:"primary",className:"mt-3",children:"IMPORT CSV"})]})})}),Object(se.jsx)(N.a,{onSubmit:Le,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",onChange:Pe("session"),children:[Object(se.jsx)("option",{children:"Select Session"}),Y&&Y.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:Pe("name"),value:he.name,required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class Abbreviation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class Abbreviation",type:"text",onChange:Pe("abbreviation"),value:he.abbreviation,required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Submit"})})})]})})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:je&&je.includes("export")?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Se,style:{float:"right"},children:"Print"}),m&&a?Object(se.jsx)("div",{ref:ye,children:Object(se.jsx)(tt,{columns:Ie,data:a,pagination:!0,exportFileName:"ClassDetails"})}):Object(se.jsx)(ct,{})]}):Object(se.jsx)(He.a,{style:{whiteSpace:"pre"},columns:Ie,dataSource:a,pagination:{pageSizeOptions:["5","10","30","60","100","1000"],showSizeChanger:!0}})})})})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:D,toggle:function(){return I(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:D?"Edit Form":"Create Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return I(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Class Name"}),Object(se.jsx)(k.a,{id:"form-class-name",value:P,onChange:function(e){return L(e.target.value)},placeholder:"Class Name",type:"text"})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Abbreviation"}),Object(se.jsx)(k.a,{id:"form-abbreviation-name",value:W,onChange:function(e){return H(e.target.value)},placeholder:"Abbreviation",type:"text"})]})})]}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:De,children:"Save changes"})})]})]})]})},Ka=a(14),Ma=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),o=Object(u.a)(l,2),i=o[0],j=o[1],b=Object(r.useState)(!1),m=Object(u.a)(b,2),p=m[0],v=m[1],y=Object(r.useState)(!1),_=Object(u.a)(y,2),D=_[0],I=_[1],T=Object(r.useState)(!1),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)(""),q=Object(u.a)(B,2),R=q[0],K=q[1],M=Object(r.useState)(""),z=Object(u.a)(M,2),J=z[0],W=z[1],H=Object(r.useState)(!1),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=Object(r.useState)([]),X=Object(u.a)(Z,2),Q=X[0],$=X[1],ee=Object(r.useState)(""),te=Object(u.a)(ee,2),ae=(te[0],te[1],Object(r.useState)([{subjectName:""}])),ce=Object(u.a)(ae,2),ne=ce[0],re=ce[1],le=Fe(),oe=le.user,je=le.token,de=Object(r.useState)(""),ue=Object(u.a)(de,2),be=ue[0],he=ue[1],me=Object(r.useState)(),pe=Object(u.a)(me,2),xe=pe[0],Oe=pe[1],fe=Object(r.useState)(0),ve=Object(u.a)(fe,2),ge=ve[0],Ne=ve[1],ye=Object(r.useState)(!1),Se=Object(u.a)(ye,2),Ce=Se[0],we=Se[1],ke=Object(r.useState)([]),_e=Object(u.a)(ke,2),De=_e[0],Ie=_e[1],Ae=new FileReader,Pe=s.a.useRef(),Le=Object(lt.useReactToPrint)({content:function(){return Pe.current}}),Be=[];Object(r.useEffect)((function(){oe.permissions["Class, section and subject master"]&&(Be=oe.permissions["Class, section and subject master"],Ie(Be))}),[U]),Object(r.useEffect)((function(){st(),qe()}),[p,U]);var qe=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:$(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Ee=Object(r.useState)({type:"",name:"",session:""}),Re=Object(u.a)(Ee,2),Ke=Re[0],Me=Re[1],He=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fe(),c=a.user,n=a.token,e.prev=1,I(!0),e.next=5,wt(t,c._id,n);case 5:Y(!U),I(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),G.b.error("Something Went Wrong!"),I(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e,t){L(!0),K(t),W(e)},Ue=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Fe(),a=t.user,c=t.token,Ze.set("name",R),I(!0),e.next=6,Ct(J,a._id,c,Ze);case 6:if(!(n=e.sent).err){e.next=12;break}return I(!1),e.abrupt("return",G.b.error(n.err));case 12:L(!1),Y(!U),I(!1);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),G.b.error(e.t0),I(!1);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),Ye=Object(r.useState)(new FormData),Ze=Object(u.a)(Ye,1)[0],Xe=function(e){return function(t){Ze.set(e,t.target.value),Me(Object(n.a)(Object(n.a)({},Ke),{},Object(E.a)({},e,t.target.value)))}},Qe=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Fe(),c=a.user,n=a.token,Ze.set("school",c.school),Ke.name.length>0)Ze.set("name",Ke.name);else{for(s in Ze.set("name",be),r=[],ne)r.push(ne[s].subjectName);Ze.set("list",JSON.stringify(r))}return e.prev=4,I(!0),we(!0),e.next=9,St(c._id,n,Ze);case 9:if(!(l=e.sent).err){e.next=14;break}return I(!1),we(!1),e.abrupt("return",G.b.error(l.err));case 14:Me({type:"",name:"",session:""}),Y(!U),we(!1),I(!1),G.b.success("Subject added successfully"),v(!0),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(4),G.b.error("Something Went Wrong"),we(!1),I(!1);case 27:case"end":return e.stop()}}),e,null,[[4,22]])})));return function(t){return e.apply(this,arguments)}}(),at=[{title:"Subject",dataIndex:"name",key:"subjects",sorter:function(e,t){return e.name>t.name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.name.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],rt=[{title:"Group Name",dataIndex:"groupName",key:"groupName",sorter:function(e,t){return e.groupName>t.groupName},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.groupName.toLowerCase().includes(e.toLowerCase())}},{title:"Subjects",dataIndex:"subjects",key:"subjects",sorter:function(e,t){return e.subjects>t.subjects},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.name.toLowerCase().includes(e.toLowerCase())},render:function(e){return Object(se.jsx)(se.Fragment,{children:e.map((function(e){var t=JSON.parse(e);return Object(se.jsx)("p",{children:t.toString()})}))})}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],st=function(){I(!0),yt(oe._id,oe.school,je).then((function(e){I(!0);for(var t=[],a=[],n=function(c){e[c].list.length>0?a.push({key:c,groupName:e[c].name,subjects:e[c].list,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Be&&Be.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return Ge(e[c]._id,e[c].name)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+c+1),Be&&Be.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return He(e[c]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+c+1)]},c+1)}):t.push({key:c,name:e[c].name,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Be&&Be.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return Ge(e[c]._id,e[c].name)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+c+1),Be&&Be.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return He(e[c]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+c+1)]},c+1)})},r=0;r<e.length;r++)n(r);c(t),j(a),I(!1)})).catch((function(e){console.log(e),I(!1)}))};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Subject",parentName:"Class Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Ce?Object(se.jsx)(ct,{}):De&&De.includes("add")&&Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-2 ml-4",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){Oe(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),xe&&(Ae.onload=function(e){e.target.result},Ae.readAsText(xe))}(e)},color:"primary",className:"mt-2",children:"IMPORT CSV"})]})})}),Object(se.jsx)(N.a,{onSubmit:Qe,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",onChange:Xe("session"),children:[Object(se.jsx)("option",{children:"Select Session"}),Q&&Q.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Select type"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Xe("type"),value:Ke.type,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select type"}),Object(se.jsx)("option",{children:"Single"}),Object(se.jsx)("option",{children:"Group"})]})]})}),"Single"===Ke.type&&Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Subject"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Subject",type:"text",onChange:Xe("name"),value:Ke.name,required:!0})]})})}),"Group"===Ke.type&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Group Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Group Name",type:"text",onChange:function(e){return he(e.target.value)},value:be,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Subject"}),ne.map((function(e,t){return Object(se.jsx)("div",{children:Object(se.jsxs)(S.a,{className:"mb-2",children:[Object(se.jsx)(k.a,{name:"subjectName",id:"example4cols2Input",placeholder:"Subject",type:"text",value:e.subjectName,onChange:function(e){return function(e,t){var a=Object(Ka.a)(ne);a[e][t.target.name]=t.target.value,re(a)}(t,e)}}),Object(se.jsx)(C.a,{addonType:"append",children:Object(se.jsx)(w.a,{style:{cursor:"pointer",backgroundColor:"red"},onClick:function(){return function(e){var t=Object(Ka.a)(ne);t.splice(e,1),re(t)}(t)},children:Object(se.jsx)("i",{className:"ni ni-fat-remove",style:{color:"white",fontSize:"1.3rem"}})})})]})},t)})),Object(se.jsx)(F.a,{color:"primary",style:{height:"1rem",width:"4rem",fontSize:"0.5rem",display:"flex",alignItems:"center",marginTop:"0.7rem",marginBottom:"0.7rem"},onClick:function(){re([].concat(Object(Ka.a)(ne),[{subjectName:""}]))},children:"Add"})]})})]}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Submit"})})})]})})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)("div",{children:[Object(se.jsx)(F.a,{color:"".concat(0===ge?"warning":"primary"),type:"button",onClick:function(){Ne(0)},children:"Single"})," ",Object(se.jsx)(F.a,{color:"".concat(1===ge?"warning":"primary"),type:"button",onClick:function(){Ne(1)},children:"Group"})]})}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Le,style:{float:"right"},children:"Print"}),D?Object(se.jsx)(ct,{}):Object(se.jsx)(se.Fragment,{children:0===ge?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{ref:Pe,children:Object(se.jsx)(tt,{columns:at,data:a,pagination:!0,exportFileName:"SubjectDetails"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{ref:Pe,children:Object(se.jsx)(tt,{columns:rt,data:i,pagination:!0,exportFileName:"SubjectDetails"})})})})]})]})})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:P,toggle:function(){return L(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:P?"Edit Form":"Create Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return L(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Class Name"}),Object(se.jsx)(k.a,{id:"form-class-name",value:R,onChange:function(e){return K(e.target.value)},placeholder:"Class Name",type:"text"})]})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:Ue,children:"Save changes"})})]})]})]})};var za=function(e){var t=e.data,a=e.backHandle,c=Object(r.useState)("1"),n=Object(u.a)(c,2),s=n[0],l=n[1];return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Student Profile",parentName:"Student Management"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"mt--3 ",children:Object(se.jsx)(F.a,{className:"float-left mb-2",color:"dark",onClick:a,children:Object(se.jsx)("i",{className:"ni ni-bold-left"})})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Xt.a,{alt:"...",src:t.photo,top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Name"}),Object(se.jsxs)("span",{className:"text-md",children:[t.firstname," ",t.lastname]})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Class"}),Object(se.jsx)("span",{className:"text-md",children:t.class&&t.class.name})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Section"}),Object(se.jsx)("span",{className:"text-md",children:t.section&&t.section.name})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Roll No"}),Object(se.jsx)("span",{className:"text-md",children:t.roll})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Address"}),Object(se.jsx)("span",{className:"text-md",children:t.permanent_address})]})})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===s?"active":"",onClick:function(){return l("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===s?"active":"",onClick:function(){return l("2")},children:"Documents"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"3"===s?"active":"",onClick:function(){return l("3")},children:"Attendance"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"4"===s?"active":"",onClick:function(){return l("4")},children:"Contact Person"})})]})})})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(Qt.a,{activeTab:s,children:[Object(se.jsx)($t.a,{tabId:"1",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Joining Date"}),Object(se.jsx)("small",{children:t.joining_date})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Gender"}),Object(se.jsx)("small",{children:t.gender})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"SID"}),Object(se.jsx)("small",{children:t.SID})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Aadhar Number"}),Object(se.jsx)("small",{children:t.aadhar_number})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Phone"}),Object(se.jsx)("small",{children:t.phone})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Country"}),Object(se.jsx)("small",{children:t.country})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"City"}),Object(se.jsx)("small",{children:t.city})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"State"}),Object(se.jsx)("small",{children:t.state})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Gender"}),Object(se.jsx)("small",{children:t.gender})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Email"}),Object(se.jsx)("small",{children:t.email})]})})})})]})]})}),Object(se.jsx)($t.a,{tabId:"2",children:Object(se.jsx)(pe.a,{flush:!0})}),Object(se.jsx)($t.a,{tabId:"4",children:t.guardian_name?Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Guardian Name"}),Object(se.jsx)("small",{children:t.guardian_name})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Guardian Phone"}),Object(se.jsx)("small",{children:t.guardian_phone})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Guardian Email"}),Object(se.jsx)("small",{children:t.guardian_email})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Guardian Address"}),Object(se.jsx)("small",{children:t.guardian_address})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Pincode"}),Object(se.jsx)("small",{children:t.contact_person_pincode})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Relation"}),Object(se.jsx)("small",{children:t.contact_person_relation})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Address"}),Object(se.jsx)("small",{children:t.contact_person_address})]})})})})]})]}):Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Country"}),Object(se.jsx)("small",{children:t.contact_person_country})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person State"}),Object(se.jsx)("small",{children:t.contact_person_state})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person City"}),Object(se.jsxs)("small",{children:["+91 ",t.contact_person_city]})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Name"}),Object(se.jsx)("small",{children:t.contact_person_name})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Phone"}),Object(se.jsx)("small",{children:t.contact_person_phone})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Pincode"}),Object(se.jsx)("small",{children:t.contact_person_pincode})]})})})})]}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Address"}),Object(se.jsx)("small",{children:t.contact_person_address})]})})})})})]})})]})})]})})})]})]})]})},Ja=a(170),Wa=a.n(Ja),Ha=Object(R.c)({name:"student",initialState:{studentEditing:!1},reducers:{setStudentEditing:function(e,t){var a=t.payload;e.studentEditing=a}}}),Va=Ha.actions.setStudentEditing,Ga=Ha.reducer;var Ua=function(e){var t=e.studentDetails,a=Object(r.useState)([]),c=Object(u.a)(a,2),s=c[0],l=c[1],o=Object(j.g)(),i=(Object(j.i)(),Object(r.useState)(0)),b=Object(u.a)(i,2),m=b[0],p=b[1],v=Object(q.b)(),S=(Object(q.c)((function(e){return e.studentReducer})).studentEditing,Object(r.useState)([])),C=Object(u.a)(S,2),w=(C[0],C[1],Object(r.useState)({_id:t._id,image:t.image,joining_date:t.joining_date,firstname:t.firstname,lastname:t.lastname,date_of_birth:t.date_of_birth,gender:t.gender,aadhar_number:t.aadhar_number,email:t.email,phone:t.phone,alternate_phone:t.alternate_phone,birth_place:t.birth_place,caste:t.caste,religion:t.religion,bloodgroup:t.bloodgroup,class:t.class._id,section:t.section._id,session:t.session,roll_number:t.roll_number,previous_school:t.previous_school,present_address:t.present_address,permanent_address:t.permanent_address,pincode:t.pincode,country:t.country,state:t.state,city:t.city,nationality:t.nationality,mother_tongue:t.mother_tongue,guardian_name:t.guardian_name,guardian_last_name:t.guardian_last_name,guardian_dob:t.guardian_dob,guardian_blood_group:t.guardian_blood_group,guardian_phone:t.guardian_phone,guardian_address:t.guardian_address,guardian_permanent_address:t.guardian_permanent_address,guardian_pincode:t.guardian_pincode,guardian_nationality:t.guardian_nationality,guardian_mother_tongue:t.guardian_mother_tongue,father_name:t.father_name,father_last_name:t.father_last_name,father_dob:t.father_dob,father_blood_group:t.father_blood_group,father_phone:t.father_phone,father_address:t.father_address,father_permanent_address:t.father_permanent_address,father_pincode:t.father_pincode,father_nationality:t.father_nationality,father_mother_tongue:t.father_mother_tongue,mother_name:t.mother_name,mother_last_name:t.mother_last_name,mother_dob:t.mother_dob,mother_blood_group:t.mother_blood_group,mother_phone:t.mother_phone,mother_address:t.mother_address,mother_permanent_address:t.mother_permanent_address,mother_pincode:t.mother_pincode,mother_nationality:t.mother_nationality,mother_mother_tongue:t.mother_mother_tongue})),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Fe(),A=T.user,P=T.token,L=Object(r.useState)({}),B=Object(u.a)(L,2),R=B[0],K=B[1];Object(r.useEffect)((function(){J()}),[]);var M,z,J=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),e.next=4,Ca(A._id,A.school,P);case 4:if(!(t=e.sent).err){e.next=8;break}return U(!1),e.abrupt("return",G.b.error(t.err));case 8:l(t),U(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),G.b.error("Fetching Classes Failed");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),W=Object(r.useState)(!1),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=new FormData,Z=function(e){return function(t){if(Y.set(e,t.target.value),I(Object(n.a)(Object(n.a)({},D),{},Object(E.a)({},e,t.target.value))),"class"===e){var a=s.find((function(e){return e._id.toString()===t.target.value.toString()}));K(a)}}},X=function(e){return function(t){ce("country"===e?Object(n.a)(Object(n.a)({},ae),{},{country:t,state:null,city:null}):"state"===e?Object(n.a)(Object(n.a)({},ae),{},{state:t,city:null}):Object(n.a)(Object(n.a)({},ae),{},{city:t})),Y.set(e,t.name)}},Q=Object(r.useCallback)((function(e){e.preventDefault(),p((function(e){return e+1})),window.scrollTo(0,0)}),[]),$=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Y.set("school",A.school),e.prev=2,U(!0),e.next=6,Gt(D._id,A._id,Y);case 6:G.b.success("Student updated successfully"),v(Va(!1)),U(!1),o.push("/admin/all-students"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),G.b.error("Something Went Wrong"),U(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),ee=Object(r.useState)({country:D.country,state:D.country,city:D.city}),te=Object(u.a)(ee,2),ae=te[0],ce=te[1],ne=Nt.Country.getAllCountries().map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)})),re=function(e,t){return Nt.City.getCitiesOfState(e,t).map((function(e){return Object(n.a)({label:e.name,value:e.stateCode},e)}))};return Object(r.useEffect)((function(){}),[ae]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Student",parentName:"Student Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:V?Object(se.jsx)(ct,{}):Object(se.jsxs)(f.a,{className:"mb-4 bg-transparent",children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)(x.a,{className:"d-flex justify-content-center",children:Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(gt.b,{activeStep:m,styleConfig:{activeBgColor:"#e56813",completedBgColor:"#1cdc23",size:"3em"},children:[Object(se.jsx)(gt.a,{label:"Student Details"}),Object(se.jsx)(gt.a,{label:"Admission Details"}),Object(se.jsx)(gt.a,{label:"Address Details"}),Object(se.jsx)(gt.a,{label:"Contact Person Details"})]})})})}),0===m&&Object(se.jsx)(N.a,{className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",accept:"image/*",onChange:(z="image",function(e){Y.set(z,e.target.files[0]),I(Object(n.a)(Object(n.a)({},D),{},Object(E.a)({},z,e.target.files[0].name)))})}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Date of Joining"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Z("joining_date"),value:D.joining_date.slice(0,10),required:!0})]}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"First Name",type:"text",onChange:Z("firstname"),value:D.firstname,required:!0})]})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:Z("lastname"),value:D.lastname,required:!0})]})})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Z("date_of_birth"),value:D.date_of_birth.slice(0,10),required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Gender"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Z("gender"),required:!0,value:D.gender,children:[Object(se.jsx)("option",{children:"Male"}),Object(se.jsx)("option",{children:"Female"})]})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Aadhar Card Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Aadhar Card Number",type:"number",onChange:Z("aadhar_number"),required:!0,value:D.aadhar_number})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Email"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Email",type:"text",onChange:Z("email"),required:!0,value:D.email})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Phone Number",type:"number",onChange:Z("phone"),required:!0,value:D.phone})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Alternate Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Alternate Phone Number",type:"number",onChange:Z("alternate_phone"),value:D.alternate_phone})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Birth Place"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Birth Place",type:"text",onChange:Z("birth_place"),required:!0,value:D.birth_place})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Caste"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Caste",type:"text",onChange:Z("caste"),required:!0,value:D.caste})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Religion"}),Object(se.jsx)(k.a,{id:"exampleFormControlSelect3",type:"text",onChange:Z("religion"),required:!0,value:D.religion})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Z("bloodgroup"),required:!0,value:D.bloodgroup,children:[Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]})]}),Object(se.jsx)(x.a,{className:"mt-4 float-right mr-4",children:Object(se.jsx)(F.a,{color:"primary",onClick:Q,children:"Next"})})]})}),1===m&&Object(se.jsx)(N.a,{onSubmit:Q,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Class"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,value:D.class,onChange:Z("class"),children:[Object(se.jsx)("option",{value:"",children:"Select Class"}),s&&s.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Section"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,value:D.section,onChange:Z("section"),children:[Object(se.jsx)("option",{value:"",children:"Select Section"}),R.section&&R.section.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Roll Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Roll Number",type:"number",onChange:function(){I(Object(n.a)(Object(n.a)({},D),{},{roll_number:12}))},required:!0,value:D.roll_number})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Previous School"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Previous School",type:"text",onChange:Z("previous_school"),required:!0,value:D.previous_school})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){p((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),2===m&&Object(se.jsx)(N.a,{onSubmit:Q,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Present Address",type:"text",onChange:Z("present_address"),required:!0,value:D.present_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Permanent Address",type:"text",onChange:Z("permanent_address"),required:!0,value:D.permanent_address})]})})}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:Z("pincode"),required:!0,value:D.pincode})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Country"}),Object(se.jsx)(zt.a,{id:"country",name:"country",label:"country",options:ne,required:!0,value:ae.country,onChange:X("country")})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"State"}),Object(se.jsx)(zt.a,{id:"state",name:"state",label:"state",options:(M=ae.country?ae.country.isoCode:null,Nt.State.getStatesOfCountry(M).map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)}))),required:!0,value:ae.state,onChange:X("state")})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"City"}),Object(se.jsx)(zt.a,{id:"city",name:"city",label:"city",options:ae.state?re(ae.country.value,ae.state.value):re(null,null),required:!0,value:ae.city,onChange:X("city")})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:Z("nationality"),required:!0,value:D.nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:Z("mother_tongue"),required:!0,value:D.mother_tongue})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){p((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),3===m&&Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(N.a,{onSubmit:$,className:"mb-4",children:[(D.father_name.length||D.mother_name.length)&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)("h2",{children:"Father Details"})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"First Name",type:"text",onChange:Z("father_name"),required:!0,value:D.father_name})]})}),Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:Z("father_last_name"),required:!0,value:D.father_last_name})]})})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Z("father_dob"),required:!0,value:D.father_dob})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Z("father_blood_group"),required:!0,value:D.father_blood_group,children:[Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Phone Number",type:"number",onChange:Z("father_phone"),required:!0,value:D.father_phone})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Present Address",type:"text",onChange:Z("father_address"),required:!0,value:D.father_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Permanent Address",type:"text",onChange:Z("father_permanent_address"),required:!0,value:D.father_permanent_address})]})})}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:Z("father_pincode"),required:!0,value:D.father_pincode})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:Z("father_nationality"),required:!0,value:D.father_nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:Z("father_mother_tongue"),required:!0,value:D.father_mother_tongue})]})]})]}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)("h2",{children:"Mother Details"})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"First Name",type:"text",onChange:Z("mother_name"),required:!0,value:D.mother_name})]})}),Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:Z("mother_last_name"),required:!0,value:D.mother_last_name})]})})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Z("mother_dob"),required:!0,value:D.mother_dob})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Z("mother_blood_group"),required:!0,value:D.mother_blood_group,children:[Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Phone Number",type:"number",onChange:Z("mother_phone"),required:!0,value:D.mother_phone})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Present Address",type:"text",onChange:Z("mother_address"),required:!0,value:D.mother_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Permanent Address",type:"text",onChange:Z("mother_permanent_address"),required:!0,value:D.mother_permanent_address})]})})}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:Z("mother_pincode"),required:!0,value:D.mother_pincode})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:Z("mother_nationality"),required:!0,value:D.mother_nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:Z("mother_mother_tongue"),required:!0,value:D.mother_mother_tongue})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){p((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"success",type:"submit",children:"Submit"})]})]})]}),D.guardian_name&&Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)("h2",{children:"Guardian Details"})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"First Name",type:"text",onChange:Z("guardian_name"),required:!0,value:D.guardian_name})]})}),Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:Z("guardian_last_name"),required:!0,value:D.guardian_last_name})]})})]}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Z("guardian_dob"),required:!0,value:D.guardian_dob})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Z("guardian_blood_group"),required:!0,value:D.guardian_blood_group,children:[Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Phone Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Phone Number",type:"number",onChange:Z("guardian_phone"),required:!0,value:D.guardian_phone})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Present Address",type:"text",onChange:Z("guardian_address"),required:!0,value:D.guardian_address})]})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Permanent Address",type:"text",onChange:Z("guardian_permanent_address"),required:!0,value:D.guardian_permanent_address})]})})}),Object(se.jsxs)(x.a,{className:"mb-4",children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",type:"number",onChange:Z("guardian_pincode"),required:!0,value:D.guardian_pincode})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Nationality"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Nationality",type:"text",onChange:Z("guardian_nationality"),required:!0,value:D.guardian_nationality})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:Z("guardian_mother_tongue"),required:!0,value:D.guardian_mother_tongue})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){p((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"success",type:"submit",children:"Submit"})]})]})})]})})]})})]})},Ya=function(){Object(j.g)();var e=Object(q.b)(),t=Object(q.c)((function(e){return e.studentReducer})).studentEditing,a=Object(r.useState)(!1),c=Object(u.a)(a,2),n=c[0],s=c[1],l=Object(r.useState)(0),o=Object(u.a)(l,2),i=o[0],b=o[1],m=Object(r.useState)([]),p=Object(u.a)(m,2),v=p[0],N=p[1],y=Object(r.useState)(!1),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)(!1),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(null),P=Object(u.a)(A,2),L=P[0],B=P[1],E=Object(r.useState)(0),R=Object(u.a)(E,2),K=R[0],M=R[1],z=Object(r.useState)(0),J=Object(u.a)(z,2),W=J[0],H=J[1],V=Object(r.useState)(!1),U=Object(u.a)(V,2),Y=(U[0],U[1],Object(r.useState)({})),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=Fe(),ee=$.user,te=$.token,ae=Object(r.useState)([]),ce=Object(u.a)(ae,2),ne=ce[0],re=ce[1],le=Object(r.useState)(!1),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],ue=Object(r.useState)({}),be=Object(u.a)(ue,2),pe=be[0],xe=(be[1],Object(r.useRef)()),ve=Object(r.useState)({}),ge=Object(u.a)(ve,2),Ne=ge[0],ye=ge[1],Se=Object(lt.useReactToPrint)({content:function(){return xe.current}}),Ce=[];Object(r.useEffect)((function(){var e=Fe().user;e.permissions["Student Management"]&&(Ce=e.permissions["Student Management"],re(Ce))}),[C]),Object(r.useEffect)((function(){ke()}),[W,9,C]);var we=function(e){ye(e),T(!0)},ke=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W+9,a={school:ee.school},e.next=4,Ht(ee.school,ee._id,te,JSON.stringify(a));case 4:if(!(c=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(c.err));case 9:for(n=[],r=function(e){n.push({key:e,sid:c[e].SID,first_name:c[e].firstname,last_name:c[e].lastname,email:c[e].email,phone:c[e].phone,gender:c[e].gender,dob:c[e].date_of_birth.split("T")[0].toString(),class:c[e].class&&c[e].class.name,section:c[e].section&&c[e].section.name,roll:c[e].roll_number,joining_date:c[e].joining_date.split("T")[0].toString(),action:Object(se.jsxs)("h5",{className:"mb-0",children:[Ce&&Ce.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){De(c[e])},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),Ce&&Ce.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return _e(c[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"success",type:"button",onClick:function(){return we(c[e])},children:Object(se.jsx)("i",{className:"fas fa-user"})},"view"+e+1)]},e+1)})},l=0;l<c.length;l++)r(l);N(n),B(n.slice(W,t)),M(Math.ceil(n.length/9)),s(!0);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fe(),c=a.user,e.prev=1,e.next=4,Vt(t,c._id);case 4:e.sent,w(!1===C),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),G.b.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),De=function(t){e(Va(!0)),Q(t)},Ie=[{title:"SID",dataIndex:"sid",sorter:function(e,t){return e.sid>t.sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.sid.toLowerCase().includes(e.toLowerCase())}},{title:"First Name",dataIndex:"first_name",sorter:function(e,t){return e.first_name>t.first_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.first_name.toLowerCase().includes(e.toLowerCase())}},{title:"Last Name",dataIndex:"last_name",sorter:function(e,t){return e.last_name>t.last_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.last_name.toLowerCase().includes(e.toLowerCase())}},{title:"Gender",dataIndex:"gender",sorter:function(e,t){return e.gender>t.gender},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.gender.toLowerCase().includes(e.toLowerCase())}},{title:"DOB",dataIndex:"dob",sorter:function(e,t){return e.dob>t.dob},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.dob.toLowerCase().includes(e.toLowerCase())}},{title:"Class",dataIndex:"class",sorter:function(e,t){return e.class>t.class},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.class.toLowerCase().includes(e.toLowerCase())}},{title:"Section",dataIndex:"section",sorter:function(e,t){return e.section>t.section},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.section.toLowerCase().includes(e.toLowerCase())}},{title:"Roll",dataIndex:"roll",sorter:function(e,t){return e.roll>t.roll},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.roll.toLowerCase().includes(e.toLowerCase())}},{title:"Email",dataIndex:"email",sorter:function(e,t){return e.email>t.email},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.email.toLowerCase().includes(e.toLowerCase())}},{title:"Phone",dataIndex:"phone",sorter:function(e,t){return e.phone>t.phone},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.phone.toLowerCase().includes(e.toLowerCase())}},{title:"Joining Date",dataIndex:"joining_date",sorter:function(e,t){return e.joining_date>t.joining_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.joining_date.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),I?Object(se.jsx)(za,{data:Ne,backHandle:function(){T(!1)}}):Object(se.jsx)(se.Fragment,{children:t?Object(se.jsx)(Ua,{studentDetails:X}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"All Students"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(f.a,{className:"mb-4",children:[Object(se.jsxs)(Te.a,{className:"buttons-head",children:[Object(se.jsxs)("div",{children:[Object(se.jsx)(F.a,{color:"".concat(0===i?"warning":"primary"),type:"button",onClick:function(){b(0)},children:"List View"})," ",Object(se.jsx)(F.a,{color:"".concat(1===i?"warning":"primary"),type:"button",onClick:function(){b(1)},children:"Grid View"})]}),ne&&ne.includes("export")&&Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Se,children:"Print"})]}),Object(se.jsx)(g.a,{children:0===i?Object(se.jsx)(se.Fragment,{children:n&&v?ne&&ne.includes("export")?Object(se.jsx)("div",{ref:xe,style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:Ie,data:v,pagination:!0,exportFileName:"StudentDetails"})}):Object(se.jsx)("div",{ref:xe,style:{overflowX:"auto"},children:Object(se.jsx)(He.a,{columns:Ie,dataSource:v,pagination:{pageSizeOptions:["5","10","30","60","100","1000"],showSizeChanger:!0},style:{whiteSpace:"pre"}})}):Object(se.jsx)(ct,{})}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ie.a,{className:"",fluid:!0,children:Object(se.jsx)(x.a,{className:"card-wrapper",children:null!==L&&Object(se.jsx)(se.Fragment,{children:L.map((function(e,t){return Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{align:"right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{className:"btn-icon-only text-light",color:"",role:"button",size:"sm",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Edit"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Delete"})]})]})}),e.photo&&Object(se.jsx)(Xt.a,{alt:"...",src:e.photo,top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{className:"mt-0",children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"SID"}),Object(se.jsx)("span",{className:"text-md",children:e.sid})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"First Name"}),Object(se.jsx)("span",{className:"text-md",children:e.first_name})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Last Name"}),Object(se.jsx)("span",{className:"text-md",children:e.last_name})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Class"}),Object(se.jsx)("span",{className:"text-md",children:e.class})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Section"}),Object(se.jsx)("span",{className:"text-md",children:e.section})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Roll"}),Object(se.jsx)("span",{className:"text-md",children:e.roll})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)(F.a,{className:"mt-3",onClick:function(){return we(e)},children:"Read More"})})})]})]})},t)}))})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-around mt-4",children:Object(se.jsx)(Wa.a,{nextLabel:">",onPageChange:function(e){var t=9*e.selected%v.length;H(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:K,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})})})]})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:je,toggle:function(){return de(!1)},children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h6",{className:"modal-title",id:"modal-title-default",children:"Support Details"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return de(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"SID"}),Object(se.jsx)("span",{className:"text-md",children:pe.SID})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"First Name"}),Object(se.jsx)("span",{className:"text-md",children:pe.firstname})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Last Name"}),Object(se.jsx)("span",{className:"text-md",children:pe.lastname})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Email"}),Object(se.jsx)("span",{className:"text-md",children:pe.email})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsx)("span",{className:"text-md",children:pe.phone})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Gender"}),Object(se.jsx)("span",{className:"text-md",children:pe.gender})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Roll No."}),Object(se.jsx)("span",{className:"text-md",children:pe.roll_number})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Aadhar Number"}),Object(se.jsx)("span",{className:"text-md",children:pe.aadhar_number})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Caste"}),Object(se.jsx)("span",{className:"text-md",children:pe.caste})]})]}),Object(se.jsx)(x.a,{})]})]})]})]})})]})},Za=Object(R.c)({name:"student",initialState:{staffEditing:!1,edited:!1},reducers:{setStaffEditing:function(e,t){var a=t.payload;e.staffEditing=a},setEdited:function(e,t){var a=t.payload;e.edited=a}}}),Xa=Za.actions.setStaffEditing,Qa=Za.reducer;var $a=function(e){var t,a=e.staffDetails,c=Object(r.useState)(0),s=Object(u.a)(c,2),l=s[0],o=s[1],i=Object(q.b)(),j=Object(r.useState)({_id:a._id,image:a.image,firstname:a.firstname,lastname:a.lastname,email:a.email,phone:a.phone,alternate_phone:a.alternate_phone,date_of_birth:a.date_of_birth,gender:a.gender,birth_place:a.birth_place,caste:a.caste,religion:a.religion,mother_tongue:a.mother_tongue,bloodgroup:a.bloodgroup,joining_date:a.joining_date,present_address:a.present_address,permanent_address:a.permanent_address,state:a.state,city:a.city,country:a.country,pincode:a.pincode,contact_person_name:a.contact_person_name,contact_person_relation:a.contact_person_relation,contact_person_phone:a.contact_person_phone,contact_person_address:a.contact_person_address,contact_person_state:a.contact_person_state,contact_person_city:a.contact_person_city,contact_person_country:a.contact_person_country,contact_person_pincode:a.contact_person_pincode,assign_role:a.assign_role,job:a.job,salary:a.salary,qualification:a.qualification,department:a.department,subject:a.subject}),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(new FormData),S=Object(u.a)(v,1)[0],C=Object(r.useState)(!1),w=Object(u.a)(C,2),_=w[0],D=w[1],I=Object(r.useState)([]),T=Object(u.a)(I,2),A=(T[0],T[1]),P=Object(r.useState)([]),L=Object(u.a)(P,2),B=(L[0],L[1]),R=function(e){return function(t){S.set(e,t.target.value),p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.target.value)))}},K=function(e){return function(t){U("country"===e?Object(n.a)(Object(n.a)({},V),{},{country:t,state:null,city:null}):"state"===e?Object(n.a)(Object(n.a)({},V),{},{state:t,city:null}):Object(n.a)(Object(n.a)({},V),{},{city:t})),p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.name))),S.set(e,t.name),p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.name)))}},M=function(e){return function(t){Q("contact_person_country"===e?Object(n.a)(Object(n.a)({},X),{},{contact_person_country:t,contact_person_state:null,contact_person_city:null}):"contact_person_state"===e?Object(n.a)(Object(n.a)({},X),{},{contact_person_state:t,contact_person_city:null}):Object(n.a)(Object(n.a)({},X),{},{contact_person_city:t})),p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.name))),S.set(e,t.name),p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.name)))}},z=function(e){e.preventDefault(),o((function(e){return e+1})),window.scrollTo(0,0)},J=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Fe(),c=a.user,a.token,S.set("school",c.school),e.prev=3,D(!0),e.next=7,dt(m._id,c._id,S);case 7:if(!(n=e.sent).err){e.next=11;break}return D(!1),e.abrupt("return",G.b.error(n.err));case 11:G.b.success("Update Staff Success"),i(Xa(!1)),D(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),D(!1),G.b.error("Update Staff Failed");case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),W=Object(r.useState)({country:m.country,state:m.state,city:m.city}),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=Object(r.useState)({contact_person_country:m.contact_person_country,contact_person_state:m.contact_person_state,contact_person_city:m.contact_person_city}),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=Nt.Country.getAllCountries().map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)})),ee=function(e){return Nt.State.getStatesOfCountry(e).map((function(e){return Object(n.a)({label:e.name,value:e.isoCode},e)}))},te=function(e,t){return Nt.City.getCitiesOfState(e,t).map((function(e){return Object(n.a)({label:e.name,value:e.stateCode},e)}))};function ae(){return ce.apply(this,arguments)}function ce(){return(ce=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,Ye(a.school,a._id,c);case 4:n=e.sent,A(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return console.log(m),Object(r.useEffect)((function(){}),[V,X]),Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){var t,a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==l){e.next=16;break}return e.next=3,ae();case 3:return t=Fe(),a=t.user,c=t.token,e.prev=4,e.next=7,yt(a._id,a.school,c);case 7:n=e.sent,r=[],n[0].list.map(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.push({value:t,label:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[4,13]])}))),[l]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Staff",parentName:"Staff Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:_?Object(se.jsx)(ct,{}):Object(se.jsxs)(f.a,{className:"mb-4 bg-transparent",children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)(x.a,{className:"d-flex justify-content-center",children:Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(gt.b,{activeStep:l,styleConfig:{activeBgColor:"#e56813",completedBgColor:"#1cdc23",size:"3em"},children:[Object(se.jsx)(gt.a,{label:"Staff Member Details"}),Object(se.jsx)(gt.a,{label:"Residential Details"}),Object(se.jsx)(gt.a,{label:"Contact Details"}),Object(se.jsx)(gt.a,{label:"Occupational Details"})]})})})}),0===l&&Object(se.jsx)(N.a,{onSubmit:z,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",onChange:(t="image",function(e){S.set(t,e.target.files[0]),p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},t,e.target.files[0].name)))}),accept:"image/*"}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Date of Joining"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:R("joining_date"),value:m.joining_date.slice(0,10),required:!0})]}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"First Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"First Name",type:"text",onChange:R("firstname"),value:m.firstname,required:!0})]})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Last Name"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Last Name",type:"text",onChange:R("lastname"),value:m.lastname,required:!0})]})})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"DOB"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:R("date_of_birth"),value:m.date_of_birth.slice(0,10),required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Gender"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:R("gender"),value:m.gender,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Gender"}),Object(se.jsx)("option",{children:"Male"}),Object(se.jsx)("option",{children:"Female"})]})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Email"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Email",onChange:R("email"),value:m.email,type:"email",required:!0})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Contact Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Contact Number",type:"number",onChange:R("phone"),value:m.phone,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Alternate Contact Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Alternate Contact Number",onChange:R("alternate_phone"),value:m.alternate_phone,type:"number",required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Blood Group"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:R("bloodgroup"),value:m.bloodgroup,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Blood Group"}),Object(se.jsx)("option",{children:"A+"}),Object(se.jsx)("option",{children:"A-"}),Object(se.jsx)("option",{children:"B+"}),Object(se.jsx)("option",{children:"B-"}),Object(se.jsx)("option",{children:"O+"}),Object(se.jsx)("option",{children:"O-"}),Object(se.jsx)("option",{children:"AB+"}),Object(se.jsx)("option",{children:"AB-"})]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Birth Place"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Birth Place",onChange:R("birth_place"),value:m.birth_place,type:"text",required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Caste"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Caste",type:"text",onChange:R("caste"),value:m.caste,required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Religion"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Religion",type:"text",onChange:R("religion"),value:m.religion,required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Mother Tongue"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Mother Tongue",type:"text",onChange:R("mother_tongue"),value:m.mother_tongue,required:!0})]})]}),Object(se.jsx)(x.a,{className:"mt-4 float-right mr-4",children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})]})}),1===l&&Object(se.jsx)(N.a,{onSubmit:z,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Present Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Present Address",type:"text",onChange:R("present_address"),value:m.present_address,required:!0})]})}),Object(se.jsx)(x.a,{className:"mb-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Permanent Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Permanent Address",onChange:R("permanent_address"),value:m.permanent_address,type:"text",required:!0})]})}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Code"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Code",onChange:R("pincode"),value:m.pincode,type:"number",required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Country"}),Object(se.jsx)(zt.a,{id:"country",name:"country",label:"country",options:$,required:!0,value:V.country,onChange:K("country"),initialValue:m.country?m.country:null})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"State"}),Object(se.jsx)(zt.a,{id:"state",name:"state",label:"state",options:ee(V.country?V.country.isoCode:null),required:!0,value:V.state,onChange:K("state"),initialValue:m.state?m.state:null})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"City"}),Object(se.jsx)(zt.a,{id:"city",name:"city",label:"city",options:V.state?te(V.country.value,V.state.value):te(null,null),required:!0,value:V.city,onChange:K("city"),initialValue:m.city?m.city:null})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){o((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),2===l&&Object(se.jsx)(N.a,{onSubmit:z,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols1Input",children:"Contact Person Name"}),Object(se.jsx)(k.a,{id:"example4cols1Input",placeholder:"Name",type:"text",onChange:R("contact_person_name"),value:m.contact_person_name,required:!0})]}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Relation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Relation",type:"text",onChange:R("contact_person_relation"),value:m.contact_person_relation,required:!0})]})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols3Input",children:"Contact Number"}),Object(se.jsx)(k.a,{id:"example4cols3Input",placeholder:"Contact Number",onChange:R("contact_person_phone"),value:m.contact_person_phone,type:"number",required:!0})]})})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Address"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Address",type:"text",onChange:R("contact_person_address"),value:m.contact_person_address,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Pin Number"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Pin Number",type:"number",onChange:R("contact_person_pincode"),value:m.contact_person_pincode,required:!0})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Country"}),Object(se.jsx)(zt.a,{id:"country",name:"country",label:"country",options:$,required:!0,value:X.contact_person_country,onChange:M("contact_person_country")})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"State"}),Object(se.jsx)(zt.a,{id:"state",name:"state",label:"state",options:ee(X.contact_person_country?X.contact_person_country.isoCode:null),required:!0,value:X.contact_person_state,onChange:M("contact_person_state")})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"City"}),Object(se.jsx)(zt.a,{id:"city",name:"city",label:"city",options:X.contact_person_state?te(X.contact_person_country.value,X.contact_person_state.value):te(null,null),required:!0,value:X.contact_person_city,onChange:M("contact_person_city")})]})]}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){o((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"primary",type:"submit",children:"Next"})]})]})}),3===l&&Object(se.jsx)(N.a,{onSubmit:J,className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:void 0===m.job?Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Salary"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Salary",type:"number",onChange:R("salary"),value:m.salary,required:!0})]}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Job"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Salary",type:"text",onChange:R("job"),value:m.job,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Salary"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Salary",type:"number",onChange:R("salary"),value:m.salary,required:!0})]})]})}),Object(se.jsxs)(x.a,{className:"mt-4 d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"ml-4",color:"primary",type:"button",onClick:function(){o((function(e){return e-1})),window.scrollTo(0,0)},children:"Previous"}),Object(se.jsx)(F.a,{className:"mr-4",color:"success",type:"submit",children:"Submit"})]})]})})]})})]})};var ec,tc=function(e){var t=e.data,a=e.backHandle,c=Object(r.useState)("1"),n=Object(u.a)(c,2),s=n[0],l=n[1];return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Staff Profile",parentName:"Staff Management"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"mt--3 ",children:Object(se.jsx)(F.a,{className:"float-left mb-2",color:"dark",onClick:a,children:Object(se.jsx)("i",{className:"ni ni-bold-left"})})})}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Xt.a,{alt:"...",src:"https://colorlib.com/polygon/kiaalap/img/profile/1.jpg",top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Name"}),Object(se.jsxs)("span",{className:"text-md",children:[t.firstname," ",t.lastname]})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Department"}),Object(se.jsx)("span",{className:"text-md",children:t.department&&t.department.name})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Job"}),Object(se.jsx)("span",{className:"text-md",children:t.job})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsxs)("span",{className:"text-md",children:["+91 ",t.phone]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Present Address"}),Object(se.jsx)("span",{className:"text-md",children:t.present_address})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Permanent Address"}),Object(se.jsx)("span",{className:"text-md",children:t.permanent_address})]})]})]})]})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{md:"10",children:Object(se.jsxs)(de.a,{pills:!0,style:{cursor:"pointer"},children:[Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"1"===s?"active":"",onClick:function(){return l("1")},children:"Details"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"2"===s?"active":"",onClick:function(){return l("2")},children:"Documents"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"3"===s?"active":"",onClick:function(){return l("3")},children:"Attendance"})}),Object(se.jsx)(ue.a,{children:Object(se.jsx)(be.a,{className:"4"===s?"active":"",onClick:function(){return l("4")},children:"Contact Person"})})]})})})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(Qt.a,{activeTab:s,children:[Object(se.jsx)($t.a,{tabId:"1",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Joining Date"}),Object(se.jsx)("small",{children:t.joining_date&&t.joining_date})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Gender"}),Object(se.jsx)("small",{children:t.gender})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"SID"}),Object(se.jsx)("small",{children:t.SID})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Phone no"}),Object(se.jsx)("small",{children:t.phone})]})})})}),Object(se.jsx)(O.a,{md:"4",children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Alternate Phone no"}),Object(se.jsx)("small",{children:t.alternate_phone})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Email"}),Object(se.jsx)("small",{children:t.email})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Salary"}),Object(se.jsx)("small",{children:t.salary})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Job"}),Object(se.jsx)("small",{children:t.job})]})})})})]})]})}),Object(se.jsx)($t.a,{tabId:"2",children:Object(se.jsx)(pe.a,{flush:!0})}),Object(se.jsx)($t.a,{tabId:"4",children:Object(se.jsxs)(pe.a,{flush:!0,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Country"}),Object(se.jsx)("small",{children:t.contact_person_country})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person State"}),Object(se.jsx)("small",{children:t.contact_person_state})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person City"}),Object(se.jsxs)("small",{children:["+91 ",t.contact_person_city]})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Name"}),Object(se.jsx)("small",{children:t.contact_person_name})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Phone"}),Object(se.jsx)("small",{children:t.contact_person_phone})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Pincode"}),Object(se.jsx)("small",{children:t.contact_person_pincode})]})})})})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-info",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Relation"}),Object(se.jsx)("small",{children:t.contact_person_relation})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(xe.a,{className:"checklist-entry flex-column align-items-start py-4 px-4",children:Object(se.jsx)("div",{className:"checklist-item checklist-item-success",children:Object(se.jsxs)("div",{className:"checklist-info",children:[Object(se.jsx)("h5",{className:"checklist-title mb-0",children:"Contact Person Address"}),Object(se.jsx)("small",{children:t.contact_person_address})]})})})})]})]})})]})})]})})})]})]})]})},ac=function(){var e=Object(q.b)(),t=Fe(),a=t.user,c=(t.token,Object(r.useState)(!1)),n=Object(u.a)(c,2),l=(n[0],n[1],Object(r.useState)(0)),o=Object(u.a)(l,2),i=o[0],j=o[1],b=Object(r.useState)([]),m=Object(u.a)(b,2),p=m[0],v=m[1],N=Object(r.useState)(0),y=Object(u.a)(N,2),S=(y[0],y[1],Object(r.useState)(null)),C=Object(u.a)(S,2),w=C[0],_=C[1],D=Object(r.useState)(0),I=Object(u.a)(D,2),T=I[0],A=I[1],P=Object(r.useState)(0),L=Object(u.a)(P,2),B=L[0],E=L[1],R=Object(r.useState)(!1),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)(!1),W=Object(u.a)(J,2),H=W[0],V=W[1],U=Object(r.useState)(!1),Y=Object(u.a)(U,2),Z=Y[0],Q=Y[1],$=Object(r.useState)(""),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(r.useState)(!1),ne=Object(u.a)(ce,2),re=ne[0],le=ne[1],oe=Object(r.useState)({}),je=Object(u.a)(oe,2),de=je[0],ue=(je[1],Object(r.useState)([])),be=Object(u.a)(ue,2),pe=be[0],xe=be[1],ve=Object(r.useRef)(),ge=Object(lt.useReactToPrint)({content:function(){return ve.current}}),Ne=Object(q.c)((function(e){return e.staffReducer})).staffEditing,ye=Object(q.c)((function(e){return e.authReducer})),Se=[];Object(r.useEffect)((function(){a.permissions["Staff Management"]&&(Se=a.permissions["Staff Management"],xe(Se))}),[Ne]);var Ce=function(e){ae(e),Q(!0)};Object(r.useEffect)((function(){we()}),[B,9,M,Ne]);var we=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B+9,{school:ye.userDetails.school},e.prev=2,e.delegateYield(h.a.mark((function e(){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(ye.userDetails.school,ye.userDetails._id);case 2:for(a=e.sent,c=a.data,console.log(c),n=[],r=function(e){n.push({key:e,sid:c[e].SID,first_name:c[e].firstname,last_name:c[e].lastname,email:c[e].email,phone:c[e].phone,gender:c[e].gender,assign_role:c[e].assign_role&&c[e].assign_role.name,job:c[e].job,job_description:c[e].job_description,department:c[e].department.name,joining_date:c[e].joining_date.split("T")[0].toString(),action:Object(se.jsxs)("h5",{className:"mb-0",children:[Se&&Se.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return Pe(c[e])},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),Se&&Se.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return ke(c[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"success",type:"button",onClick:function(){return Ce(c[e])},children:Object(se.jsx)("i",{className:"fas fa-user"})},"view"+e+1)]},e+1)})},s=0;s<c.length;s++)r(s);v(n),V(!0),_(c.slice(B,t)),A(Math.ceil(c.length/9));case 12:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:e.next=11;break;case 6:e.prev=6,e.t1=e.catch(2),console.log(e.t1),G.b.error(X),V(!0);case 11:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jt(t,a._id);case 3:e.sent,z(!1===M),G.b.success("Delete Staff Success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),G.b.error("Delete Staff Failed");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_e=Object(r.useState)({}),De=Object(u.a)(_e,2),Ie=De[0],Ae=De[1],Pe=function(){var t=Object(d.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Xa(!0)),Ae(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Le=[{title:"SID",dataIndex:"sid",sorter:function(e,t){return e.sid>t.sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.sid.toLowerCase().includes(e.toLowerCase())}},{title:"First Name",dataIndex:"first_name",sorter:function(e,t){return e.first_name>t.first_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.first_name.toLowerCase().includes(e.toLowerCase())}},{title:"Last Name",dataIndex:"last_name",sorter:function(e,t){return e.last_name>t.last_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.last_name.toLowerCase().includes(e.toLowerCase())}},{title:"Gender",dataIndex:"gender",sorter:function(e,t){return e.gender>t.gender},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.gender.toLowerCase().includes(e.toLowerCase())}},{title:"Department",dataIndex:"department",sorter:function(e,t){return e.department>t.department},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.department.toLowerCase().includes(e.toLowerCase())}},{title:"Job",dataIndex:"job",sorter:function(e,t){return e.job>t.job},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.job.toLowerCase().includes(e.toLowerCase())}},{title:"Job Description",dataIndex:"job_description",sorter:function(e,t){return e.job_description>t.job_description},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.job.toLowerCase().includes(e.toLowerCase())}},{title:"Phone",dataIndex:"phone",sorter:function(e,t){return e.phone>t.phone},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.phone.toLowerCase().includes(e.toLowerCase())}},{title:"Email",dataIndex:"email",sorter:function(e,t){return e.email>t.email},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.email.toLowerCase().includes(e.toLowerCase())}},{title:"Role",dataIndex:"assign_role",sorter:function(e,t){return e.assign_role>t.assign_role},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.assign_role.toLowerCase().includes(e.toLowerCase())}},{title:"Joining Date",dataIndex:"joining_date",sorter:function(e,t){return e.joining_date>t.joining_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.joining_date.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];return Object(se.jsxs)(s.a.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Z?Object(se.jsx)(tc,{data:te,backHandle:function(){Q(!1)}}):Object(se.jsx)(se.Fragment,{children:Ne?Object(se.jsx)($a,{staffDetails:Ie}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"All Staffs",parentName:"Staff Management"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsxs)(f.a,{className:"mb-4",children:[Object(se.jsxs)(Te.a,{className:"buttons-head",children:[Object(se.jsxs)("div",{children:[Object(se.jsx)(F.a,{color:"".concat(0===i?"warning":"primary"),type:"button",onClick:function(){j(0)},children:"List View"})," ",Object(se.jsx)(F.a,{color:"".concat(1===i?"warning":"primary"),type:"button",onClick:function(){j(1)},children:"Grid View"})]}),pe&&pe.includes("export")&&Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:ge,style:{float:"right"},children:"Print"})]}),Object(se.jsx)(g.a,{children:H?Object(se.jsx)(se.Fragment,{children:0===i?Object(se.jsx)(se.Fragment,{children:pe&&pe.includes("export")?Object(se.jsx)("div",{ref:ve,style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:Le,data:p,pagination:!0,exportFileName:"StaffDetails"})}):Object(se.jsx)("div",{style:{overflowX:"auto"},children:Object(se.jsx)(He.a,{style:{whiteSpace:"pre"},columns:Le,dataSource:p,pagination:{pageSizeOptions:["5","10","30","60","100","1000"],showSizeChanger:!0}})})}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ie.a,{className:"",fluid:!0,children:Object(se.jsx)(x.a,{className:"card-wrapper",children:null!==w&&Object(se.jsx)(se.Fragment,{children:w.map((function(e,t){return Object(se.jsx)(O.a,{md:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{align:"right",children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(fe.a,{className:"btn-icon-only text-light",color:"",role:"button",size:"sm",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(se.jsxs)(me.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Edit"}),Object(se.jsx)(Oe.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Delete"})]})]})}),e.photo&&Object(se.jsx)(Xt.a,{alt:"...",src:e.photo,top:!0,className:"p-4"}),Object(se.jsxs)(g.a,{className:"mt-0",children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"SID"}),Object(se.jsx)("span",{className:"text-md",children:e.SID})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"First Name"}),Object(se.jsx)("span",{className:"text-md",children:e.firstname})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Last Name"}),Object(se.jsx)("span",{className:"text-md",children:e.lastname})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Assign Role"}),Object(se.jsx)("span",{className:"text-md",children:e.assign_role&&e.assign_role.name})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Department"}),Object(se.jsx)("span",{className:"text-md",children:e.department.name})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{align:"center",children:Object(se.jsx)(F.a,{className:"mt-3",onClick:function(){return Ce(e)},children:"Read More"})})})]})]})},t)}))})})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-around mt-4",children:Object(se.jsx)(Wa.a,{nextLabel:">",onPageChange:function(e){var t=9*e.selected%p.length;E(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:T,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})})})]})}):Object(se.jsx)(ct,{})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:re,toggle:function(){return le(!1)},children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h6",{className:"modal-title",id:"modal-title-default",children:"Support Details"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return le(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"SID"}),Object(se.jsx)("span",{className:"text-md",children:de.SID})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"First Name"}),Object(se.jsx)("span",{className:"text-md",children:de.firstname})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Last Name"}),Object(se.jsx)("span",{className:"text-md",children:de.lastname})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Email"}),Object(se.jsx)("span",{className:"text-md",children:de.email})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Phone"}),Object(se.jsx)("span",{className:"text-md",children:de.phone})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Gender"}),Object(se.jsx)("span",{className:"text-md",children:de.gender})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Role"}),Object(se.jsx)("span",{className:"text-md",children:de.assign_role&&de.assign_role.name})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Job"}),Object(se.jsx)("span",{className:"text-md",children:de.job})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Sallary"}),Object(se.jsx)("span",{className:"text-md",children:de.salary})]})]}),Object(se.jsx)(x.a,{})]})]})]})]})})]})},cc=a(362),nc=a(355),rc=a(356),sc=a(269),lc=a.n(sc),oc=a(788),ic=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/event/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))},jc=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/event/all/").concat(t,"/").concat(e);return fetch(c,{method:"GET",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},dc=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/event/edit/").concat(t,"/").concat(e);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},uc=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/event/delete/").concat(e,"/").concat(t);return fetch(c,{method:"DELETE",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))};a(689);var bc=function(){var e=Fe(),t=e.user,a=e.token,c=s.a.useState([]),n=Object(u.a)(c,2),l=n[0],o=n[1],i=s.a.useState(null),j=Object(u.a)(i,2),b=j[0],m=j[1],v=s.a.useState(!1),S=Object(u.a)(v,2),C=S[0],w=S[1],_=s.a.useState(!1),D=Object(u.a)(_,2),I=D[0],T=D[1],A=s.a.useState(new Date),P=Object(u.a)(A,2),L=P[0],B=P[1],q=s.a.useState(new Date),E=Object(u.a)(q,2),R=E[0],K=E[1],M=s.a.useState(null),z=Object(u.a)(M,2),J=z[0],W=z[1],H=s.a.useState(null),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=s.a.useState(null),Q=Object(u.a)(Z,2),$=Q[0],ee=Q[1],te=s.a.useState(null),ae=Object(u.a)(te,2),ce=(ae[0],ae[1]),ne=s.a.useState(null),re=Object(u.a)(ne,2),le=re[0],oe=re[1],je=s.a.useState(null),de=Object(u.a)(je,2),ue=de[0],be=de[1],he=s.a.useState(null),me=Object(u.a)(he,2),pe=(me[0],me[1]),xe=s.a.useState(null),Oe=Object(u.a)(xe,2),fe=(Oe[0],Oe[1]),ve=s.a.useRef(null),ge=s.a.useState(!1),Ne=Object(u.a)(ge,2),ye=Ne[0],Se=Ne[1],Ce=Object(r.useState)([]),we=Object(u.a)(Ce,2),ke=we[0],_e=we[1],De=s.a.useState(!1),Ie=Object(u.a)(De,2),Te=Ie[0],Ae=Ie[1],Pe=s.a.useState([]),Le=Object(u.a)(Pe,2),Be=Le[0],Re=Le[1],Ke=Object(r.useState)(""),Me=Object(u.a)(Ke,2),We=(Me[0],Me[1],Object(r.useState)([])),Ve=Object(u.a)(We,2),Ge=Ve[0],Ue=Ve[1],Ye=Object(r.useState)(""),Ze=Object(u.a)(Ye,2),Xe=Ze[0],Qe=Ze[1],$e=Object(r.useState)(""),tt=Object(u.a)($e,2),at=tt[0],rt=tt[1],st=Object(r.useState)(""),lt=Object(u.a)(st,2),ot=lt[0],jt=(lt[1],Object(r.useState)([])),dt=Object(u.a)(jt,2),ut=(dt[0],dt[1]),bt=Object(r.useState)({}),ht=Object(u.a)(bt,2),mt=ht[0],xt=ht[1],Ot=Object(r.useState)(!1),ft=Object(u.a)(Ot,2),gt=ft[0],Nt=ft[1],yt=Object(r.useState)(!1),St=Object(u.a)(yt,2),Ct=(St[0],St[1]),wt=Object(r.useState)(!1),kt=Object(u.a)(wt,2),_t=kt[0],Ft=kt[1],Dt=Object(r.useState)(!1),It=Object(u.a)(Dt,2),Tt=It[0],At=It[1],Pt=[];Object(r.useEffect)((function(){t.permissions["School Calendar"]&&(Pt=t.role["School Calendar"],ut(Pt)),Lt(),Bt()}),[]);var Lt=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(t.school,t._id);case 3:a=e.sent,c=a.data,Ue(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),G.b.error(X);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:_e(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),qt=function(e){ec.changeView(e),fe(ec.view.title)},Et=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).set("name",$),c.set("event_from",new Date(L)),c.set("event_to",new Date(R)),c.set("description",le),c.set("event_type",J),c.set("school",t.school),c.set("assignTeachers",JSON.stringify([at])),c.set("session",Xe),e.prev=9,Ft(!0),e.next=13,ic(t._id,a,c);case 13:w(!1),G.b.success("Event addedd successfully"),Se(!ye),Ft(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(9),G.b.error(e.t0),Ft(!1);case 23:o(void 0),B(void 0),K(void 0),W("bg-info"),ee(void 0);case 28:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){ec=new cc.a(ve.current,{plugins:[rc.a,nc.a],initialView:"dayGridMonth",selectable:!0,headerToolbar:{left:"title"},customButtons:{prev:{text:"Prev",click:function(){ec.prev()}},next:{text:"Next",click:function(){ec.next()}}},select:function(e){console.log("info",e),e.start<new Date?console.log("here"):(w(!0),B(e.start),K(R),W("bg-info"))},eventClick:function(e){var t=e.event;Y(t.id),ee(t.title),oe(t.extendedProps.description),W("exams"),pe(t),be(t.extendedProps.assignTeachers),T(!0)}}),ec.render(),fe(ec.view.title),Rt()}),[ye]);var Rt=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,Ct(!0),e.next=4,jc(a._id,a.school,c);case 4:n=e.sent,o(n),n.map((function(e){return ec.addEvent({title:e.name,start:e.event_from,end:e.event_to,className:e.event_type,description:e.description,id:e._id,assignTeacher:ue})})),r=[],n.map((function(e,t){r.push({key:e._id,event_name:e.name,start_date:e.event_from.split("T")[0],end_date:e.event_to.split("T")[0],action:Object(se.jsx)("h5",{className:"mb-0",children:Object(se.jsxs)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){Nt(!0),xt(e)},children:["View More"," "]},"view"+t+1)},t+1)})})),Re(r),Se(!1),Ct(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,(n=new FormData).set("name",$),n.set("event_from",new Date(L)),n.set("event_to",new Date(R)),n.set("description",le),n.set("event_type",J),n.set("session",Xe),n.set("school",a.school),e.prev=9,At(!0),e.next=13,dc(a._id,U,c,n);case 13:r=e.sent,o(r),Se(!0),At(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(9),At(!1),G.b.error("Update Calendar Failed");case 23:T(!1),W("bg-info"),ee(void 0),ce(void 0),Y(void 0),pe(void 0);case 29:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Fe(),a=t.user,c=t.token,e.next=4,uc(U,a._id,c);case 4:n=e.sent,pe(void 0),m(Object(se.jsx)(lc.a,{success:!0,style:{display:"block",marginTop:"-100px"},title:"Success",onConfirm:function(){return m(null)},onCancel:function(){return m(null)},confirmBtnBsStyle:"primary",confirmBtnText:"Ok",btnSize:""})),o(n),Se(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),G.b.error("Delete Calendar Failed");case 14:T(!1),W("bg-info"),ee(void 0),ce(void 0),Y(void 0),pe(void 0);case 20:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=l.filter((function(e){return e.session.toString()===ot.toString()})),t=[];e.map((function(e,a){t.push({key:e._id,event_name:e.name,start_date:e.event_from.split("T")[0],end_date:e.event_to.split("T")[0],action:Object(se.jsx)("h5",{className:"mb-0",children:Object(se.jsxs)(F.a,{className:"btn-sm pull-right",color:"success",type:"button",children:[Object(se.jsx)("i",{className:"fas fa-user"}),"View More"," "]},"view"+a+1)},a+1)})})),Re(t),Se(!1)}),[ot]);var zt=[{title:"Event Name",dataIndex:"event_name",width:150,sorter:function(e,t){return e.event_name>t.event_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.event_name.toLowerCase().includes(e.toLowerCase())}},{title:"Start Date",dataIndex:"start_date",width:150,sorter:function(e,t){return e.start_date>t.start_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.start_date.toLowerCase().includes(e.toLowerCase())}},{title:"End Date",dataIndex:"end_date",width:150,sorter:function(e,t){return e.end_date>t.end_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.end_date.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];return Object(se.jsxs)(se.Fragment,{children:[b,Object(se.jsxs)(ze.a,{style:{height:"65vh",marginTop:"8rem"},isOpen:Te,toggle:function(){return Ae(!1)},size:"lg",scrollable:!0,children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:Te?"Event List":""}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return Ae(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Tt?Object(se.jsx)(ct,{}):Object(se.jsx)(Je.a,{children:Object(se.jsx)(He.a,{columns:zt,dataSource:Be})})]}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)("div",{className:"header header-dark bg-info pb-6 content__title content__title--calendar",children:Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsx)("div",{className:"header-body",children:Object(se.jsxs)(x.a,{className:"align-items-center py-4",children:[Object(se.jsx)(O.a,{lg:"6",children:Object(se.jsxs)(qe.a,{className:"d-none d-md-inline-block ml-lg-4",listClassName:"breadcrumb-links breadcrumb-dark",children:[Object(se.jsx)(Ee.a,{children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(se.jsx)("i",{className:"fas fa-home"})})}),Object(se.jsx)(Ee.a,{children:Object(se.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Dashboard"})}),Object(se.jsx)(Ee.a,{"aria-current":"page",className:"active",children:"Calendar"})]})}),Object(se.jsxs)(O.a,{className:"mt-3 mt-md-0 text-md-right",lg:"6",children:[Object(se.jsx)(F.a,{className:"btn-neutral",color:"default",onClick:function(){return Ae(!0)},size:"sm",children:"View Events"}),Object(se.jsx)(F.a,{className:"btn-neutral",color:"default","data-calendar-view":"basicMonth",onClick:function(){return qt("dayGridMonth")},size:"sm",children:"Month"}),Object(se.jsx)(F.a,{className:"btn-neutral",color:"default","data-calendar-view":"basicWeek",onClick:function(){return qt("dayGridWeek")},size:"sm",children:"Week"}),Object(se.jsx)(F.a,{className:"btn-neutral",color:"default","data-calendar-view":"basicDay",onClick:function(){return qt("dayGridDay")},size:"sm",children:"Day"})]})]})})})}),Object(se.jsx)(ie.a,{className:"mt--6 w-100",fluid:!0,children:Object(se.jsx)(x.a,{children:Object(se.jsxs)("div",{className:"col",children:[Object(se.jsx)(f.a,{className:"card-calendar w-100",children:Object(se.jsx)(g.a,{className:"p-0",children:Object(se.jsx)("div",{className:"calendar","data-toggle":"calendar",id:"calendar",ref:ve})})}),Object(se.jsx)(ze.a,{isOpen:C,toggle:function(){return w(!1)},className:"modal-dialog-centered modal-secondary",children:_t?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"modal-body",children:Object(se.jsxs)("form",{className:"new-event--form",children:[Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:function(e){return Qe(e.target.value)},children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),ke&&ke.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Event title"}),Object(se.jsx)(k.a,{className:"form-control-alternative new-event--title",placeholder:"Event Title",type:"text",onChange:function(e){return ee(e.target.value)},required:!0})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"From"}),Object(se.jsx)(vt.a,{className:"p-2 endDate",showTimeSelect:!0,dateFormat:"yyyy MMMM, dd h:mm aa",selected:L,selectsStart:!0,startDate:L,minDate:new Date,onChange:function(e){return B(e)},strictParsing:!0,value:L,required:!0})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(vt.a,{className:"p-2 endDate",showTimeSelect:!0,dateFormat:"yyyy MMMM, dd h:mm aa",selected:L,selectsStart:!0,minDate:new Date,startDate:L,onChange:function(e){return K(e)},strictParsing:!0,value:R,required:!0})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Teacher"}),Object(se.jsxs)(k.a,{type:"select",onChange:function(e){return rt(e.target.value)},children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),Ge&&Ge.map((function(e,t){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},t)}))]})]}),Object(se.jsx)(y.a,{children:Object(se.jsx)("textarea",{className:"form-control-alternative new-event--title w-100 descrip",placeholder:"Description",type:"text",onChange:function(e){return oe(e.target.value)},required:!0})}),Object(se.jsxs)(y.a,{className:"mb-0",children:[Object(se.jsx)("label",{className:"form-control-label d-block mb-3",children:"Status color"}),Object(se.jsxs)(oc.a,{className:"btn-group-toggle btn-group-colors event-tag","data-toggle":"buttons",children:[Object(se.jsx)(F.a,{className:p()("bg-info",{active:"bg-info"===J}),color:"",id:"bg-info",type:"button",onClick:function(){return W("bg-info")},value:"bg-info"}),Object(se.jsx)(F.a,{className:p()("bg-warning",{active:"bg-warning"===J}),color:"",id:"bg-warning",type:"button",onClick:function(){return W("bg-warning")},value:"bg-warning"}),Object(se.jsx)(F.a,{className:p()("bg-danger",{active:"bg-danger"===J}),color:"",id:"bg-danger",type:"button",onClick:function(){return W("bg-danger")},value:"bg-danger"})]})]})]})}),Object(se.jsxs)("div",{className:"modal-footer",children:[Object(se.jsx)(F.a,{className:"new-event--add",color:"primary",type:"button",onClick:Et,children:"Add event"}),Object(se.jsx)(F.a,{className:"ml-auto",color:"link",type:"button",onClick:function(){return w(!1)},children:"Close"})]})]})}),Object(se.jsx)(ze.a,{isOpen:I,toggle:function(){return T(!1)},className:"modal-dialog-centered modal-secondary",children:Tt?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"modal-body",children:Object(se.jsxs)(N.a,{className:"edit-event--form",children:[Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Event title"}),Object(se.jsx)(k.a,{className:"form-control-alternative edit-event--title",placeholder:"Event Title",type:"text",defaultValue:$,onChange:function(e){return ee(e.target.value)},required:!0})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"From"}),Object(se.jsx)(vt.a,{className:"p-2 endDate",showTimeSelect:!0,dateFormat:"yyyy MMMM, dd h:mm aa",selected:L,selectsStart:!0,startDate:L,onChange:function(e){return B(e)},strictParsing:!0,value:L,required:!0}),Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(vt.a,{className:"p-2 endDate",showTimeSelect:!0,dateFormat:"yyyy MMMM, dd h:mm aa",selected:R,selectsStart:!0,startDate:R,onChange:function(e){return K(e)},strictParsing:!0,value:R,required:!0})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Assignteacher"}),Object(se.jsxs)(k.a,{className:"form-control-alternative new-event--title descrip",id:"exampleFormControlSelect3",type:"select",onChange:function(e){return be(e.target.value)},required:!0,children:[Object(se.jsx)("option",{value:"",selected:!0,children:ue}),Ge.map((function(e,t){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},t)}))]})]}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Description"}),Object(se.jsx)(k.a,{className:"form-control-alternative edit-event--description textarea-autosize",placeholder:"Event Desctiption",type:"textarea",defaultValue:le,onChange:function(e){return oe(e.target.value)},required:!0}),Object(se.jsx)("i",{className:"form-group--bar"})]}),Object(se.jsx)("input",{className:"edit-event--id",type:"hidden"}),Object(se.jsxs)(y.a,{children:[Object(se.jsx)("label",{className:"form-control-label d-block mb-3",children:"Status color"}),Object(se.jsxs)(oc.a,{className:"btn-group-toggle btn-group-colors event-tag mb-0","data-toggle":"buttons",children:[Object(se.jsx)(F.a,{className:p()("bg-info",{active:"bg-info"===J}),color:"",id:"bg-info",type:"button",onClick:function(){return W("bg-info")},value:"bg-info"}),Object(se.jsx)(F.a,{className:p()("bg-warning",{active:"bg-warning"===J}),color:"",id:"bg-warning",type:"button",onClick:function(){return W("bg-warning")},value:"bg-warning"}),Object(se.jsx)(F.a,{className:p()("bg-danger",{active:"bg-danger"===J}),color:"",id:"bg-danger",type:"button",onClick:function(){return W("bg-danger")},value:"vaccation"})]})]})]})}),Object(se.jsxs)("div",{className:"modal-footer",children:[Object(se.jsx)(F.a,{color:"primary",onClick:Kt,children:"Update"}),Object(se.jsx)(F.a,{color:"danger",onClick:function(){T(!1),m(Object(se.jsx)(lc.a,{warning:!0,style:{display:"block",marginTop:"-100px"},title:"Are you sure?",onConfirm:function(){m(!1),W("bg-info"),ee(void 0),ce(void 0),Y(void 0)},onCancel:function(){return Mt()},confirmBtnCssClass:"btn-secondary",cancelBtnBsStyle:"danger",confirmBtnText:"Cancel",cancelBtnText:"Yes, delete it",showCancel:!0,btnSize:"",children:"You won't be able to revert this!"}))},children:"Delete"}),Object(se.jsx)(F.a,{className:"ml-auto",color:"link",onClick:function(){return T(!1)},children:"Close"})]})]})})]})})}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:gt,toggle:function(){return Nt(!1)},children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h6",{className:"modal-title",id:"modal-title-default",children:"Event Details"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return Nt(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsxs)(Je.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Event Name"}),Object(se.jsx)("span",{className:"text-md",children:mt.name})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Event Detail"}),Object(se.jsx)("span",{className:"text-md",children:mt.description})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Event type"}),Object(se.jsx)("span",{className:"text-md",children:mt.event_type})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Event From"}),Object(se.jsx)("span",{className:"text-md",children:mt.event_from})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Event to"}),Object(se.jsx)("span",{className:"text-md",children:mt.event_to})]}),Object(se.jsxs)(O.a,{align:"center",children:[Object(se.jsx)("h4",{className:"mt-3 mb-1",children:"Event Teachers"}),mt.assignTeachers&&mt.assignTeachers.map((function(e,t){return Object(se.jsxs)("span",{className:"text-md",children:[e.firstname," ",e.lastname]},t)}))]})]})]})]})]})},hc=a(789),mc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/attendance/all/").concat(t,"/").concat(a));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),pc=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/attendance/date/edit/").concat(a,"/").concat(t),c,"PUT");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),xc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/attendance/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Oc=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://35.174.4.42:5000","/api/school/attendance/custom/all/").concat(a,"/").concat(t),JSON.stringify(c),"POST");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),fc=(a(690),a(70)),vc=a.n(fc);var gc=function(){var e=Fe(),t=e.user,a=(e.token,Na()().startOf("month").format("YYYY-MM-DD")),c=Na()().endOf("month").format("YYYY-MM-DD"),l=Na()().endOf("month").format("DD"),o=Object(r.useState)(0),i=Object(u.a)(o,2),j=(i[0],i[1],s.a.useState({dateFrom:a,dateTo:c,name:"",studentId:"",session:"",selectClass:"",selectSection:""})),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(q.c)((function(e){return e.classReducer})).classes,y=Object(r.useState)([]),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)({}),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(!1),P=Object(u.a)(A,2),L=P[0],B=P[1],R=Object(r.useState)([]),K=Object(u.a)(R,2),M=(K[0],K[1],Object(r.useState)([])),z=Object(u.a)(M,2),J=z[0],W=z[1],H=Object(r.useState)(""),V=Object(u.a)(H,2),U=(V[0],V[1],Object(r.useState)("")),Y=Object(u.a)(U,2),Z=(Y[0],Y[1],Object(r.useState)("")),X=Object(u.a)(Z,2),Q=X[0],$=X[1],ee=Object(r.useState)({}),te=Object(u.a)(ee,2),ae=te[0],ce=te[1],ne=Object(r.useState)([]),re=Object(u.a)(ne,2),le=re[0],oe=re[1],je=Object(r.useState)([]),de=Object(u.a)(je,2),ue=(de[0],de[1],s.a.useState({})),be=Object(u.a)(ue,2),he=be[0],me=(be[1],Object(r.useState)([])),pe=Object(u.a)(me,2),xe=(pe[0],pe[1]),Oe=Object(r.useState)([]),fe=Object(u.a)(Oe,2),ve=fe[0],ge=fe[1],Ne=Object(r.useState)(),ye=Object(u.a)(Ne,2),Se=(ye[0],ye[1],new FileReader,Object(r.useState)(!1)),Ce=Object(u.a)(Se,2),we=Ce[0],ke=Ce[1],_e=Object(r.useState)(!1),De=Object(u.a)(_e,2),Ie=De[0],Ae=De[1],Pe=Object(r.useState)(!1),Be=Object(u.a)(Pe,2),qe=Be[0],Ee=Be[1],Re=Object(r.useState)(!1),Ke=Object(u.a)(Re,2),Me=Ke[0],We=Ke[1],He=Object(r.useState)([]),Ge=Object(u.a)(He,2),Ue=(Ge[0],Ge[1]),Ye=Object(r.useState)(!1),Ze=Object(u.a)(Ye,2),Xe=Ze[0],Qe=Ze[1],$e=Object(r.useState)([]),et=Object(u.a)($e,2),tt=et[0],at=et[1],rt=Object(r.useState)(!1),st=Object(u.a)(rt,2),lt=st[0],ot=st[1],it=Object(r.useState)(""),jt=Object(u.a)(it,2),dt=jt[0],ut=jt[1],bt=Object(r.useState)(""),ht=Object(u.a)(bt,2),mt=(ht[0],ht[1]);Object(r.useEffect)((function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear();mt(t+"-"+a+"-"+c)}),[]);var xt=[];Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(!0),t.permissions.Attendance&&(xt=t.permissions.Attendance,Ue(xt)),e.next=4,Ot();case 4:ke(!1);case 5:case"end":return e.stop()}}),e)}))),[]);var Ot=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:return W(n),e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),ft=s.a.useState(!1),vt=Object(u.a)(ft,2),gt=vt[0],Nt=vt[1],yt=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt(!gt),Ae(!0),e.next=4,Dt(m.selectSection,m.selectClass);case 4:Ae(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),St=function(e){return function(t){if(p(Object(n.a)(Object(n.a)({},m),{},Object(E.a)({},e,t.target.value))),"selectClass"===e){var a=v.find((function(e){return e._id.toString()===t.target.value.toString()}));ce(a)}}};Object(r.useEffect)((function(){xe([{title:"#",width:50,dataIndex:"hash",key:"hash",fixed:"left"},{title:"Name",width:50,dataIndex:"name",key:"name",fixed:"left"}])}),[]),Object(r.useEffect)((function(){p(Object(n.a)(Object(n.a)({},m),{},{atd:he}))}),[he]);var Ct=[];Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(!0),e.next=3,wt();case 3:ke(!1);case 4:case"end":return e.stop()}}),e)}))),[]);var wt=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mc(t.school,t._id);case 3:for(a=e.sent,console.log(a),c=[],n=0;n<a.length;n++)for(r=a[n].date.slice(8,10),s=0;s<l;s++)r.toString()===s.toString()&&c.push({key:s,status:a.attendance_status});e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),G.b.error("Getting All Attendance Failed");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),kt=function(e){return function(){var a=Object(d.a)(h.a.mark((function a(c){var n,r,s,l,o,i,j;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=new Date,r=n.getDate(),s=n.getMonth()+1,l=n.getFullYear(),o=l+"-"+s+"-"+r,J.map((function(e){"current"===e.status&&(i=e._id)})),j={},le&&le.forEach((function(a,n){a.student!==e?j={attendance_status:c.target.value,date:o,session:i,class:m.selectClass,section:m.selectSection,school:t.school,student:e}:le[n].attendance_status=c.target.value})),0===le.length&&(j={attendance_status:c.target.value,date:o,session:i,class:m.selectClass,section:m.selectSection,school:t.school,student:e}),oe([].concat(Object(Ka.a)(le),[j]));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},_t=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=le,c=Array.from(new Set(a.map((function(e){return e.student})))).map((function(e){return a.find((function(t){return t.student===e}))})),n=c.filter((function(e){return 0!==Object.keys(e).length})),(r=new FormData).set("attendance",JSON.stringify(n)),r.set("school",t.school),r.set("class",m.selectClass),r.set("section",m.selectSection),e.prev=8,Qe(!0),e.next=12,xc(t._id,r);case 12:s=e.sent,console.log(s),s&&s.err?(Nt(!1),Qe(!1),G.b.error(s.err)):(G.b.success("Add Attendance Success"),Nt(!1),Qe(!1),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),Qe(!1),G.b.error("Add Attendance Failed");case 22:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n,r,s,l,o,i,j,d,u,b,p,x,O,f,v,g,N,y,S;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==m.selectClass||""!==m.studentId||""!==m.selectSection||""!==m.name){e.next=5;break}G.b.error("Please Select Filter To Search"),e.next=80;break;case 5:if(""===m.selectClass||""!==m.selectSection){e.next=9;break}G.b.error("Please Select Section!"),e.next=80;break;case 9:if(ke(!0),""===m.name){e.next=32;break}return new FormData,c={name:m.name,start_date:m.dateFrom,end_date:m.dateTo,session:m.session},e.prev=13,e.next=16,Oc(t._id,t.school,c);case 16:for(s in n=e.sent,console.log(n),T(n),B(!0),r=[],n.studentDatas)(l={})[s]=n.studentDatas[s],console.log(l),r.push(l);ge(r),ke(!1),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(13),console.log(e.t0),ke(!1);case 30:e.next=80;break;case 32:if(""===m.studentId){e.next=54;break}return new FormData,o={studentID:m.studentId,start_date:m.dateFrom,end_date:m.dateTo,session:m.session},e.prev=35,e.next=38,Oc(t._id,t.school,o);case 38:for(d in i=e.sent,console.log(i),T(i),B(!0),j=[],i.studentDatas)(u={})[d]=i.studentDatas[d],console.log(u),j.push(u);ge(j),ke(!1),e.next=52;break;case 48:e.prev=48,e.t1=e.catch(35),console.log(e.t1),ke(!1);case 52:e.next=80;break;case 54:return(b=new FormData).set("classId",m.selectClass),b.set("sectionId",m.selectSection),p=new Date,x=p.getFullYear(),O=(p.getMonth()+1).toString().padStart(2,"0"),f=p.getDate().toString().padStart(2,"0"),v={class:m.selectClass,section:m.selectSection,start_date:m.dateFrom,end_date:m.dateTo,today_date:x+"-"+O+"-"+f,session:m.session},e.prev=62,e.next=65,Oc(t._id,t.school,v);case 65:for(y in g=e.sent,console.log(g),T(g),B(!0),N=[],g.studentDatas)(S={})[y]=g.studentDatas[y],console.log(S),N.push(S);console.log(N),ge(N),ke(!1),e.next=80;break;case 76:e.prev=76,e.t2=e.catch(62),console.log(e.t2),ke(!1);case 80:case"end":return e.stop()}}),e,null,[[13,26],[35,48],[62,76]])})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(d.a)(h.a.mark((function e(a,c){var n,r,s,l,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={section:a,class:c},e.next=3,Yt(t.school,t._id,n);case 3:for(r=e.sent,console.log(I),s=0;s<r.length;s++){for(l=!1,o=0;o<ve.length;o++)i=Object.keys(ve[o]).toString().split(",")[1],r[s].SID===i&&I.studentDatas[Object.keys(ve[o])].length===I.workingDay.length&&!0===I.Today&&(l=!0);!1===l&&Ct.push({key:r[s]._id,SID:r[s].SID,hash:"".concat(s+1),name:r[s].firstname+" "+r[s].lastname})}w(Ct);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n,r,s,l,o,i,j,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),Ee(!0),c=new Date(a.target.value),n=c.getFullYear(),r=(c.getMonth()+1).toString().padStart(2,"0"),s=c.getDate().toString().padStart(2,"0"),(c.getDate()+1).toString().padStart(2,"0"),l={class:m.selectClass,section:m.selectSection,start_date:n+"-"+r+"-"+s,end_date:n+"-"+r+"-"+s,session:m.session},$(n+"-"+r+"-"+s),e.prev=9,e.next=12,Oc(t._id,t.school,l);case 12:if((o=e.sent)&&o.err)G.b.error(o.err);else{for(j in console.log(o),i=[],o.studentDatas)(d={})[j]=o.studentDatas[j],console.log(d),i.push(d);console.log(i),ut(i),ot(!0),Ee(!1)}e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),Ee(!1);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),0!==tt.length){e.next=5;break}G.b.error("First Change Status Before Submit"),e.next=22;break;case 5:return Ee(!0),(c=new FormData).set("class",m.selectClass),c.set("section",m.selectSection),c.set("date",Q),c.set("editAttedance",JSON.stringify(tt)),c.set("section",m.selectSection),e.prev=12,e.next=15,pc(t._id,t.school,c);case 15:(n=e.sent)&&n.err?G.b.error(n.err):(Ee(!1),G.b.success("Update Attendance is Done!"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),Ee(!1);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{children:[Object(se.jsx)(Ve,{name:"Student",parentName:"Attendance"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:Object(se.jsx)(N.a,{onSubmit:Ft,children:Object(se.jsx)(f.a,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(vc.a,{loading:we,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:St("session"),value:m.session,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Session"}),J&&J.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),""===m.selectClass&&Object(se.jsxs)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Name"}),Object(se.jsx)(k.a,{className:"form-control",id:"example4cols2Input",placeholder:"Name",onChange:St("name"),value:m.name,type:"text"})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"StudentID"}),Object(se.jsx)(k.a,{className:"form-control",id:"example4cols2Input",placeholder:"StudentID",type:"text",onChange:St("studentId"),value:m.studentId})]})]}),Object(se.jsxs)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"From"}),Object(se.jsx)(k.a,{className:"form-control",id:"example-date-input",type:"date",onChange:St("dateFrom"),value:m.dateFrom,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(k.a,{className:"form-control",id:"example-date-input",type:"date",onChange:St("dateTo"),value:m.dateTo})]})]}),""===m.studentId&&Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Class"}),Object(se.jsxs)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"select",onChange:St("selectClass"),value:m.selectClass,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Class"}),v&&v.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Section"}),Object(se.jsxs)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"select",onChange:St("selectSection"),value:m.selectSection,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Section"}),ae.section&&ae.section.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"mt-4",children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Search"})})})]})})})}),L&&Object(se.jsxs)(ie.a,{className:"mt--0 shadow-lg table-responsive",fluid:!0,children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{className:"header_main",children:[Object(se.jsx)(O.a,{md:3,children:Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsxs)("h3",{className:"start-end",children:[a," - ",c]})})}),Object(se.jsx)(O.a,{md:6,children:Object(se.jsxs)("div",{className:"icons_list",children:[Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"green",color:"white",padding:"5px",fontSize:"30px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Present"})]}),Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(201, 3, 3)",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Absent"})]}),Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(243, 243, 71)",color:"white",padding:"5px",fontSize:"30px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Leave"})]}),Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{id:"attendance_icons",className:"ni ni-single-02",style:{background:"blue",color:"white",padding:"5px",fontSize:"30px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Half Day"})]})]})}),""!==m.class&&""!==m.section&&""===m.name&&""===m.studentId&&Object(se.jsx)(O.a,{className:"buttons",md:3,children:!I.classTeacher&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:yt,color:"primary",size:"sm",children:"Add Attendance"})}),Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:function(e){e.preventDefault(),ot(!1),We(!0)},color:"primary",size:"sm",children:"Edit Attendance"})})]})})]})}),Object(se.jsxs)(g.a,{children:[0===ve.length&&Object(se.jsx)("h3",{style:{padding:"10px"},children:"No Student Data Found"}),Object(se.jsx)("div",{className:"attendance_main_div",children:Object(se.jsxs)("table",{children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{style:{width:"50px"},children:"#"}),Object(se.jsx)("th",{children:"Student Name"}),Object(se.jsx)("th",{style:{width:"150px"},children:"Student ID"}),I.workingDay.map((function(e){return Object(se.jsx)("th",{children:e},e)}))]}),Object(se.jsx)("tbody",{children:ve.length>0&&ve.map((function(e,t){return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:t+1}),Object(se.jsx)("td",{children:Object.keys(e)&&Object.keys(e).toString().split(",")[0]}),Object(se.jsx)("td",{children:Object.keys(e)&&Object.keys(e).toString().split(",")[1]}),e[Object.keys(e)].map((function(e,t){return"P"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"green",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):"A"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(201, 3, 3)",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):"L"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(243, 243, 71)",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):"HF"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"blue",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):void 0}))]},t)})}))})]})})]})]})})}),Object(se.jsxs)(ze.a,{backdrop:"static",size:"xl",scrollable:!0,isOpen:gt,toggle:function(){Nt(!1)},className:"custom-modal-style",children:[Object(se.jsx)(hc.a,{isClose:gt,toggle:function(){Nt(!1)},children:"Add Attendance"}),Xe?Object(se.jsx)(ct,{}):Object(se.jsxs)(Je.a,{className:"modal-body",children:[Object(se.jsx)(vc.a,{loading:Ie,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),C.length>0?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"model_table_main",children:Object(se.jsxs)(Le.a,{className:"model_table",bordered:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Present"}),Object(se.jsx)("th",{children:"Absent"}),Object(se.jsx)("th",{children:"Half Day"}),Object(se.jsx)("th",{children:"Leave"})]})}),Object(se.jsx)("tbody",{children:C&&C.map((function(e,t){return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{style:{fontWeight:"500"},children:e.name}),Object(se.jsxs)("td",{children:[" ",Object(se.jsx)("input",{type:"radio",onChange:kt(e.key),value:"P",checked:he.present,name:t}),"Present"]}),Object(se.jsxs)("td",{children:[Object(se.jsx)("input",{type:"radio",onChange:kt(e.key),value:"A",name:t})," ","Absent"]}),Object(se.jsxs)("td",{children:[Object(se.jsx)("input",{type:"radio",name:t,value:"HF",onChange:kt(e.key)})," ","Half Day"]}),Object(se.jsxs)("td",{children:[Object(se.jsx)("input",{type:"radio",value:"L",name:t,onChange:kt(e.key)})," ","Leave"]})]},t)})}))})]})}),Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:_t,color:"primary",children:"Submit"})})]}):Object(se.jsx)("h2",{children:"All Student Attendance is Done"})]})]}),Object(se.jsxs)(ze.a,{backdrop:"static",size:"xl",scrollable:!0,isOpen:Me,className:"custom-modal-style",children:[Object(se.jsx)(hc.a,{isClose:Me,toggle:function(){return We(!1)},children:"Edit Attendance"}),Object(se.jsxs)(Je.a,{className:"modal-body",children:[Object(se.jsx)(vc.a,{loading:qe,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Time"}),Object(se.jsx)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"date",onChange:It})]})}),Object(se.jsx)("br",{}),lt&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"model_table_main",children:Object(se.jsxs)(Le.a,{className:"model_table",bordered:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Status"})]})}),Object(se.jsx)("tbody",{children:dt&&dt.length>0?dt.map((function(e,t){return console.log(e),Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{style:{fontWeight:"500"},children:Object.keys(e)&&Object.keys(e).toString().split(",")[0]}),Object(se.jsx)("td",{children:Object(se.jsxs)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"select",onChange:(a=Object.keys(e).toString().split(",")[2],function(e){e.preventDefault();var t=tt,c={id:a,attendance_status:e.target.value};t.push(c),at(t),console.log(tt)}),children:[Object(se.jsx)("option",{selected:!0,value:Object.values(e)[0],disabled:!0,children:Object.values(e)[0]}),Object(se.jsx)("option",{value:"P",children:"Present"}),Object(se.jsx)("option",{value:"A",children:"Absent"}),Object(se.jsx)("option",{value:"L",children:"Leave"}),Object(se.jsx)("option",{value:"HF",children:"Half Day"})]})})]},t)});var a})):Object(se.jsx)("h3",{children:"No Student Data is Found"})})]})}),Object(se.jsx)("br",{}),lt&&dt.length>0&&Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:Tt,color:"primary",children:"Submit"})})]})]})]})]})]})},Nc=(a(728),function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/timetable/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return e.json()})).catch((function(e){throw e}))}),yc=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/timetable/delete/").concat(e,"/").concat(t);return fetch(c,{method:"DELETE",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},Sc=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/timetable/edit/").concat(e,"/").concat(t);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},Cc=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/timetable/custom/all/").concat(e,"/").concat(t);return fetch(n,{method:"POST",headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({class:c.class,section:c.section})}).then((function(e){return e.json()})).catch((function(e){throw console.log(e),e}))},wc=a(792),kc=a(790);var _c=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=Object(u.a)(s,2),o=(l[0],l[1],Object(r.useState)("")),i=Object(u.a)(o,2),j=i[0],b=i[1],m=Object(r.useState)(""),p=Object(u.a)(m,2),v=p[0],N=p[1],y=Object(r.useState)(""),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)(""),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(""),P=Object(u.a)(A,2),L=P[0],B=P[1],q=Object(r.useState)(""),E=Object(u.a)(q,2),R=E[0],K=E[1],M=Object(r.useState)(0),z=Object(u.a)(M,2),J=z[0],W=z[1],H=Object(r.useState)({}),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=Object(r.useState)([{time:""}]),X=Object(u.a)(Z,2),$=X[0],ee=X[1],te=Object(r.useState)([]),ae=Object(u.a)(te,2),ce=ae[0],ne=ae[1],re=Object(r.useReducer)((function(e){return e+1}),0),le=Object(u.a)(re,2),oe=(le[0],le[1]),je=Object(r.useState)(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),de=Object(u.a)(je,2),ue=de[0],be=de[1],he=Object(r.useState)(!1),me=Object(u.a)(he,2),pe=me[0],xe=me[1],Oe=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,n=t.token,e.next=3,Ca(a._id,a.school,n);case 3:if(!(r=e.sent).err){e.next=8;break}return e.abrupt("return",G.b.error(Q));case 8:return c(r),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:b(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,yt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:w(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,t.token,e.prev=1,e.next=4,it(a.school,a._id);case 4:(c=e.sent).data.err?G.b.error(c.data.err):N(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!0),e.next=3,Oe();case 3:return e.next=5,fe();case 5:xe(!1);case 6:case"end":return e.stop()}}),e)}))),[]);var Ne=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!0),t.preventDefault(),a=Fe(),c=a.user,n=a.token,r={class:L._id,section:R._id},e.prev=4,e.next=7,Cc(c.school,c._id,n,r);case 7:if(!(s=e.sent)||!s.err){e.next=13;break}return xe(!1),e.abrupt("return",G.b.error(s.err));case 13:if(!s||!s._id){e.next=18;break}return xe(!1),e.abrupt("return",G.b.error("TimeTable is Already Created"));case 18:j.map((function(e){if("current"===e.status){for(var t=[],a=0;a<e.working_days;a++)t.push(ue[a]);be(t),T(e._id)}})),xe(!1),W(1);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(4),G.b.error("Something Went Wrong!");case 26:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){return function(t,a){var c=$;"Lunch"===c[e].name?c[e].time=t:(c[e]=t,ee(c))}},Se=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(!0),t.preventDefault(),!($.length<=1)){e.next=7;break}xe(!1),G.b.error("Please Select Atleast 2 Periods !"),e.next=39;break;case 7:if(!($.length>=1)){e.next=39;break}if(a=!1,$.map((function(e){null!==e&&""!==e.time||(a=!0)})),!0!==a){e.next=15;break}xe(!1),G.b.error("Please Enter Time Of Period !"),e.next=37;break;case 15:for(c=!1,n=$[0],r=1;r<$.length;r++)$[r].time?(console.log(Na()($[r].time[0])<Na()(n[1])),Na()($[r].time[0])<Na()(n[1])?(c=!0,n=$[r].time):n=$[r].time):(console.log(Na()($[r][0])<Na()(n[1])),Na()($[r][0])<Na()(n[1])?(c=!0,n=$[r]):n=$[r]);if(!0!==c){e.next=23;break}xe(!1),G.b.error("Please Enter Valid Time Range"),e.next=37;break;case 23:return e.next=25,ge();case 25:return e.next=27,ve();case 27:return s=[],e.next=30,$.map(function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name&&"Lunch"===t.name){for(a="",c="",n=0;n<t.time.length;n++)r=Na()(t.time[n]).format("hh:mm A"),0===n?a="".concat(r):c="".concat(r);l=a+" - "+c,t.time=l,s.push(t)}else{for(a="",c="",n=0;n<t.length;n++)r=Na()(t[n]).format("hh:mm A"),0===n?a="".concat(r):c="".concat(r);s.push(a+" - "+c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 30:return ne(s),a={},e.next=34,ue.map(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a[t]={},s.map(function(){var e=Object(d.a)(h.a.mark((function e(c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.name||(a[t][c]={});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 34:Y(a),W(2),xe(!1);case 37:e.next=39;break;case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){return function(a){var c=a.target.value,r=U;r[e][t]=Object(n.a)(Object(n.a)({},r[e][t]),{},{meet:c}),Y(r)}},we=function(e,t){return function(a){if(""===a.target.value);else{var c=JSON.parse(a.target.value),r=U;r[e][t]=Object(n.a)(Object(n.a)({},r[e][t]),{},{teacherID:c._id,teacherName:c.firstname+" "+c.lastname}),Y(r)}}},ke=function(e,t){return function(a){if(""===a.target.value);else{var c=JSON.parse(a.target.value),r=U;r[e][t]=Object(n.a)(Object(n.a)({},r[e][t]),{},{subjectID:c._id,subjectName:c.name}),Y(r)}}},_e=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!0),t.preventDefault(),(a=new FormData).set("lecture",JSON.stringify(U)),a.set("session",I),a.set("class",L._id),a.set("section",R._id),a.set("timeSlots",JSON.stringify(ce)),a.set("working_day",JSON.stringify(ue)),c=Fe(),n=c.user,r=c.token,a.set("school",n.school),e.prev=11,e.next=14,Nc(n._id,r,a);case 14:(s=e.sent).err?(xe(!1),G.b.error(s.err)):(xe(!1),G.b.success("TimeTable Create SuccessFully!"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(11),xe(!1),G.b.error("Something Went Wrong!");case 22:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Time Table",parentName:"Student TimeTable"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(vc.a,{loading:pe,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsx)(Te.a,{children:Object(se.jsx)("h2",{children:"Add TimeTable"})}),Object(se.jsxs)(g.a,{children:[0==J&&Object(se.jsxs)("form",{onSubmit:Ne,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Class"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){xe(!0),e.preventDefault(),""===e.target.value?(B(""),xe(!1)):(B(JSON.parse(e.target.value)),xe(!1))},required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),a&&""!==a&&a.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{required:!0,className:"form-control",onChange:function(e){if(e.preventDefault(),""===e.target.value);else{for(var t=JSON.parse(e.target.value),a=[],c=0;c<t.working_days;c++)a.push(ue[c]);be(a),T(t._id)}},children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),j&&j.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Section"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){e.preventDefault(),""===e.target.value||K(JSON.parse(e.target.value))},required:!0,children:[Object(se.jsx)("option",{value:"",selected:!0,children:"Select Section"}),a&&""!==a&&""!==L&&L.section.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]})]}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{className:"next_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})})]}),1==J&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("h4",{children:["Class: ",L.name]}),Object(se.jsxs)("h4",{children:["Section: ",R.name]}),Object(se.jsx)("br",{}),Object(se.jsxs)("form",{onSubmit:Se,children:[Object(se.jsx)("p",{style:{color:"red"},children:"Note : Please Enter Periods Time Wise not rendom"}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Enter Period"})})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[$.map((function(e,t){return e.name&&"Lunch"===e.name?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("h2",{children:t+1}),Object(se.jsx)("h2",{children:"Lunch"}),Object(se.jsx)(wc.b,{children:Object(se.jsx)(kc.a.RangePicker,{use12Hours:!0,format:"h:mm a",required:!0,onChange:ye(t)})}),Object(se.jsx)("br",{})]}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("h2",{children:t+1}),Object(se.jsx)(wc.b,{children:Object(se.jsx)(kc.a.RangePicker,{use12Hours:!0,format:"h:mm a",required:!0,onChange:ye(t)})}),Object(se.jsx)("br",{})]})})),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(F.a,{type:"button",onClick:function(e){e.preventDefault();var t=$;t.push({time:""}),ee(t),oe()},children:"Add One More Period"}),Object(se.jsx)(F.a,{type:"button",onClick:function(e){e.preventDefault();var t=$;t.push({name:"Lunch"}),ee(t),oe()},children:"Add lunch"})]})}),Object(se.jsx)(x.a,{className:"next_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Generate Layout"})})})]})]}),2==J&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("div",{className:"table_main",children:[Object(se.jsxs)("table",{children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"#Period"}),ue.map((function(e){return Object(se.jsx)("th",{children:e})}))]}),Object(se.jsx)("tbody",{children:ce.map((function(e,t){return e.name&&"Lunch"===e.name?Object(se.jsx)("tr",{className:"lunch_row",children:Object(se.jsxs)("td",{colspan:ue.length+1,children:[e.name,Object(se.jsx)("p",{children:e.time})]})}):Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"period_name",children:e}),ue.map((function(t){return Object(se.jsxs)("td",{children:[Object(se.jsxs)("div",{className:"form-group",children:[Object(se.jsx)("span",{children:"Name"}),Object(se.jsx)("input",{className:"form-field",type:"text",onChange:(a=t,c=e,function(e){var t=e.target.value,r=U;r[a][c]=Object(n.a)(Object(n.a)({},r[a][c]),{},{time:c,period_name:t}),Y(r)}),placeholder:"Period 1"})]}),Object(se.jsx)("div",{className:"form-group",children:Object(se.jsxs)("select",{id:"select_teacher",className:"form-field",onChange:we(t,e),children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Teacher"}),""!==v&&v.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.firstname+" "+e.lastname})}))]})}),Object(se.jsx)("div",{className:"form-group",children:Object(se.jsxs)("select",{id:"select_teacher",className:"form-field",onChange:ke(t,e),children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Subject"}),""!==C&&C.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name})}))]})}),Object(se.jsxs)("div",{className:"form-group",children:[Object(se.jsx)("span",{children:"Meet Link"}),Object(se.jsx)("input",{onChange:Ce(t,e),className:"form-field",type:"text",placeholder:"Period 1"})]})]});var a,c}))]})}))})]}),Object(se.jsx)("br",{})]}),Object(se.jsx)(x.a,{className:"next_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"button",children:Object(se.jsx)($e.a,{title:"Are You Sure to Submit?",onConfirm:_e,children:"Submit TimeTable"})})})})]})]})]})})]})};var Fc=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(""),N=Object(u.a)(v,2),y=N[0],S=N[1],C=Object(r.useState)(""),w=Object(u.a)(C,2),_=w[0],D=w[1],I=Object(r.useState)(""),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)(""),B=Object(u.a)(L,2),q=B[0],E=B[1],R=Object(r.useState)(0),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)({}),W=Object(u.a)(J,2),H=(W[0],W[1],Object(r.useState)([])),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=Object(r.useState)(""),X=Object(u.a)(Z,2),$=X[0],ee=X[1],te=Object(r.useReducer)((function(e){return e+1}),0),ae=Object(u.a)(te,2),ce=(ae[0],ae[1]),ne=Object(r.useState)(!1),re=Object(u.a)(ne,2),le=re[0],oe=re[1],je=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,n=t.token,e.next=3,Ca(a._id,a.school,n);case 3:if(!(r=e.sent).err){e.next=8;break}return e.abrupt("return",G.b.error(Q));case 8:return c(r),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,yt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:p(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,t.token,e.prev=1,e.next=4,it(a.school,a._id);case 4:(c=e.sent).data.err?G.b.error(c.data.err):i(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),t.preventDefault(),a=Fe(),c=a.user,n=a.token,r={class:A._id,section:q._id},e.prev=4,e.next=7,Cc(c.school,c._id,n,r);case 7:if(!(s=e.sent)||!s.err){e.next=13;break}return oe(!1),e.abrupt("return",G.b.error(s.err));case 13:if(!s||!s._id){e.next=22;break}D(s._id),S(s.lecture),Y(s.timeSlots),ee(s.working_day),oe(!1),z(1),e.next=24;break;case 22:return oe(!1),e.abrupt("return",G.b.error("TimeTable is not Created!"));case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(4),oe(!1),G.b.error("Something Went Wrong!");case 30:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),t.preventDefault(),a=Fe(),c=a.user,n=a.token,e.prev=3,e.next=6,yc(_,c._id,n);case 6:if(!(r=e.sent).err){e.next=11;break}return e.abrupt("return",G.b.error(r.err));case 11:oe(!1),G.b.success("TimeTable Delete SuccessFully!"),setTimeout((function(){window.location.reload(1)}),1e3);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),G.b.error("Something Went Wrong!");case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),t.preventDefault(),e.next=4,ue();case 4:return e.next=6,de();case 6:return a={},e.next=9,$.map(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.map((function(e){e.name||(a[t]={},a[t][e]={})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.next=11,$.map(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y[t]&&U.map((function(e){y[t][e]&&(a[t][e]=y[t][e])}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:S(a),z(2),oe(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),t.preventDefault(),(a=new FormData).set("lecture",JSON.stringify(y)),c=Fe(),n=c.user,r=c.token,e.prev=5,e.next=8,Sc(_,n._id,r,a);case 8:(s=e.sent).err?(oe(!1),G.b.error(s.err)):(oe(!1),G.b.success("TimeTable Updated SuccessFully!"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),oe(!1),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(e,t){return function(a){var c=a.target.value,r=y;r[e][t]=Object(n.a)(Object(n.a)({},r[e][t]),{},{meet:c}),S(r),ce()}},Oe=function(e,t){return function(a){if(""===a.target.value){(c=y)[e][t]=Object(n.a)(Object(n.a)({},c[e][t]),{},{teacherID:"",teacherName:""}),S(c),ce()}else{var c,r=JSON.parse(a.target.value);(c=y)[e][t]=Object(n.a)(Object(n.a)({},c[e][t]),{},{teacherID:r._id,teacherName:r.firstname+" "+r.lastname}),S(c),ce()}}},fe=function(e,t){return function(a){if(""===a.target.value){(c=y)[e][t]=Object(n.a)(Object(n.a)({},c[e][t]),{},{subjectID:"",subjectName:""}),S(c),ce()}else{var c,r=JSON.parse(a.target.value);(c=y)[e][t]=Object(n.a)(Object(n.a)({},c[e][t]),{},{subjectID:r._id,subjectName:r.name}),S(c),ce()}}};return Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),e.next=3,je();case 3:oe(!1);case 4:case"end":return e.stop()}}),e)}))),[]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Time Table",parentName:"Student TimeTable"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(vc.a,{loading:le,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsx)(Te.a,{children:Object(se.jsx)("h2",{children:"View TimeTable"})}),Object(se.jsxs)(g.a,{children:[0==M&&Object(se.jsxs)("form",{onSubmit:be,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Class"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){oe(!0),e.preventDefault(),""===e.target.value?(P(""),oe(!1)):(P(JSON.parse(e.target.value)),oe(!1))},required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),a&&""!==a&&a.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Section"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){e.preventDefault(),""===e.target.value||E(JSON.parse(e.target.value))},required:!0,children:[Object(se.jsx)("option",{value:"",selected:!0,children:"Select Section"}),a&&""!==a&&""!==A&&A.section.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]})]}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{className:"next_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})})]}),1==M&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(x.a,{className:"next_button",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(F.a,{color:"primary",type:"button",children:Object(se.jsx)($e.a,{title:"Are You Sure to Edit?",onConfirm:me,children:"Edit TimeTable"})}),Object(se.jsx)(F.a,{color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Are You Sure to Delete?",onConfirm:he,children:"Delete TimeTable"})})]})}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"table_main",children:[Object(se.jsxs)("table",{children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"#Period"}),$.map((function(e){return Object(se.jsx)("th",{children:e})}))]}),Object(se.jsx)("tbody",{children:U.map((function(e,t){return e.name&&"Lunch"===e.name?Object(se.jsx)("tr",{className:"lunch_row",children:Object(se.jsxs)("td",{colspan:$.length+1,children:[e.name,Object(se.jsx)("p",{children:e.time})]})}):Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"period_name",children:e}),$.map((function(t){return y[t]?Object(se.jsxs)("td",{children:[y[t][e]&&y[t][e].period_name&&""!==y[t][e].period_name&&Object(se.jsxs)("div",{class:"form-group",children:[Object(se.jsx)("span",{children:"Name"}),Object(se.jsx)("input",{class:"form-field",type:"text",disabled:!0,placeholder:"Period 1",value:y&&y[t]&&y[t][e]&&y[t][e].period_name})]}),y[t][e]&&y[t][e].teacherName&&Object(se.jsx)("div",{className:"form-group",children:Object(se.jsx)("select",{id:"select_teacher",className:"form-field",disabled:!0,value:y&&y[t]&&y[t][e]&&y[t][e].teacherName,children:Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:y[t][e]&&y[t][e].teacherName&&y[t][e].teacherName})})}),y[t][e]&&y[t][e].subjectName&&Object(se.jsx)("div",{className:"form-group",children:Object(se.jsx)("select",{id:"select_teacher",className:"form-field",disabled:!0,children:Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:y[t][e]&&y[t][e].subjectName&&y[t][e].subjectName})})}),y[t][e]&&y[t][e].meet&&(void 0!==y[t][e].meet||""!==y[t][e].meet)&&Object(se.jsxs)("div",{class:"form-group",children:[Object(se.jsx)("span",{children:Object(se.jsx)("a",{href:y[t][e].meet,children:Object(se.jsx)("i",{id:"video_icon",className:"fas fa-video"})})}),Object(se.jsx)("input",{onChange:xe(t,e),disabled:!0,value:y&&y[t]&&y[t][e]&&y[t][e].meet,class:"form-field",type:"text",placeholder:"Period 1"})]})]}):Object(se.jsx)("td",{})}))]})}))})]}),Object(se.jsx)("br",{})]})]}),2==M&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("div",{className:"table_main",children:[Object(se.jsxs)("table",{children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"#Period"}),$.map((function(e){return Object(se.jsx)("th",{children:e})}))]}),Object(se.jsx)("tbody",{children:U.map((function(e,t){return e.name&&"Lunch"===e.name?Object(se.jsx)("tr",{className:"lunch_row",children:Object(se.jsxs)("td",{colspan:$.length+1,children:[e.name,Object(se.jsx)("p",{children:e.time})]})}):Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"period_name",children:e}),$.map((function(t){return Object(se.jsxs)("td",{children:[Object(se.jsxs)("div",{class:"form-group",children:[Object(se.jsx)("span",{children:"Name"}),Object(se.jsx)("input",{class:"form-field",type:"text",onChange:(a=t,c=e,function(e){var t=e.target.value,r=y;r[a][c]=Object(n.a)(Object(n.a)({},r[a][c]),{},{time:c,period_name:t}),S(r),ce()}),value:y&&y[t]&&y[t][e]&&y[t][e].period_name,placeholder:"Period 1"})]}),Object(se.jsx)("div",{className:"form-group",children:Object(se.jsxs)("select",{id:"select_teacher",className:"form-field",onChange:Oe(t,e),children:[y&&y[t]&&y[t][e]&&y[t][e].teacherName?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("option",{value:"",children:"Clear Teacher"}),Object(se.jsx)("option",{value:"",selected:!0,children:y[t][e].teacherName}),Object(se.jsx)("hr",{})]}):Object(se.jsx)("option",{value:"",selected:!0,children:"Select Teacher"}),""!==o&&o.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.firstname+" "+e.lastname})}))]})}),Object(se.jsx)("div",{className:"form-group",children:Object(se.jsxs)("select",{id:"select_teacher",className:"form-field",onChange:fe(t,e),children:[y&&y[t]&&y[t][e]&&y[t][e].subjectName?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("option",{value:"",children:"Clear Subject"}),Object(se.jsx)("option",{value:"",selected:!0,children:y[t][e].subjectName}),Object(se.jsx)("hr",{})]}):Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Subject"}),""!==m&&m.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name})}))]})}),Object(se.jsxs)("div",{class:"form-group",children:[Object(se.jsx)("span",{children:"Meet Link"}),Object(se.jsx)("input",{onChange:xe(t,e),value:y&&y[t]&&y[t][e]&&y[t][e].meet,class:"form-field",type:"text",placeholder:"Period 1"})]})]});var a,c}))]})}))})]}),Object(se.jsx)("br",{})]}),Object(se.jsx)(x.a,{className:"next_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"button",children:Object(se.jsx)($e.a,{title:"Are You Sure to Submit?",onConfirm:pe,children:"Submit TimeTable"})})})})]})]})]})})]})};a(729);var Dc=function(){var e=s.a.useState(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!1),l=Object(u.a)(n,2),o=l[0],i=l[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],v=s.a.useState(!1),N=Object(u.a)(v,2),y=N[0],S=N[1],C=s.a.useState(!1),w=Object(u.a)(C,2),_=w[0],D=w[1],I=s.a.useState(),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)(""),B=Object(u.a)(L,2),q=B[0],E=B[1],R=Object(r.useState)(""),K=Object(u.a)(R,2),M=K[0],z=K[1],J=s.a.useState(),W=Object(u.a)(J,2),H=W[0],V=W[1],U=s.a.useState(),Y=Object(u.a)(U,2),Z=Y[0],X=Y[1],Q=Object(r.useState)({}),$=Object(u.a)(Q,2),ee=($[0],$[1]),te=Object(r.useState)(""),ae=Object(u.a)(te,2),ce=(ae[0],ae[1]),ne=Object(r.useState)(""),re=Object(u.a)(ne,2),le=re[0],oe=re[1],je=Object(r.useState)(""),de=Object(u.a)(je,2),ue=de[0],be=de[1],he=s.a.useState(["Super Admin","Admin","Field Engineers"]),me=Object(u.a)(he,2),Oe=(me[0],me[1],Object(r.useState)(!1)),fe=Object(u.a)(Oe,2),ve=fe[0],ge=fe[1],Ne=Object(r.useState)(!1),ye=Object(u.a)(Ne,2),Se=ye[0],Ce=ye[1],we=Object(r.useState)([]),ke=Object(u.a)(we,2),_e=ke[0],De=ke[1],Ie=Object(r.useState)(!1),Ae=Object(u.a)(Ie,2),Pe=Ae[0],Be=Ae[1],qe=Fe().user,Ee=s.a.useState(["Add","View","Edit","Delete","Export","Import"]),Re=Object(u.a)(Ee,2),Ke=Re[0],Me=Re[1],He=s.a.useState(["Pricing","Owner","Vendor","Organization"]),Ge=Object(u.a)(He,2),Ue=Ge[0],Ye=Ge[1],Ze=s.a.useState(["bshjb","cnjdc","jdnkjnc"]),Xe=Object(u.a)(Ze,2),Qe=(Xe[0],Xe[1],Object(r.useState)([])),et=Object(u.a)(Qe,2),tt=et[0],at=et[1],nt=[{value:"add",label:"add"},{value:"view",label:"view"},{value:"edit",label:"edit"},{value:"delete",label:"delete"},{value:"export",label:"export"},{value:"import",label:"import"}];Object(r.useEffect)((function(){dt()}),[ot,Pe]);var rt=[];Object(r.useEffect)((function(){qe.permissions["Role and Permissions"]&&(rt=qe.permissions["Role and Permissions"],at(rt))}),[Pe]);var st=Object(r.useState)(1),lt=Object(u.a)(st,2),ot=lt[0],it=lt[1],jt=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).set("name",A),t.set("school",qe.school),e.prev=3,Ce(!1),e.next=7,_t(qe._id,t);case 7:e.sent,P(""),c(!1),Ce(!1),Be(!Pe),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),Ce(!1),G.b.error("Add role failed.");case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ce(!0),e.next=4,kt(qe._id,qe.school);case 4:t=e.sent,De(t),ce(t[0].name),oe(t[0]._id),Ce(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),Ce(!1),G.b.error("Getting Roles failed");case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).set("name",q),Ce(!0),e.next=6,Ft(qe._id,M,t);case 6:e.sent,Be(!Pe),i(!1),E(""),z(""),Ce(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),Ce(!1),console.log(e.t0),G.b.error("Edit Failed");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ce(!0),e.next=4,Dt(qe._id,t);case 4:e.sent,Ce(!1),Be(!Pe),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),Ce(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in _e.find((function(e){return e._id===le})),e.prev=1,t=new FormData,ue.permissions)c=ue.permissions[a],n=[],c.map((function(e){return n.push(e.value)})),ue.permissions[a]=n;return t.set("permissions",JSON.stringify(ue.permissions)),ge(!0),e.next=8,Ft(qe._id,le,t);case 8:e.sent,Be(!Pe),p(!1),ee([]),ge(!1),G.b.success("Permission Added successfully"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),ge(!1),G.b.error("Permission not Added ");case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),mt=function(e){return function(t){var a=ue;a.permissions[e]=t,be(a),it(1===ot?2:1)}},pt=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t.target.value)be("");else if((a=JSON.parse(t.target.value)).permissions){for(c in a.permissions)n=a.permissions[c],r=[],n.map((function(e){return r.push({value:e,label:e})})),a.permissions[c]=r;be(a)}else a.permissions={},be(a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Roles-Permissions"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsx)(x.a,{children:tt&&tt.includes("edit")&&Object(se.jsx)(O.a,{className:"m-1",children:Object(se.jsx)(F.a,{color:"primary",type:"button",onClick:function(){p(!0),be("")},children:"Manage Role Permissions Mapping"})})}),Object(se.jsxs)(x.a,{className:"d-flex justify-content-between",children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)("div",{className:"d-flex justify-content-between Role-Permissions",children:[Object(se.jsx)("p",{children:"Manage Roles"}),tt&&tt.includes("add")&&Object(se.jsx)(F.a,{color:"primary",type:"button",onClick:function(){return c(!0)},children:"Add Roles"})]})}),Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(O.a,{className:"d-flex justify-content-between Role-Permissions",children:[Object(se.jsx)("p",{children:"Role Name"}),Object(se.jsx)("p",{children:"Actions"})]}),Se?Object(se.jsx)(ct,{}):Object(se.jsx)(pe.a,{className:"m-1",children:_e.map((function(e){return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(xe.a,{children:Object(se.jsxs)(O.a,{className:"d-flex justify-content-between",children:[Object(se.jsx)("div",{children:e.name}),Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[tt&&tt.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return function(e,t){i(!0),E(e),z(t)}(e.name,e._id)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})}),tt&&tt.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return bt(e._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})})]})]})})})}))})]})]})}),Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)("div",{className:"d-flex justify-content-between Role-Permissions",children:[Object(se.jsx)("p",{children:"Manage Permissions"}),Object(se.jsx)(F.a,{color:"primary",type:"button",onClick:function(){return D(!0)},children:"Add Permissions"})]})}),Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(O.a,{className:"d-flex justify-content-between Role-Permissions",children:[Object(se.jsx)("p",{children:"Permissions Name"}),Object(se.jsx)("p",{children:"Actions"})]}),Object(se.jsx)(O.a,{md:"6",children:Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Permission Name",type:"text",required:!0})}),Object(se.jsx)(pe.a,{className:"m-1",children:Ke.map((function(e){return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(xe.a,{children:Object(se.jsxs)(O.a,{className:"d-flex justify-content-between",children:[Object(se.jsx)("div",{children:e}),Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",children:Object(se.jsx)("i",{className:"fas fa-user-edit"})}),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)("i",{className:"fas fa-trash"})})]})]})})})}))})]})]})}),Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)("div",{className:"d-flex justify-content-between Role-Permissions",children:[Object(se.jsx)("p",{children:"Manage Applications"}),Object(se.jsx)(F.a,{color:"primary",type:"button",onClick:function(){return S(!0)},children:"Add Applications"})]})}),Object(se.jsxs)(g.a,{children:[Object(se.jsxs)(O.a,{className:"d-flex justify-content-between Role-Permissions",children:[Object(se.jsx)("p",{children:"Applications Name"}),Object(se.jsx)("p",{children:"Actions"})]}),Object(se.jsx)(O.a,{md:"6",children:Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Application Name",type:"text",required:!0})}),Object(se.jsx)(pe.a,{className:"m-1",children:Ue.map((function(e){return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(xe.a,{children:Object(se.jsxs)(O.a,{className:"d-flex justify-content-between",children:[Object(se.jsx)("div",{children:e}),Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",children:Object(se.jsx)("i",{className:"fas fa-user-edit"})}),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)("i",{className:"fas fa-trash"})})]})]})})})}))})]})]})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:o,toggle:function(){return i(!1)},size:"sm",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Role Name"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return i(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Role Name"}),Object(se.jsx)(k.a,{id:"form-department-name",onChange:function(e){return E(e.target.value)},value:q,placeholder:"Role Name",type:"text",required:!0})]})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:ut,children:"Edit Role"})})]}),Object(se.jsxs)(ze.a,{isOpen:m,toggle:function(){return p(!1)},size:"lg",scrollable:!0,children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Role Permissions Mapping"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",required:!0,onChange:pt,children:[Object(se.jsx)("option",{selected:!0,value:"",children:"Select Role"}),null===_e||void 0===_e?void 0:_e.map((function(e,t){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},t)}))]}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return p(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),ve?Object(se.jsx)(ct,{}):ue&&""!==ue&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Je.a,{children:Object(se.jsx)(Le.a,{children:Object(se.jsx)("tbody",{children:qe.module.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"mt-4",children:e}),Object(se.jsx)("td",{children:ue.permissions&&ue.permissions[e]?Object(se.jsx)(zt.a,{isMulti:!0,name:"permissions",options:nt,value:ue.permissions[e],onChange:mt(e),className:"basic-multi-select ",classNamePrefix:"select"}):Object(se.jsx)(zt.a,{isMulti:!0,name:"permissions",options:nt,onChange:mt(e),className:"basic-multi-select ",classNamePrefix:"select"})})]},t+12)}))})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:ht,children:"Submit"})})]})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:a,toggle:function(){return c(!1)},size:"sm",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Role Name"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return c(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Role Name"}),Object(se.jsx)(k.a,{id:"form-department-name",onChange:function(e){"Enter"!==e.target.key&&P(e.target.value)},placeholder:"Role Name",type:"text",required:!0})]})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:jt,children:"Add Role"})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:_,toggle:function(){return D(!1)},size:"sm",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:_?"Permission Name":""}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return D(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Permission Name"}),Object(se.jsx)(k.a,{id:"form-department-name",onChange:function(e){"Enter"!==e.target.key&&V(e.target.value)},placeholder:"Permission Name",type:"text"})]})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:function(){if(0!==H.length){var e=Ke;e.push(H),Me(e),V(""),D(!1)}},children:"Add Permission"})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:y,toggle:function(){return S(!1)},size:"sm",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:y?"Application Name":""}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return S(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Application Name"}),Object(se.jsx)(k.a,{id:"form-department-name",onChange:function(e){"Enter"!==e.target.key&&X(e.target.value)},placeholder:"Application Name",type:"text"})]})})}),Object(se.jsx)(We.a,{children:Object(se.jsx)(F.a,{color:"success",type:"button",onClick:function(){if(0!==Z.length){var e=Ue;e.push(Ue),Ye(e),X(""),S(!1)}},children:"Add Application"})})]})]})]})},Ic=(a(341),function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/canteen/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Tc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/canteen/all/").concat(a,"/").concat(t));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Ac=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/canteen/menu/add/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Pc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/canteen/delete/").concat(t,"/").concat(a),{},"DELETE");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Lc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/canteen/menu/delete/").concat(t,"/").concat(a),{},"DELETE");case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Bc=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/canteen/menu/edit/").concat(t,"/").concat(a),c,"PUT");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}();var qc=function(){var e=Object(j.g)(),t=s.a.useState(new Date),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Na()(c).format("LT"),i=s.a.useState(new Date),b=Object(u.a)(i,2),m=b[0],p=b[1],v=Na()(m).format("LT"),y=Object(r.useState)([]),S=Object(u.a)(y,2),C=(S[0],S[1]),w=Fe().user,_=Object(r.useState)([]),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(""),P=Object(u.a)(A,2),L=P[0],B=P[1],q=Object(r.useState)([]),R=Object(u.a)(q,2),K=R[0],M=R[1],z=Object(r.useState)(!1),J=Object(u.a)(z,2),W=J[0],H=J[1],V=Object(r.useState)(),U=Object(u.a)(V,2),Y=U[0],Z=U[1],Q=Object(r.useState)(!1),$=Object(u.a)(Q,2),ee=$[0],te=$[1],ae=Object(r.useState)(!1),ce=Object(u.a)(ae,2),ne=ce[0],le=ce[1],oe=new FileReader;Object(r.useEffect)((function(){w.role["Canteen Management"]&&w.role["Canteen Management"]}),[]);var je=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(w.school,w._id);case 3:for(t=e.sent,a=t.data,c=a.find((function(e){return"canteen"===e.assign_role})),C(c),n=[],r=0;r<a.length;r++)n.push({value:a[r]._id,label:a[r].firstname});T(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),G.b.error(X);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tc(w._id,w.school);case 3:t=e.sent,M(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),G.b.error("Getting All Canteen Failed");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){je()}),[]),Object(r.useEffect)((function(){de()}),[W]);var ue,be=s.a.useState({canteenName:""}),he=Object(u.a)(be,2),me=(he[0],he[1],Object(r.useState)("")),pe=Object(u.a)(me,2),xe=pe[0],Oe=pe[1],fe=s.a.useState({image:"",items:"",description:"",price:"",publish:"",addCanteen:""}),ve=Object(u.a)(fe,2),ge=ve[0],Ne=ve[1],ye=new FormData,Se=function(){var e=Object(d.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ye.set("name",L),ye.set("school",w.school),e.prev=3,te(!0),e.next=7,Ic(w._id,ye);case 7:if(!(a=e.sent).err){e.next=13;break}return te(!1),e.abrupt("return",G.b.error(a.err));case 13:B(""),G.b.success("Canteen Added Successfully"),te(!1),H(!W);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),te(!1),G.b.error(re);case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e){return function(t){Ne(Object(n.a)(Object(n.a)({},ge),{},Object(E.a)({},e,t.target.value)))}},we=function(){var t=Object(d.a)(h.a.mark((function t(a){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(c=new FormData).set("school",w.school),c.set("item",ge.items),c.set("image",ge.image),c.set("description",ge.description),c.set("start_time",o),c.set("end_time",v),c.set("price",ge.price),c.set("publish",ge.publish),c.set("canteen",xe),t.prev=11,le(!0),t.next=15,Ac(w._id,c);case 15:if(!(n=t.sent).err){t.next=19;break}return le(!1),t.abrupt("return",G.b.error(n.err));case 19:G.b.success("Menu Added Successfully"),le(!1),Ne({image:"",items:"",addCanteen:"",description:"",price:"",publish:""}),e.push("/admin/view-canteen"),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(11),G.b.error(re),le(!1);case 29:case"end":return t.stop()}}),t,null,[[11,25]])})));return function(e){return t.apply(this,arguments)}}(),ke=function(e){return Object(se.jsx)(Mt,Object(n.a)(Object(n.a)({},e),{},{SelectComponent:zt.a,options:e.options}))};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(Ve,{name:"Canteen",parentName:"Add Canteen"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:ee?Object(se.jsx)(ct,{}):Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Canteen"})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-3 ml-4 ",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){Z(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),Y&&(oe.onload=function(e){e.target.result},oe.readAsText(Y))}(e)},color:"primary",className:"mt-2",children:"IMPORT CSV"})]})})}),Object(se.jsx)(N.a,{className:"mb-4",onSubmit:Se,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Canteen Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Canteen Name",type:"text",onChange:function(e){return B(e.target.value)},value:L,required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Staff Member"}),Object(se.jsx)(ke,{isMulti:!0,name:"colors",options:I,onChange:function(e){for(var t=[],a=0,c=e.length;a<c;a++)t.push(e[a].value);ye.set("staff",JSON.stringify(t))},className:"basic-multi-select",classNamePrefix:"select",required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Add"})})})]})})]})})}),Object(se.jsx)(O.a,{lg:"8",children:ne?Object(se.jsx)(ct,{}):Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Menu"})}),Object(se.jsx)(N.a,{className:"mb-4",onSubmit:we,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",onChange:(ue="image",function(e){Ne(Object(n.a)(Object(n.a)({},ge),{},Object(E.a)({},ue,e.target.files[0])))}),accept:"image/*"}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Items Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:Ce("items"),value:ge.items,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Add Canteen"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:function(e){ge.addCanteen=e.target.value,Oe(e.target.value)},value:ge.addCanteen,required:!0,children:[Object(se.jsx)("option",{value:"",selected:!0,children:"Select Canteen"}),K.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Price"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Price",type:"Number",onChange:Ce("price"),value:ge.price,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Publish"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:Ce("publish"),value:ge.publish,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Publish"}),Object(se.jsx)("option",{children:"Yes"}),Object(se.jsx)("option",{children:"No"})]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"From"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:c,onChange:function(e){return l(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:m,onChange:function(e){return p(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Description"}),Object(se.jsx)(Ot.a,{id:"example4cols2Input",placeholder:"Description",type:"Number",onChange:Ce("description"),required:!0,value:ge.description})]})]}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Add Menu"})})})]})})]})})})]})})]})};var Ec=function(){var e=s.a.useState(new Date),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Na()(a).format("LT"),o=s.a.useState(new Date),i=Object(u.a)(o,2),j=i[0],b=i[1],m=Na()(j).format("LT"),p=s.a.useState([]),v=Object(u.a)(p,2),y=v[0],S=v[1],C=Object(r.useState)([]),w=Object(u.a)(C,2),_=w[0],D=w[1],I=s.a.useState(!1),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)(!1),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)(),M=Object(u.a)(K,2),z=M[0],J=M[1],W=Object(r.useState)(!1),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=s.a.useState({image:"",item:"",price:"",publish:"",id:""}),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=Object(r.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(r.useState)([]),ne=Object(u.a)(ce,2),re=ne[0],le=ne[1],oe=Object(r.useState)(!1),je=Object(u.a)(oe,2),de=je[0],ue=je[1],be=Object(r.useState)(!1),he=Object(u.a)(be,2),me=he[0],pe=he[1],xe=[{title:"S No.",dataIndex:"s_no"},{title:"Item Name",dataIndex:"item_name",sorter:function(e,t){return e.item_name>t.item_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.item_name.toLowerCase().includes(e.toLowerCase())}},{title:"Start Time",dataIndex:"start_time",sorter:function(e,t){return e.start_time>t.start_time},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.start_time.toLowerCase().includes(e.toLowerCase())}},{title:"End Time",dataIndex:"end_time",sorter:function(e,t){return e.end_time>t.end_time},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.end_time.toLowerCase().includes(e.toLowerCase())}},{title:"Image",dataIndex:"image"},{title:"Price",dataIndex:"price",sorter:function(e,t){return e.price>t.price},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.price.toLowerCase().includes(e.toLowerCase())}},{title:"Publish",dataIndex:"publish",sorter:function(e,t){return e.publish>t.publish},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.publish.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],Oe=Fe(),fe=Oe.user,ve=(Oe.token,Object(r.useState)(!1)),ge=Object(u.a)(ve,2),Ne=ge[0],ye=ge[1],Se=Object(r.useRef)(),Ce=Object(lt.useReactToPrint)({content:function(){return Se.current}}),we=[];Object(r.useEffect)((function(){fe.permissions["Canteen Management"]&&(we=fe.permissions["Canteen Management"],le(we))}),[de,z]),s.a.useEffect((function(){ke()}),[de]);var ke=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,Tc(fe._id,fe.school);case 3:return t=e.sent,e.next=6,D(t);case 6:P(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){z&&_e()}),[z,te]);var _e=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==z){e.next=2;break}return e.abrupt("return");case 2:if("empty"!==z){e.next=6;break}return U(!1),pe(!1),e.abrupt("return");case 6:return e.next=8,_.find((function(e){return e._id===z}));case 8:if(t=e.sent,a=[],0!==t.menu.length){e.next=14;break}return U(!1),pe(!0),e.abrupt("return");case 14:for(pe(!0),U(!0),c=function(e){a.push({key:e,s_no:[e+1],item_name:t.menu[e].item,start_time:t.menu[e].start_time,end_time:t.menu[e].end_time,image:Object(se.jsx)("img",{width:100,height:100,src:t.menu[e].image}),price:t.menu[e].price,publish:t.menu[e].publish,action:Object(se.jsxs)("h5",{className:"mb-0",children:[we&&we.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){return Ie(t.menu[e])},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),we&&we.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return Be(t.menu[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1)]},e+1)})},n=0;n<t.menu.length;n++)c(n);S(a),P(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(e){return function(t){Q(Object(n.a)(Object(n.a)({},X),{},Object(E.a)({},e,t.target.value)))}};function Ie(e){R(!0),Q(Object(n.a)(Object(n.a)({},X),{},{item:e.item,price:e.price,publish:e.publish,image:e.image,id:e._id}))}var Ae,Pe=function(){var e=Object(d.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).set("school",fe.school),a.set("item",X.item),a.set("image",X.image),a.set("start_time",l),a.set("end_time",m),a.set("price",X.price),a.set("publish",X.publish),e.prev=9,ye(!0),e.next=13,Bc(X.id,fe._id,a);case 13:e.sent,ue(!de),G.b.success("Item edited successfully"),R(!1),J("empty"),ae(!te),ye(!1),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(9),console.log(e.t0),ye(!1),G.b.error("Error editing item");case 27:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,Pc(z,fe._id);case 4:e.sent,ue(!de),P(!1),G.b.success("Canteen Deleted Successfully"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),P(!1),G.b.error("Canteen Not Deleted");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,Lc(t,fe._id);case 4:e.sent,ue(!de),P(!1),J("empty"),ae(!te),G.b.success("Canteen Deleted Successfully"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),P(!1),G.b.error("Canteen Not Deleted");case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Canteen",parentName:"View Canteen"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:[Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h3",{children:"View Canteen"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:function(e){return J(e.target.value)},value:z,required:!0,style:{maxWidth:"10rem"},children:[Object(se.jsx)("option",{value:"empty",children:"Select Canteen"}),_.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),me&&re&&re.includes("delete")&&Object(se.jsx)(F.a,{color:"danger",className:"mt-3",children:Object(se.jsxs)($e.a,{title:"Sure to delete?",onConfirm:function(){return Le()},children:["DeleteCanteen ",Object(se.jsx)("i",{className:"fas fa-trash"})]})})]}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Ce,style:{float:"right"},children:"Print"}),!A&&y?V?Object(se.jsx)("div",{ref:Se,children:Object(se.jsx)(tt,{columns:xe,data:y,pagination:!0,exportFileName:"StudentDetails"})}):Object(se.jsx)("h3",{children:"No Menu Found"}):Object(se.jsx)(ct,{})]})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:q,toggle:function(){return R(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:q?"Edit Form":"Create Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return R(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Ne?Object(se.jsx)(ct,{}):Object(se.jsx)(Je.a,{children:Object(se.jsx)(N.a,{className:"mb-4",onSubmit:Pe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",onChange:(Ae="image",function(e){Q(Object(n.a)(Object(n.a)({},X),{},Object(E.a)({},Ae,e.target.files[0].name)))}),accept:"image/*"}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Item Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:De("item"),value:X.item,required:!0})]})}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Price"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Price",type:"Number",onChange:De("price"),value:X.price,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Publish"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:De("publish"),value:X.publish,required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Publish"}),Object(se.jsx)("option",{children:"Yes"}),Object(se.jsx)("option",{children:"No"})]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"From"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:a,onChange:function(e){return c(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]}),Object(se.jsxs)(O.a,{md:"3",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:j,onChange:function(e){return b(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]})]}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Save Changes"})})})]})})})]})]})]})};var Rc=function(){var e=s.a.useState([]),t=Object(u.a)(e,2),a=(t[0],t[1],Object(r.useState)([])),c=Object(u.a)(a,2),n=c[0],l=c[1],o=s.a.useState(!1),i=Object(u.a)(o,2),j=i[0],b=i[1],m=Object(r.useState)(),v=Object(u.a)(m,2),_=(v[0],v[1]),D=Object(r.useState)(!1),I=Object(u.a)(D,2),T=I[0],A=(I[1],Object(r.useState)({})),P=Object(u.a)(A,2),L=P[0],B=P[1],q=Fe(),E=q.user,R=(q.token,Object(r.useState)("")),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)([]),W=Object(u.a)(J,2),H=W[0],V=W[1],G=s.a.useState(0),U=Object(u.a)(G,2);U[0],U[1],s.a.useEffect((function(){Y()}),[T]);var Y=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Tc(E._id,E.school);case 3:return t=e.sent,e.next=6,V(n);case 6:return e.next=8,l(t);case 8:return e.next=10,_(t[0]._id);case 10:b(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(""===M)return console.log("here"),void V(n);var e=n.filter((function(e){return""===M?e:e.name.toLowerCase().includes(M)}));return V(e),function(){V(n)}}),[M]);var Z=s.a.useState(!1),X=Object(u.a)(Z,2),Q=X[0],$=X[1];return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Canteen",parentName:"View All Canteen"}),Object(se.jsx)("div",{className:"container-fluid search-container",children:Object(se.jsxs)(N.a,{className:p()("navbar-search form-inline mr-sm-3 navbar-search-light"),children:[Object(se.jsx)(y.a,{className:"mb-0",children:Object(se.jsxs)(S.a,{className:"input-group-alternative input-group-merge",onChange:function(e){return z(e.target.value.toLowerCase())},children:[Object(se.jsx)(C.a,{addonType:"prepend",children:Object(se.jsx)(w.a,{children:Object(se.jsx)("i",{className:"fas fa-search"})})}),Object(se.jsx)(k.a,{placeholder:"Search",type:"text"})]})}),Object(se.jsx)("button",{"aria-label":"Close",className:"close",type:"button",onClick:function(){document.body.classList.remove("g-navbar-search-shown"),setTimeout((function(){document.body.classList.remove("g-navbar-search-show"),document.body.classList.add("g-navbar-search-hiding")}),150),setTimeout((function(){document.body.classList.remove("g-navbar-search-hiding"),document.body.classList.add("g-navbar-search-hidden")}),300),setTimeout((function(){document.body.classList.remove("g-navbar-search-hidden")}),500)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]})}),j?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[!1===Q&&Object(se.jsx)("div",{className:"mt--6s items",children:H&&H.map((function(e){return Object(se.jsxs)(be.a,{fluid:!0,onClick:function(){return function(e){$(!0);var t=n.find((function(t){return t._id===e}));B(t)}(e._id)},children:[Object(se.jsx)(f.a,{className:"h-100 w-100",children:Object(se.jsx)(g.a,{children:Object(se.jsx)("p",{className:"d-flex justify-content-around",children:e.name})})}),Object(se.jsx)("div",{style:{display:"flex",justifyContent:"center",fontSize:"1.2rem"},children:e.name})]},e._id)}))}),Q&&Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(f.a,{className:"mt--6",children:[Object(se.jsx)(x.a,{style:{marginLeft:"2rem"},children:Object(se.jsx)(O.a,{className:"mt--3 ",children:Object(se.jsx)(F.a,{className:"float-left mb-2",color:"dark",onClick:function(){return $(!1)},children:Object(se.jsx)("i",{className:"ni ni-bold-left"})})})}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)("img",{className:"Header-Image",src:"https://images.unsplash.com/photo-1606787366850-de6330128bfc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8N3x8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"}),Object(se.jsxs)("div",{className:"Canteen-Name",children:[Object(se.jsx)("h1",{children:L.name}),Object(se.jsxs)("h3",{children:[Object(se.jsx)("span",{children:Object(se.jsx)("i",{className:"ni ni-watch-time"})})," ","10:30AM - 11:30AM"]})]}),Object(se.jsx)("div",{className:"items",children:0===L.menu.length?Object(se.jsx)("h3",{children:"No items found"}):L.menu.map((function(e){if("Yes"===e.publish.toString())return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("div",{children:[Object(se.jsx)("img",{className:"imgs",src:e.image}),Object(se.jsxs)("div",{className:"Name-Price",children:[Object(se.jsx)("p",{className:"Name",children:e.item}),Object(se.jsxs)("p",{className:"Price",children:[e.price,"\u20b9"]})]})]})})}))})]})]})})]})]})},Kc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/transportation/create/").concat(t),e.prev=1,e.next=4,P(c,a,"POST");case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Mc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/transportation/all/").concat(a,"/").concat(t),e.prev=1,e.next=4,P(c);case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),zc=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/transportation/delete/").concat(a,"/").concat(t),e.prev=1,e.next=4,P(c,{},"DELETE");case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Jc=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("http://35.174.4.42:5000","/api/school/transportation/edit/").concat(a,"/").concat(t),e.prev=1,e.next=4,P(n,c,"PUT");case 4:return r=e.sent,s=r.data,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(1),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,c){return e.apply(this,arguments)}}();var Wc=function(){var e=s.a.useState(new Date),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Na()(a).format("LT"),o=s.a.useState(new Date),i=Object(u.a)(o,2),j=i[0],b=i[1],m=Na()(j).format("LT"),p=s.a.useState([]),v=Object(u.a)(p,2),y=v[0],S=v[1],C=s.a.useState(!1),w=Object(u.a)(C,2),_=w[0],D=w[1],I=s.a.useState({}),T=Object(u.a)(I,2),A=T[0],P=T[1],L=s.a.useState(!1),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)([]),M=Object(u.a)(K,2),z=(M[0],M[1],Object(r.useState)(!1)),J=Object(u.a)(z,2),W=J[0],H=J[1],V=s.a.useState(!1),G=Object(u.a)(V,2),U=G[0],Y=G[1],Z=s.a.useState(new FormData),X=Object(u.a)(Z,1)[0],Q=Fe().user,$=Object(r.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=s.a.useState({route_name:"",id:"",bus_no:""}),ne=Object(u.a)(ce,2),re=ne[0],le=ne[1],oe=Object(r.useState)(!1),je=Object(u.a)(oe,2),de=je[0],ue=je[1],be=Object(r.useState)([]),he=Object(u.a)(be,2),me=he[0],pe=he[1],xe=Object(r.useRef)(),Oe=Object(lt.useReactToPrint)({content:function(){return xe.current}}),fe=function(e){P(e),D(!0)},ve=[];Object(r.useEffect)((function(){Q.permissions["Transportation management"]&&(ve=Q.permissions["Transportation management"])}),[W]);var ge=function(e){return function(t){X.set(e,t.target.value),le(Object(n.a)(Object(n.a)({},re),{},Object(E.a)({},e,t.target.value)))}},Ne=[{title:"S No.",dataIndex:"s_no"},{title:"Route Name",dataIndex:"route_name",sorter:function(e,t){return e.route_name>t.route_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.route_name.toLowerCase().includes(e.toLowerCase())}},{title:"Bus No.",dataIndex:"bus_no",sorter:function(e,t){return e.bus_no>t.bus_no},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.bus_no.toLowerCase().includes(e.toLowerCase())}},{title:"Start Time",dataIndex:"start_time",sorter:function(e,t){return e.start_time>t.start_time},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.start_time.toLowerCase().includes(e.toLowerCase())}},{title:"End Time",dataIndex:"end_time",sorter:function(e,t){return e.end_time>t.end_time},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.end_time.toLowerCase().includes(e.toLowerCase())}},{title:"Staff Members",dataIndex:"staff_members",sorter:function(e,t){return e.staff_members>t.staff_members},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.staff_members.toLowerCase().includes(e.toLowerCase())},render:function(e){return e.map((function(e){return e.firstname})).join()}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];s.a.useEffect((function(){Se(),ye()}),[W]);var ye=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(Q.school,Q._id);case 2:for(t=e.sent,a=t.data,c=[],n=0;n<a.length;n++)c.push({value:a[n]._id,label:a[n].firstname});ae(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,Mc(Q._id,Q.school);case 3:for(t=e.sent,a=[],c=function(e){a.push({key:e,s_no:e+1,route_name:t[e].name,bus_no:t[e].bus_number,staff_members:t[e].staff&&t[e].staff,start_time:t[e].start,end_time:t[e].end,action:Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("h5",{className:"mb-0",children:[Object(se.jsx)("span",{children:t[e].startTime}),ve&&ve.includes("edit")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){Ce(t[e])},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),ve&&ve.includes("delete")&&Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return we(t[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){fe(t[e])},children:"View More"},"view"+e+1)]},e+1)})})},n=0;n<t.length;n++)c(n);S(a),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(e){Y(!0);for(var t=[],a=0;a<e.staff.length;a++)t.push({value:e.staff[a]._id,label:e.staff[a].firstname});le(Object(n.a)(Object(n.a)({},re),{},{route_name:e.name,bus_no:e.bus_number,id:e._id,staff:t}))},we=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,zc(Q._id,t);case 4:e.sent,H(!W),R(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),R(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).set("bus_number",re.bus_no),t.set("name",re.route_name),t.set("end",m),t.set("start",l),t.set("staff",JSON.stringify(me)),t.set("school",Q.school),e.prev=7,ue(!0),e.next=11,Jc(Q._id,re.id,t);case 11:e.sent,H(!W),ue(!1),Y(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0),ue(!1);case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Transport",parentName:"View Route"}),Object(se.jsxs)(ze.a,{style:{height:"50vh"},isOpen:U,toggle:function(){return Y(!1)},size:"lg",scrollable:!0,children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:U?"Edit Form":"Create Form"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return Y(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:de?Object(se.jsx)(ct,{}):Object(se.jsx)(ie.a,{children:Object(se.jsxs)(N.a,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[" ",Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Route Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:ge("route_name"),value:re.route_name,required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Staff Member"}),Object(se.jsx)(zt.a,{isMulti:!0,name:"colors",options:te,onChange:function(e){for(var t=[],a=0,c=e.length;a<c;a++)t.push(e[a].value);pe(t)},className:"basic-multi-select",classNamePrefix:"select",required:!0,defaultValue:re.staff})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Bus No."}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"bus_no",type:"text",onChange:ge("bus_no"),value:re.bus_no,required:!0})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"From"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:a,onChange:function(e){return c(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:j,onChange:function(e){return b(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{className:"primary mt-5",color:"primary",onClick:ke,children:"Save Changes"})})})]})})})]}),Object(se.jsxs)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:[Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"View Route"})}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(F.a,{color:"primary",className:"mb-2",onClick:Oe,style:{float:"right"},children:"Print"}),!q&&y?Object(se.jsx)("div",{ref:xe,style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:Ne,data:y,pagination:!0,exportFileName:"StudentDetails"})}):Object(se.jsx)(ct,{})]})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:_,toggle:function(){return D(!1)},children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h6",{className:"modal-title",id:"modal-title-default",children:"Route Details"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return D(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(se.jsx)(Je.a,{children:Object(se.jsxs)(Le.a,{bordered:!0,responsive:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"S No."}),Object(se.jsx)("th",{children:"Place Name"}),Object(se.jsx)("th",{children:"pickup Time"}),Object(se.jsx)("th",{children:"DropTime"})]})}),A.stops?Object(se.jsx)(se.Fragment,{children:A.stops.map((function(e,t){return Object(se.jsx)("tbody",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:t+1}),Object(se.jsx)("td",{children:e.stopName}),Object(se.jsx)("td",{children:e.pickupTime}),Object(se.jsx)("td",{children:e.dropTime})]},t)})}))}):Object(se.jsx)("h3",{children:"No Data"})]})})]})]})]})};var Hc=function(){var e=s.a.useState(new Date),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Na()(a).format("LT"),l=s.a.useState(new Date),o=Object(u.a)(l,2),i=o[0],j=o[1],b=Na()(i).format("LT"),m=s.a.useState(new Date),p=Object(u.a)(m,2),v=p[0],y=p[1],S=Na()(v).format("LT"),C=s.a.useState(new Date),w=Object(u.a)(C,2),_=w[0],D=w[1],I=Na()(_).format("LT"),T=Object(r.useState)([]),A=Object(u.a)(T,2),P=A[0],L=A[1],B=s.a.useState(""),q=Object(u.a)(B,2),E=q[0],R=q[1],K=s.a.useState(""),M=Object(u.a)(K,2),z=M[0],J=M[1],W=s.a.useState(),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=s.a.useState(""),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=s.a.useState(!1),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(r.useState)([]),ne=Object(u.a)(ce,2),re=(ne[0],ne[1]),le=s.a.useState([]),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],ue=Object(r.useState)([]),be=Object(u.a)(ue,2),he=(be[0],be[1]),me=Object(r.useState)(!0),pe=Object(u.a)(me,2),xe=pe[0],Oe=pe[1],fe=s.a.useState(""),ve=Object(u.a)(fe,2),ge=ve[0],Ne=ve[1],ye=s.a.useState([]),Se=Object(u.a)(ye,2),Ce=Se[0],we=Se[1],ke=s.a.useState(""),_e=Object(u.a)(ke,2),De=(_e[0],_e[1],Fe().user),Ie=Object(r.useState)(),Ae=Object(u.a)(Ie,2),Pe=Ae[0],Be=Ae[1],qe=Object(r.useState)(!1),Ee=Object(u.a)(qe,2),Re=Ee[0],Ke=Ee[1],Me=new FileReader,ze=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(De.school,De._id);case 2:for(t=e.sent,a=t.data,c=a.find((function(e){return"canteen"===e.assign_role})),he(c),n=[],r=0;r<a.length;r++)n.push({value:a[r]._id,label:a[r].firstname});L(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:we(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mc(De._id,De.school);case 3:t=e.sent,re(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){ze(),We(),Je()}),[]);var He=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),{routName:E,staffMember:V,bus_no:ge,startTime:n,endTime:b,addStop:je},(a=new FormData).set("name",E),a.set("bus_number",ge),a.set("session",X),a.set("start",n),a.set("end",b),a.set("school",De.school),a.set("staff",JSON.stringify(V)),a.set("stops",JSON.stringify(je)),e.prev=11,Ke(!0),e.next=15,Kc(De._id,a);case 15:if(!(c=e.sent).err){e.next=21;break}return Ke(!1),e.abrupt("return",G.b.error(c.err));case 21:G.b.success("Route Added Successfully"),R(""),J(""),Q(""),Ne(""),Ke(!1);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(11),Ke(!1),G.b.error("Route not Added.");case 33:case"end":return e.stop()}}),e,null,[[11,29]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(Ve,{name:"Transport",parentName:"Add Route"}),Re?Object(se.jsx)(ct,{}):Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"6",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Route"})}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"d-flex justify-content-center mt-3 ",children:Object(se.jsxs)("form",{children:[Object(se.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){Be(e.target.files[0])}}),Object(se.jsx)(F.a,{onClick:function(e){!function(e){e.preventDefault(),Pe&&(Me.onload=function(e){e.target.result},Me.readAsText(Pe))}(e)},color:"primary",children:"IMPORT CSV"})]})})}),Object(se.jsxs)(N.a,{className:"mb-4",onSubmit:He,children:[Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:function(e){return Q(e.target.value)},children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),Ce&&Ce.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)("br",{}),Object(se.jsxs)(x.a,{className:"d-flex justify-content-center",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Route Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Route Name",type:"text",onChange:function(e){return R(e.target.value)},required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Staff Member"}),Object(se.jsx)(zt.a,{isMulti:!0,name:"colors",options:P,onChange:function(e){for(var t=[],a=0,c=e.length;a<c;a++)t.push(e[a].value);U(t)},className:"basic-multi-select",classNamePrefix:"select",required:!0})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Bus No."}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Bus No",type:"text",onChange:function(e){return Ne(e.target.value)},required:!0})]})}),Object(se.jsxs)(x.a,{className:"d-flex justify-content-center",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"From"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:a,onChange:function(e){return c(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"To"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:i,onChange:function(e){return j(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]})]})]}),Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Stop"})}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Place Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",onChange:function(e){return J(e.target.value)},required:!0,onBlur:function(){console.log("here"),z.length>0?Oe(!1):Oe(!0)}})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Pickup Time"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:v,onChange:function(e){return y(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Drop Time"}),Object(se.jsx)(vt.a,{id:"exampleFormControlSelect3",className:"Period-Time",selected:_,onChange:function(e){return D(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",required:!0})]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{className:"ml-3",children:Object(se.jsx)(F.a,{color:"primary",onClick:function(){var e={stopName:z,pickupTime:S,dropTime:I},t=je;t.push(e),de(t),ae(!0!==te)},disabled:xe,children:"Add"})}),Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Submit"})})]})]})]})})}),Object(se.jsx)(O.a,{lg:"6",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Stops"})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(Le.a,{bordered:!0,responsive:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"S No."}),Object(se.jsx)("th",{children:"Place Name"}),Object(se.jsx)("th",{children:"pickup Time"}),Object(se.jsx)("th",{children:"DropTime"})]})}),null!==je?Object(se.jsx)(se.Fragment,{children:je.map((function(e,t){return Object(se.jsx)("tbody",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:t+1},t),Object(se.jsx)("td",{children:e.stopName},t),Object(se.jsx)("td",{children:e.pickupTime},t),Object(se.jsx)("td",{children:e.dropTime},t)]})})}))}):Object(se.jsx)("h3",{children:"No Data"})]})})]})})]})})]})},Vc=Object(R.c)({name:"cart",initialState:{cartItems:[],cartTotalQuantity:0,cartTotalAmount:0,shippingInfo:{}},reducers:{addItemsToCart:function(e,t){var a=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));a>=0?e.cartItems[a].quantity+=t.payload.quantity:e.cartItems.push(t.payload)},removeFromCart:function(e,t){var a=e.cartItems.filter((function(e){return e.id!==t.payload.id}));e.cartItems=a},decreaseCart:function(e,t){var a=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));if(e.cartItems[a].quantity>1)e.cartItems[a].quantity-=1;else if(1===e.cartItems[a].quantity){var c=e.cartItems.filter((function(e){return e.id!==t.payload.id}));e.cartItems=c}},increaseCart:function(e,t){var a=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));e.cartItems[a].quantity<=t.payload.stock?e.cartItems[a].quantity+=1:e.cartItems[a].inStock=!1},clearCart:function(e){e.cartItems=[]},getTotal:function(e){var t=e.cartItems.reduce((function(e,t){var a=t.price,c=t.quantity,n=a*c;return e.total+=n,e.quantity+=c,e}),{total:0,quantity:0}),a=t.total,c=t.quantity;e.cartTotalQuantity=c,e.cartTotalAmount=a},setShippingInfo:function(e,t){e.shippingInfo=t.payload}}}),Gc=Vc.actions,Uc=Gc.addItemsToCart,Yc=Gc.removeFromCart,Zc=Gc.decreaseCart,Xc=Gc.increaseCart,Qc=(Gc.clearCart,Gc.getTotal),$c=(Gc.setShippingInfo,Vc.reducer),en=[{_id:0,img:"https://images-na.ssl-images-amazon.com/images/I/A1+5aIrAiYL.jpg",name:"french fries",price:15},{_id:1,img:"https://images-na.ssl-images-amazon.com/images/I/A1+5aIrAiYL.jpg",name:"DDD",price:20},{_id:2,img:"https://images-na.ssl-images-amazon.com/images/I/A1+5aIrAiYL.jpg",name:"ghgvgh",price:35},{_id:3,img:"https://images-na.ssl-images-amazon.com/images/I/A1+5aIrAiYL.jpg",name:"ghgvgh",price:35},{_id:4,img:"https://images-na.ssl-images-amazon.com/images/I/A1+5aIrAiYL.jpg",name:"ghgvgh",price:35},{_id:5,img:"https://images-na.ssl-images-amazon.com/images/I/A1+5aIrAiYL.jpg",name:"ghgvgh",price:35}];a(730);var tn=function(){var e=Object(q.b)(),t=s.a.useState(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],l=Object(q.c)((function(e){return e.cartReducer})),o=l.cartItems,i=l.cartTotalAmount;return Object(r.useEffect)((function(){e(Qc())}),[e,o]),Object(se.jsx)("div",{children:c?Object(se.jsx)(an,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Student",parentName:"Time Table"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"mt--3 ",children:Object(se.jsx)(F.a,{className:"float-left mb-2",color:"dark",onClick:function(){n(!0)},children:Object(se.jsx)("i",{className:"ni ni-bold-left"})})})}),Object(se.jsx)("div",{className:"cart_items",children:o.map((function(t,a){return Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(se.jsx)("h3",{children:"Shopping Cart"}),Object(se.jsx)("h5",{children:"Price"})]})}),Object(se.jsxs)(g.a,{children:[Object(se.jsxs)("div",{className:"d-flex",children:[Object(se.jsx)("div",{className:"p-2",children:Object(se.jsx)("img",{className:"Shopping_Cart_Img",src:t.image})}),Object(se.jsx)("div",{className:"p-2",children:Object(se.jsx)("h4",{children:t.name})}),Object(se.jsxs)("div",{className:"ml-auto p-2",children:[" ",Object(se.jsxs)("h3",{children:[t.price," Rs"]})]})]}),Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(se.jsxs)("div",{className:"ml-2",children:[Object(se.jsx)("button",{className:"Add_Value_Button",onClick:function(){return function(t){e(Zc(t))}(t)},children:"-"}),Object(se.jsxs)("span",{className:"ml-2 mr-2 Span_Value",children:[" ",t.quantity]}),Object(se.jsx)("button",{className:"Add_Value_Button",onClick:function(){return function(t){t.quantity<t.stock?e(Xc(t)):console.log("Item out of stock")}(t)},children:"+"})]}),Object(se.jsx)(F.a,{color:"danger",className:"float-right",onClick:function(){return function(t){e(Yc(t))}(t)},children:"Remove"})]})]})]})}))}),Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(se.jsx)(F.a,{color:"warning",children:"Checkout&Proceed"}),Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(se.jsx)("h2",{className:"mr-2",children:"Sub Total:"}),Object(se.jsxs)("h3",{className:"mt-1",children:[i,"Rs"]})]})]})})})]})]})})};var an=function(){var e=s.a.useState(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(q.b)(),r=Object(q.c)((function(e){return e.cartReducer})).cartTotalQuantity;return Object(se.jsx)("div",{children:a?Object(se.jsx)(tn,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Student",parentName:"Time Table"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"mt--3 ",children:Object(se.jsxs)(F.a,{className:"float-right",color:"success",onClick:function(e){c(!0)},children:[Object(se.jsx)("i",{className:"ni ni-cart",children:"Cart"}),Object(se.jsx)("span",{children:r})]})})}),Object(se.jsx)("div",{className:"items ",children:en.map((function(e,t){return Object(se.jsxs)(f.a,{className:"mt-4",children:[Object(se.jsx)(g.a,{children:Object(se.jsx)(Xt.a,{alt:"...",src:e.img,top:!0,className:"p-4",style:{width:"100%",height:"100%"}})}),Object(se.jsxs)("div",{className:"mb-3 ml-2 d-flex justify-content-between",children:[Object(se.jsx)("div",{children:Object(se.jsx)("h2",{className:"ml-3",children:e.name})}),Object(se.jsx)("div",{children:Object(se.jsxs)("h3",{className:"mr-3",children:[e.price," Rs"]})})]}),Object(se.jsx)(F.a,{color:"success",onClick:function(){return function(e){console.log("clicked");var t={id:e._id,name:e.name,price:e.price,image:e.img,quantity:1,stock:100};console.log(e),console.log(t),n(Uc(t))}(e)},children:"Add Cart"})]})}))})]})]})})};var cn=function(){return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Ecomme",parentName:"Add Product"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{lg:"8",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Product"})}),Object(se.jsx)(N.a,{className:"mb-4",children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example3cols2Input",children:"Upload Image"}),Object(se.jsxs)("div",{className:"custom-file",children:[Object(se.jsx)("input",{className:"custom-file-input",id:"customFileLang",lang:"en",type:"file",accept:"image/*"}),Object(se.jsx)("label",{className:"custom-file-label",htmlFor:"customFileLang",children:"Select file"})]})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Items Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"text",required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Add"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Add"}),Object(se.jsx)("option",{children:"Sam"}),Object(se.jsx)("option",{children:"David"}),Object(se.jsx)("option",{children:"Sam"}),Object(se.jsx)("option",{children:"David"}),Object(se.jsx)("option",{children:"Sam"}),Object(se.jsx)("option",{children:"David"})]})]})]}),Object(se.jsxs)(x.a,{className:"mt-4",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Prize"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Class",type:"Number",required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Publish"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Publish"}),Object(se.jsx)("option",{children:"Yes"}),Object(se.jsx)("option",{children:"No"})]})]})]}),Object(se.jsx)(x.a,{className:"mt-4"}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Add Product"})})})]})})]})})})})})]})},nn=function(e){Object(Pt.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(Tt.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={type:"password"},e.handleClick=function(){return e.setState((function(e){return{type:"text"===e.type?"password":"text"}}))},e}return Object(At.a)(a,[{key:"render",value:function(){var e=this.props.value;return console.log(e),Object(se.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[Object(se.jsx)("p",{children:"text"===this.state.type?"".concat(e):"******"}),Object(se.jsx)("span",{className:"password__show",onClick:this.handleClick,children:"text"===this.state.type?Object(se.jsx)("i",{className:"fa fa-eye-slash"}):Object(se.jsx)("i",{className:"fa fa-eye"})})]})}}]),a}(s.a.Component),rn=nn,sn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/student/password/").concat(t),e.prev=1,e.next=4,P(c,a,"PUT");case 4:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),console.log(e.t0),new e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),ln=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://35.174.4.42:5000","/api/school/parent/password/").concat(t),e.prev=1,e.next=4,P(c,a,"PUT");case 4:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),console.log(e.t0),new e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),on=function(){var e=Fe(),t=e.user,a=e.token,c=Object(r.useState)([]),s=Object(u.a)(c,2),l=s[0],o=s[1],i=Object(r.useState)([]),j=Object(u.a)(i,2),b=(j[0],j[1],Object(r.useState)({})),m=Object(u.a)(b,2),p=m[0],v=m[1],N=Object(r.useState)(!1),y=Object(u.a)(N,2),S=y[0],C=y[1],w=Object(r.useState)(!1),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Object(r.useState)(!1),A=Object(u.a)(T,2),P=A[0],L=(A[1],Object(r.useState)({class:"",section:""})),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)(""),M=Object(u.a)(K,2),z=M[0],J=M[1],W=Object(r.useState)(0),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=Object(r.useState)(!1),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=Object(r.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(r.useState)(""),ne=Object(u.a)(ce,2),re=ne[0],le=ne[1],oe=Object(r.useState)(""),je=Object(u.a)(oe,2),de=je[0],ue=je[1],be=Object(r.useState)(""),he=Object(u.a)(be,2),me=he[0],pe=he[1],xe=Object(r.useState)(""),Oe=Object(u.a)(xe,2),fe=Oe[0],ve=Oe[1],ge=Object(r.useState)(!1),Ne=Object(u.a)(ge,2),ye=Ne[0],Se=Ne[1],Ce=Object(r.useState)(!1),we=Object(u.a)(Ce,2);we[0],we[1];Object(r.useEffect)((function(){ke()}),[]);var ke=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,Ca(t._id,t.school,a);case 4:if(!(c=e.sent).err){e.next=8;break}return C(!1),e.abrupt("return",G.b.error(c.err));case 8:o(c),C(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),G.b.error("Fetching Classes Failed");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),_e=[{title:"Student SID",dataIndex:"sid",sorter:function(e,t){return e.sid>t.sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.sid.toLowerCase().includes(e.toLowerCase())}},{title:" Student Password",dataIndex:"password",sorter:function(e,t){return e.password>t.password},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.password.toLowerCase().includes(e.toLowerCase())},render:function(e){return Object(se.jsx)(rn,{value:e})}},{title:"Parent SID",dataIndex:"parentId",sorter:function(e,t){return e.parentId>t.parentId},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.parentId.toLowerCase().includes(e.toLowerCase())}},{title:"Parent Password",dataIndex:"parentPassword",sorter:function(e,t){return e.parentPassword>t.parentPassword},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.parentPassword.toLowerCase().includes(e.toLowerCase())},render:function(e){return Object(se.jsx)(rn,{value:e})}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];Object(r.useEffect)((function(){""===z?U(0):"student"===z?U(1):"parent"===z&&U(2)}),[z]);var De=function(e){return function(t){if(console.log(e,t.target.value),R(Object(n.a)(Object(n.a)({},q),{},Object(E.a)({},e,t.target.value))),"class"===e){var a=l.find((function(e){return e._id.toString()===t.target.value.toString()}));v(a)}}},Ie=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={section:q.section,class:q.class},e.prev=1,e.delegateYield(h.a.mark((function e(){var c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,Yt(t.school,t._id,a);case 3:for(c=e.sent,console.log(c),n=[],r=function(e){n.push({key:e,sid:c[e].SID,password:c[e].temp,parentId:c[e].parent_SID,parentPassword:c[e].parent_temp,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){Q(!0),ue(c[e].temp),le(c[e].SID),pe(c[e].parent_SID),ve(c[e].parent_temp)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"success",type:"button",children:"Send Email"},"email"+e+1)]},e+1)})},s=0;s<c.length;s++)r(s);ae(n),Se(!0),C(!1);case 11:case"end":return e.stop()}}),e)}))(),"t0",3);case 3:e.next=10;break;case 5:e.prev=5,e.t1=e.catch(1),console.log(e.t1),C(!1),G.b.error("Fetching Student Credentials Failed");case 10:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==z){e.next=4;break}return e.abrupt("return");case 4:if("student"!==z){e.next=28;break}return(a=new FormData).set("SID",re),a.set("password",de),e.prev=8,I(!0),e.next=12,sn(t._id,a);case 12:c=e.sent,console.log(c),Ie(),G.b.success("Student Password Updated"),I(!1),Q(!1),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(8),I(!1),console.log(e.t0),G.b.error("Student Password Update Failed"),Q(!1);case 26:e.next=50;break;case 28:if("parent"!==z){e.next=50;break}return(n=new FormData).set("SID",me),n.set("password",fe),e.prev=32,I(!0),e.next=36,ln(t._id,n);case 36:r=e.sent,console.log(r),Ie(),G.b.success("Parent Password Updated"),I(!1),Q(!1),e.next=50;break;case 44:e.prev=44,e.t1=e.catch(32),I(!1),console.log(e.t1),G.b.error("Parent Password Update Failed"),Q(!1);case 50:case"end":return e.stop()}}),e,null,[[8,20],[32,44]])})));return function(){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Student",parentName:"Student Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:S?Object(se.jsx)(ct,{}):Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:Object(se.jsxs)(x.a,{className:"d-flex justify-content-center mb-4",children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Class"}),Object(se.jsxs)(k.a,{className:"form-control-sm",id:"exampleFormControlSelect3",type:"select",onChange:De("class"),value:q.class,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Class"}),l&&l.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Section"}),Object(se.jsxs)(k.a,{className:"form-control-sm",id:"exampleFormControlSelect3",type:"select",onChange:De("section"),value:q.section,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Section"}),p.section&&p.section.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]}),Object(se.jsx)(O.a,{className:"mt-4",children:Object(se.jsx)(F.a,{color:"primary",onClick:Ie,children:"Search"})})]})})})}),Object(se.jsx)(ie.a,{className:"mt--0 shadow-lg table-responsive",fluid:!0,children:ye&&(P?Object(se.jsx)(ct,{}):Object(se.jsxs)(f.a,{className:"mb-4",children:[Object(se.jsx)(Te.a,{}),Object(se.jsx)(g.a,{children:Object(se.jsx)(tt,{columns:_e,data:te,pagination:!0,exportFileName:"credentials"})})]}))}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:X,toggle:function(){return Q(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Edit"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return Q(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),D?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(Je.a,{children:[Object(se.jsx)(x.a,{className:"mb-2",children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(k.a,{id:"form-class-name",value:z,onChange:function(e){return J(e.target.value)},placeholder:"Class Name",type:"select",children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"student",children:"Student"}),Object(se.jsx)("option",{value:"parent",children:"Parent"})]})})}),1===V&&Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Student Password"}),Object(se.jsx)(k.a,{id:"form-abbreviation-name",value:de,onChange:function(e){return ue(e.target.value)},placeholder:"Student Password",type:"text"})]})}),2===V&&Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",children:"Parent Password"}),Object(se.jsx)(k.a,{id:"form-abbreviation-name",value:fe,onChange:function(e){return ve(e.target.value)},placeholder:"Parent Password",type:"text"})]})})]}),Object(se.jsx)(We.a,{children:0!==V&&Object(se.jsx)(F.a,{color:"success",type:"button",onClick:Ae,children:"Save Password"})})]})]})]})},jn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/staffAttendance/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),dn=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),e.prev=1,e.next=4,L("".concat("http://35.174.4.42:5000","/api/school/staffAttendance/custom/all/").concat(t,"/").concat(a),c,"POST");case 4:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,c){return e.apply(this,arguments)}}(),un=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/staffAttendance/date/edit/").concat(a,"/").concat(t),c,"PUT");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c){return e.apply(this,arguments)}}(),bn=function(){var e=Fe(),t=e.user,a=e.token,c=Na()().startOf("month").format("YYYY-MM-DD"),l=Na()().endOf("month").format("YYYY-MM-DD"),o=(Na()().endOf("month").format("DD"),Object(r.useState)([])),i=Object(u.a)(o,2),j=i[0],b=i[1],m=Object(r.useState)(!1),p=Object(u.a)(m,2),v=p[0],y=p[1],S=Object(r.useState)([]),C=Object(u.a)(S,2),w=C[0],_=C[1],D=s.a.useState({dateFrom:c,dateTo:l,session:"",selectDepartment:""}),I=Object(u.a)(D,2),T=I[0],A=I[1],P=Object(r.useState)(!1),L=Object(u.a)(P,2),B=L[0],q=L[1],R=Object(r.useState)([]),K=Object(u.a)(R,2),M=K[0],z=K[1],J=Object(r.useState)([]),W=Object(u.a)(J,2),H=W[0],V=W[1],U=Object(r.useState)(""),Y=Object(u.a)(U,2),Z=(Y[0],Y[1]),X=Object(r.useState)([]),Q=Object(u.a)(X,2),$=Q[0],ee=Q[1],te=Object(r.useState)(!1),ae=Object(u.a)(te,2),ce=ae[0],ne=ae[1],re=Object(r.useState)(!1),le=Object(u.a)(re,2),oe=le[0],je=le[1],de=Object(r.useState)(!1),ue=Object(u.a)(de,2),be=(ue[0],ue[1]),he=Object(r.useState)([]),me=Object(u.a)(he,2),pe=me[0],xe=me[1],Oe=Object(r.useState)([]),fe=Object(u.a)(Oe,2),ve=(fe[0],fe[1],Object(r.useState)({})),ge=Object(u.a)(ve,2),Ne=(ge[0],ge[1],Object(r.useState)(!1)),ye=Object(u.a)(Ne,2),Se=ye[0],Ce=ye[1],we=Object(r.useState)(!1),ke=Object(u.a)(we,2),_e=ke[0],De=ke[1],Ie=Object(r.useState)(),Ae=Object(u.a)(Ie,2),Pe=Ae[0],Be=Ae[1],qe=Object(r.useState)(!1),Ee=Object(u.a)(qe,2),Re=Ee[0],Ke=Ee[1],Me=Object(r.useState)(""),We=Object(u.a)(Me,2),He=We[0],Ge=We[1],Ue=Object(r.useState)([]),Ze=Object(u.a)(Ue,2),Xe=Ze[0],Qe=Ze[1];Object(r.useEffect)((function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear();Z(t+"-"+a+"-"+c)}),[]);var $e=[];Object(r.useEffect)((function(){tt(),et()}),[]);var et=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,Ye(t.school,t._id,a);case 4:if(!(c=e.sent).err){e.next=7;break}return e.abrupt("return",G.b.error(c.err));case 7:console.log(c),ee(c),y(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),y(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,nt(a._id,a.school,c);case 4:if(n=e.sent,console.log(n),!n.err){e.next=10;break}return e.abrupt("return",G.b.error(n.err));case 10:return b(n),e.abrupt("return");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),at=function(e){return function(t){A(Object(n.a)(Object(n.a)({},T),{},Object(E.a)({},e,t.target.value)))}},ct=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!B),je(!0),e.next=4,rt(T.selectDepartment);case 4:je(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(d.a)(h.a.mark((function e(a,c){var n,r,s,l,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={departmentId:T.selectDepartment},e.next=3,bt(t.school,t._id,n);case 3:for(r=e.sent,console.log(w),s=0;s<r.length;s++){for(l=!1,o=0;o<M.length;o++)i=Object.keys(M[o]).toString().split(",")[1],r[s].SID===i&&w.staffDatas[Object.keys(M[o])].length===w.workingDay.length&&!0===w.Today&&(l=!0);!1===l&&$e.push({key:r[s]._id,SID:r[s].SID,hash:"".concat(s+1),name:r[s].firstname+" "+r[s].lastname})}console.log($e),xe($e);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),st=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n,r,s,l,o,i,j,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(T),c=new Date,n=c.getFullYear(),r=(c.getMonth()+1).toString().padStart(2,"0"),s=c.getDate().toString().padStart(2,"0"),l={department:T.selectDepartment,start_date:T.dateFrom,end_date:T.dateTo,session:T.session,today_date:n+"-"+r+"-"+s},e.prev=7,e.next=10,dn(t.school,t._id,l);case 10:for(j in o=e.sent,console.log(o),_(o),ne(!0),i=[],o.staffDatas)(d={})[j]=o.staffDatas[j],console.log(d),i.push(d);console.log(i),z(i),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t){return e.apply(this,arguments)}}(),lt=function(e){return function(){var a=Object(d.a)(h.a.mark((function a(c){var n,r,s,l,o,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(e),console.log(c.target.value),n=new Date,r=n.getDate(),s=n.getMonth()+1,l=n.getFullYear(),o=l+"-"+s+"-"+r,i={},H&&H.forEach((function(a,n){a.staff!==e?i={attendance_status:c.target.value,date:o,session:T.session,department:T.selectDepartment,school:t.school,staff:e}:H[n].attendance_status=c.target.value})),0===H.length&&(i={attendance_status:c.target.value,date:o,session:T.session,department:T.selectDepartment,school:t.school,staff:e}),V([].concat(Object(Ka.a)(H),[i]));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ot=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(H),a=H,c=Array.from(new Set(a.map((function(e){return e.staff})))).map((function(e){return a.find((function(t){return t.staff===e}))})),n=c.filter((function(e){return 0!==Object.keys(e).length})),console.log(n),(r=new FormData).set("attendance",JSON.stringify(n)),r.set("school",t.school),r.set("department",T.selectDepartment),e.prev=9,be(!0),e.next=13,jn(t._id,r);case 13:s=e.sent,console.log(s),s&&s.err?(q(!1),be(!1),G.b.error(s.err)):(G.b.success("Attendance Added Successfully"),q(!1),be(!1),V([])),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n,r,s,l,o,i,j,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),Ce(!0),c=new Date(a.target.value),n=c.getFullYear(),r=(c.getMonth()+1).toString().padStart(2,"0"),s=c.getDate().toString().padStart(2,"0"),(c.getDate()+1).toString().padStart(2,"0"),l={department:T.selectDepartment,start_date:n+"-"+r+"-"+s,end_date:n+"-"+r+"-"+s,session:T.session},console.log(l),Ge(n+"-"+r+"-"+s),e.prev=10,e.next=13,dn(t.school,t._id,l);case 13:if((o=e.sent)&&o.err)G.b.error(o.err);else{for(j in console.log(o),i=[],o.staffDatas)(d={})[j]=o.staffDatas[j],console.log(d),i.push(d);console.log(i),Be(i),De(!0),Ce(!1)}e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),Ce(!1);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),0!==Xe.length){e.next=5;break}G.b.error("First Change Status Before Submit"),e.next=21;break;case 5:return Ce(!0),(c=new FormData).set("department",T.selectDepartment),c.set("date",He),c.set("editAttedance",JSON.stringify(Xe)),c.set("session",T.session),e.prev=11,e.next=14,un(t._id,t.school,c);case 14:(n=e.sent)&&n.err?G.b.error(n.err):(Ce(!1),Ke(!1),G.b.success("Update Attendance is Done!")),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),Ce(!1);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{children:[Object(se.jsx)(Ve,{name:"Staff",parentName:"Attendance"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:Object(se.jsx)(N.a,{onSubmit:st,children:Object(se.jsx)(f.a,{children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)(vc.a,{loading:v,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"From"}),Object(se.jsx)(k.a,{className:"form-control",id:"example-date-input",type:"date",onChange:at("dateFrom"),value:T.dateFrom})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"To"}),Object(se.jsx)(k.a,{className:"form-control",id:"example-date-input",type:"date",onChange:at("dateTo"),value:T.dateTo})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Department"}),Object(se.jsxs)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"select",onChange:at("selectDepartment"),value:T.selectDepartment,children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Deparment"}),$&&$.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Session"}),Object(se.jsxs)("select",{className:"form-control",required:!0,onChange:at("session"),value:T.session,children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),j&&j.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{className:"mt-4",children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Search"})})})]})})})}),ce&&Object(se.jsx)(ie.a,{className:"mt--0 shadow-lg table-responsive",fluid:!0,children:Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsxs)(x.a,{className:"header_main",children:[Object(se.jsx)(O.a,{md:"3",children:Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsxs)("h3",{className:"start-end",children:[c," - ",l]})})}),Object(se.jsx)(O.a,{md:"6",children:Object(se.jsxs)("div",{className:"icons_list",children:[Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"green",color:"white",padding:"5px",fontSize:"30px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Present"})]}),Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(201, 3, 3)",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Absent"})]}),Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(243, 243, 71)",color:"white",padding:"5px",fontSize:"30px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Leave"})]}),Object(se.jsxs)("div",{className:"icons_div",children:[Object(se.jsx)("p",{id:"attendance_icons",className:"ni ni-single-02",style:{background:"blue",color:"white",padding:"5px",fontSize:"30px",borderRadius:"50%"}}),Object(se.jsx)("span",{className:"tags",children:"Half Day"})]})]})}),""!==T.section&&Object(se.jsxs)(O.a,{md:"3",className:"buttons",children:[Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:ct,color:"primary",size:"sm",children:"Add Attendance"})}),Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:function(e){e.preventDefault(),De(!1),Ke(!0)},color:"primary",size:"sm",children:"Edit Attendance"})})]})]})}),Object(se.jsxs)(g.a,{children:[0===M.length&&Object(se.jsx)("h3",{style:{padding:"10px"},children:"No Student Data Found"}),Object(se.jsx)("div",{className:"attendance_main_div",children:Object(se.jsxs)("table",{children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{style:{width:"50px"},children:"#"}),Object(se.jsx)("th",{children:"Staff Name"}),Object(se.jsx)("th",{style:{width:"150px"},children:"Staff ID"}),w.workingDay.map((function(e){return Object(se.jsx)("th",{children:e},e)}))]}),Object(se.jsx)("tbody",{children:M.length>0&&M.map((function(e,t){return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:t+1}),Object(se.jsx)("td",{children:Object.keys(e)&&Object.keys(e).toString().split(",")[0]}),Object(se.jsx)("td",{children:Object.keys(e)&&Object.keys(e).toString().split(",")[1]}),e[Object.keys(e)].map((function(e,t){return"P"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"green",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):"A"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(201, 3, 3)",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):"L"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"rgb(243, 243, 71)",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):"HF"===e?Object(se.jsx)("td",{children:Object(se.jsx)("p",{className:"ni ni-single-02",id:"attendance_icons",style:{background:"blue",color:"white",fontSize:"30px",padding:"5px",borderRadius:"50%"}})},t):void 0}))]},t)})}))})]})})]})]})})})}),Object(se.jsxs)(ze.a,{backdrop:"static",size:"xl",scrollable:!0,isOpen:B,toggle:function(){q(!1)},className:"custom-modal-style",children:[Object(se.jsx)(hc.a,{isClose:B,toggle:function(){q(!1)},children:"Add Attendance"}),Object(se.jsxs)(Je.a,{className:"modal-body",children:[Object(se.jsx)(vc.a,{loading:oe,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),M.length>0?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"model_table_main",children:Object(se.jsxs)(Le.a,{className:"model_table",bordered:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Present"}),Object(se.jsx)("th",{children:"Absent"}),Object(se.jsx)("th",{children:"Half Day"}),Object(se.jsx)("th",{children:"Leave"})]})}),Object(se.jsx)("tbody",{children:pe&&pe.map((function(e,t){return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{style:{fontWeight:"500"},children:e.name}),Object(se.jsxs)("td",{children:[" ",Object(se.jsx)("input",{type:"radio",onChange:lt(e.key),value:"P",name:t}),"Present"]}),Object(se.jsxs)("td",{children:[Object(se.jsx)("input",{type:"radio",onChange:lt(e.key),value:"A",name:t})," ","Absent"]}),Object(se.jsxs)("td",{children:[Object(se.jsx)("input",{type:"radio",name:t,value:"HF",onChange:lt(e.key)})," ","Half Day"]}),Object(se.jsxs)("td",{children:[Object(se.jsx)("input",{type:"radio",value:"L",name:t,onChange:lt(e.key)})," ","Leave"]})]},t)})}))})]})}),Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:ot,color:"primary",children:"Submit"})})]}):Object(se.jsx)("h2",{children:"All Student Attendance is Done"})]})]}),Object(se.jsxs)(ze.a,{backdrop:"static",size:"xl",scrollable:!0,isOpen:Re,className:"custom-modal-style",children:[Object(se.jsx)(hc.a,{isClose:Re,toggle:function(){return Ke(!1)},children:"Edit Attendance"}),Object(se.jsxs)(Je.a,{className:"modal-body",children:[Object(se.jsx)(vc.a,{loading:Se,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"xample-date-input",children:"Select Time"}),Object(se.jsx)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"date",onChange:it})]})}),Object(se.jsx)("br",{}),_e&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"model_table_main",children:Object(se.jsxs)(Le.a,{className:"model_table",bordered:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Status"})]})}),Object(se.jsx)("tbody",{children:Pe&&Pe.length>0?Pe.map((function(e,t){return console.log(e),Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{style:{fontWeight:"500"},children:Object.keys(e)&&Object.keys(e).toString().split(",")[0]}),Object(se.jsx)("td",{children:Object(se.jsxs)(k.a,{className:"form-control",id:"exampleFormControlSelect3",type:"select",onChange:(a=Object.keys(e).toString().split(",")[2],function(e){e.preventDefault();var t=Xe,c={id:a,attendance_status:e.target.value};t.push(c),Qe(t),console.log(Xe)}),children:[Object(se.jsx)("option",{selected:!0,value:Object.values(e)[0],disabled:!0,children:Object.values(e)[0]}),Object(se.jsx)("option",{value:"P",children:"Present"}),Object(se.jsx)("option",{value:"A",children:"Absent"}),Object(se.jsx)("option",{value:"L",children:"Leave"}),Object(se.jsx)("option",{value:"HF",children:"Half Day"})]})})]},t)});var a})):Object(se.jsx)("h3",{children:"No Student Data is Found"})})]})}),Object(se.jsx)("br",{}),_e&&Pe.length>0&&Object(se.jsx)("div",{className:"col-sm",children:Object(se.jsx)(F.a,{className:"attendance-button",onClick:jt,color:"primary",children:"Submit"})})]})]})]})]})},hn=(a(342),function(e,t,a){console.log("Start API");var c="".concat("http://35.174.4.42:5000","/api/school/fees/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return console.log(e),e.json()})).catch((function(e){throw e}))}),mn=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/fees/delete/").concat(e,"/").concat(t);return fetch(c,{method:"DELETE",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},pn=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/fees/fees/").concat(e,"/").concat(t);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},xn=function(e,t,a,c){console.log(c);var n="".concat("http://35.174.4.42:5000","/api/school/fees/custome/get/").concat(e,"/").concat(t);return fetch(n,{method:"POST",headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw console.log(e),e}))},On=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(""),y=Object(u.a)(v,2),S=y[0],C=y[1],w=Object(r.useState)(""),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Object(r.useState)(!1),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)(0),q=Object(u.a)(B,2),R=q[0],K=q[1],M=Object(r.useState)([]),z=Object(u.a)(M,2),J=z[0],W=z[1],H=Object(r.useState)([]),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=Object(r.useState)(""),X=Object(u.a)(Z,2),Q=X[0],$=X[1],ee=Object(r.useReducer)((function(e){return e+1}),0),te=Object(u.a)(ee,2),ae=(te[0],te[1]);Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,ne();case 3:return e.next=5,ce();case 5:L(!1);case 6:case"end":return e.stop()}}),e)}))),[]);var ce=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,n=t.token,e.prev=1,e.next=4,nt(a._id,a.school,n);case 4:if(!(r=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(r.err));case 9:return c(r),e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,Ca(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:return i(n),e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(!0),a=Fe(),c=a.user,n=a.token,""!==S||""!==m||""!==D){e.next=8;break}L(!1),G.b.error("Please Select Data First"),e.next=13;break;case 8:return r={class:S._id,session:m._id,fees_type:D},e.next=11,xn(c.school,c._id,n,JSON.stringify(r));case 11:(s=e.sent)&&s.fees?("OneTime"===s.fees_type?($(s),W(s.fees),K(3)):($(s),W(s.fees),K(4)),L(!1)):("OneTime"===D?(W([]),K(1)):(W([]),K(2)),L(!1));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){e.preventDefault();var t=J;t.push({}),W(t),ae()},oe=function(e,t){return function(e){var a=U;a[t]=Object(n.a)(Object(n.a)({},U[t]),{},{name:e.target.value}),Y(a),console.log(U)}},je=function(e,t){return function(a){var c=U;c[t]=Object(n.a)(Object(n.a)({},U[t]),{},Object(E.a)({},e,a.target.value)),Y(c),console.log(U)}},de=function(e,t){return function(a){if(""===a.target.value){var c=U;c[t]=Object(n.a)(Object(n.a)({},U[t]),{},Object(E.a)({},e,"")),Y(c)}else{var r=U;r[t]=Object(n.a)(Object(n.a)({},U[t]),{},Object(E.a)({},e,a.target.value)),Y(r)}}},ue=function(e,t){return function(e){var a=J;a[t]=Object(n.a)(Object(n.a)({},J[t]),{},{name:e.target.value}),W(a),ae(),console.log(J)}},be=function(e,t){return function(a){var c=J;c[t]=Object(n.a)(Object(n.a)({},J[t]),{},Object(E.a)({},e,a.target.value)),W(c),ae(),console.log(J)}},he=function(e,t){return function(a){if(""===a.target.value){var c=J;c[t]=Object(n.a)(Object(n.a)({},J[t]),{},Object(E.a)({},e,"")),W(c),ae()}else{var r=J;r[t]=Object(n.a)(Object(n.a)({},J[t]),{},Object(E.a)({},e,a.target.value)),W(r),ae()}}},me=function(e){return function(t){var a=J;a.splice(e,1),W(a),ae()}},pe=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),t.preventDefault(),a=new FormData,c=Fe(),n=c.user,r=c.token,a.set("class",S._id),a.set("school",n.school),a.set("fees",JSON.stringify(U)),a.set("session",m._id),a.set("fees_type",D),e.prev=9,e.next=12,hn(n._id,r,a);case 12:s=e.sent,console.log(s),s&&s.err?(L(!1),G.b.error(s.err)):(L(!1),G.b.success("OneTime Fees Added Successfully"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),G.b.error("Something Went Wrong!");case 20:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),t.preventDefault(),a=new FormData,c=Fe(),n=c.user,r=c.token,a.set("fees",JSON.stringify(J)),e.prev=5,e.next=8,pn(Q._id,n._id,r,a);case 8:s=e.sent,console.log(s),s&&s.err?(L(!1),G.b.error(s.err)):(L(!1),G.b.success("OneTime Fees Updated Successfully"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L(!0),a=Fe(),c=a.user,n=a.token,e.prev=3,e.next=6,mn(Q._id,c._id,n);case 6:(r=e.sent)&&r.err?(L(!1),G.b.error(r.err)):(L(!1),G.b.success("Fees Delete Successfully"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),L(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Fees",parentName:"Fees Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(vc.a,{loading:P,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h2",{children:"Fees"})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(N.a,{onSubmit:re,children:[Object(se.jsxs)(x.a,{className:"feesMainRow",fluid:!0,children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Class"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){e.preventDefault(),""===e.target.value||C(JSON.parse(e.target.value))},required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),o&&""!==o&&o.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Type"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){e.preventDefault(),""===e.target.value||I(e.target.value)},required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Type"}),Object(se.jsx)("option",{value:"OneTime",children:"OneTime Fees"}),Object(se.jsx)("option",{value:"Recurring",children:"Recurring Fees"})]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Select Session"}),Object(se.jsxs)("select",{required:!0,className:"form-control",onChange:function(e){e.preventDefault(),""===e.target.value||p(JSON.parse(e.target.value))},children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),a&&a.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]})]}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})})]})})]})}),1===R&&Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"Set OneTime Fees"}),Object(se.jsxs)("p",{children:["Class : ",S.name]}),Object(se.jsxs)("p",{children:["Session : ",m.name]}),Object(se.jsx)(F.a,{onClick:le,size:"sm",color:"primary",children:"Add Fees"})]}),Object(se.jsx)("form",{onSubmit:pe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Start Date"}),Object(se.jsx)("th",{children:"End Date"}),Object(se.jsx)("th",{children:"Total Amount"}),Object(se.jsx)("th",{children:"Option"})]}),Object(se.jsx)("tbody",{children:J.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"text",placeholder:"Name",required:!0,onChange:oe(0,t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,onChange:de("start_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,onChange:de("end_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"number",required:!0,placeholder:"Total Amount",onChange:je("total",t)})}),Object(se.jsx)("td",{children:Object(se.jsxs)("select",{required:!0,className:"form-control",onChange:je("option",t),children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),Object(se.jsx)("option",{value:"default",children:"Default"}),Object(se.jsx)("option",{value:"new",children:"New"})]})})]})}))})]})}),Object(se.jsx)("br",{}),J.length>0&&Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})}),2===R&&Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"Set Recurring Fees"}),Object(se.jsxs)("p",{children:["Class : ",S.name]}),Object(se.jsxs)("p",{children:["Session : ",m.name]}),Object(se.jsx)(F.a,{onClick:le,size:"sm",color:"primary",children:"Add Fees"})]}),Object(se.jsx)("form",{onSubmit:pe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Start Date"}),Object(se.jsx)("th",{children:"End Date"}),Object(se.jsx)("th",{children:"Total Amount"})]}),Object(se.jsx)("tbody",{children:J.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"text",placeholder:"Name",required:!0,onChange:oe(0,t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,onChange:de("start_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,onChange:de("end_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"number",required:!0,placeholder:"Total Amount",onChange:je("total",t)})})]})}))})]})}),Object(se.jsx)("br",{}),J.length>0&&Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})}),3===R&&Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"View OneTime Fees"}),Object(se.jsxs)("p",{children:["Class :"," ",Q&&Q.class&&Q.class.name]}),Object(se.jsxs)("p",{children:["Session :"," ",Q&&Q.session&&Q.session.name]}),Object(se.jsx)(F.a,{onClick:function(e){e.preventDefault(),L(!0),K(5),L(!1)},size:"sm",color:"primary",children:"Edit Fees"}),Object(se.jsx)(F.a,{size:"sm",color:"danger",children:Object(se.jsx)($e.a,{title:"Are You Sure to Delete?",onConfirm:Oe,children:"Delete Entire Fees"})})]}),Object(se.jsx)("form",{onSubmit:pe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Start Date"}),Object(se.jsx)("th",{children:"End Date"}),Object(se.jsx)("th",{children:"Total Amount"}),Object(se.jsx)("th",{children:"Option"})]}),Object(se.jsx)("tbody",{children:J.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:e.name}),Object(se.jsx)("td",{children:e.start_date}),Object(se.jsx)("td",{children:e.end_date}),Object(se.jsx)("td",{children:e.total}),Object(se.jsx)("td",{children:e.option})]})}))})]})}),Object(se.jsx)("br",{})]})})]})}),4===R&&Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"View Recurring Fees"}),Object(se.jsxs)("p",{children:["Class :"," ",Q&&Q.class&&Q.class.name]}),Object(se.jsxs)("p",{children:["Session :"," ",Q&&Q.session&&Q.session.name]}),Object(se.jsx)(F.a,{onClick:function(e){e.preventDefault(),L(!0),K(6),L(!1)},size:"sm",color:"primary",children:"Edit Fees"}),Object(se.jsx)(F.a,{size:"sm",color:"danger",children:Object(se.jsx)($e.a,{title:"Are You Sure to Delete?",onConfirm:Oe,children:"Delete Entire Fees"})})]}),Object(se.jsx)("form",{onSubmit:pe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Start Date"}),Object(se.jsx)("th",{children:"End Date"}),Object(se.jsx)("th",{children:"Total Amount"})]}),Object(se.jsx)("tbody",{children:J.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:e.name}),Object(se.jsx)("td",{children:e.start_date}),Object(se.jsx)("td",{children:e.end_date}),Object(se.jsx)("td",{children:e.total})]})}))})]})}),Object(se.jsx)("br",{})]})})]})}),5===R&&Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"Edit OneTime Fees"}),Object(se.jsxs)("p",{children:["Class :"," ",Q&&Q.class&&Q.class.name]}),Object(se.jsxs)("p",{children:["Session :"," ",Q&&Q.session&&Q.session.name]}),Object(se.jsx)(F.a,{onClick:le,size:"sm",color:"primary",children:"Add Fees"})]}),Object(se.jsx)("form",{onSubmit:xe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"#"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Start Date"}),Object(se.jsx)("th",{children:"End Date"}),Object(se.jsx)("th",{children:"Total Amount"}),Object(se.jsx)("th",{children:"Option"})]}),Object(se.jsx)("tbody",{children:J.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:Object(se.jsx)(F.a,{onClick:me(t),color:"danger",children:"Delete"})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"text",placeholder:"Name",required:!0,value:e.name,onChange:ue(0,t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,value:e.start_date,onChange:he("start_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,value:e.end_date,onChange:he("end_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"number",required:!0,placeholder:"Total Amount",value:e.total,onChange:be("total",t)})}),Object(se.jsx)("td",{children:Object(se.jsxs)("select",{required:!0,className:"form-control",value:e.option,onChange:be("option",t),children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Session"}),Object(se.jsx)("option",{value:"default",children:"Default"}),Object(se.jsx)("option",{value:"new",children:"New"})]})})]})}))})]})}),Object(se.jsx)("br",{}),J.length>0&&Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})}),6===R&&Object(se.jsx)(ie.a,{fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"Edit Recurring Fees"}),Object(se.jsxs)("p",{children:["Class :"," ",Q&&Q.class&&Q.class.name]}),Object(se.jsxs)("p",{children:["Session :"," ",Q&&Q.session&&Q.session.name]}),Object(se.jsx)(F.a,{onClick:le,size:"sm",color:"primary",children:"Add Fees"})]}),Object(se.jsx)("form",{onSubmit:xe,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"#"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Start Date"}),Object(se.jsx)("th",{children:"End Date"}),Object(se.jsx)("th",{children:"Total Amount"})]}),Object(se.jsx)("tbody",{children:J.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:Object(se.jsx)(F.a,{onClick:me(t),color:"danger",children:"Delete"})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"text",placeholder:"Name",required:!0,value:e.name,onChange:ue(0,t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,value:e.start_date,onChange:he("start_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,value:e.end_date,onChange:he("end_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"number",required:!0,placeholder:"Total Amount",value:e.total,onChange:be("total",t)})})]})}))})]})}),Object(se.jsx)("br",{}),J.length>0&&Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})})]})},fn=function(e,t,a){console.log("Start API");var c="".concat("http://35.174.4.42:5000","/api/school/penalty/create/").concat(e);return fetch(c,{method:"POST",headers:{Authorization:"Bearer "+t,Accept:"application/json"},body:a}).then((function(e){return console.log(e),e.json()})).catch((function(e){throw e}))},vn=function(e,t,a){var c="".concat("http://35.174.4.42:5000","/api/school/penalty/delete/").concat(e,"/").concat(t);return fetch(c,{method:"DELETE",headers:{Authorization:"Bearer "+a,Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))},gn=function(e,t,a,c){var n="".concat("http://35.174.4.42:5000","/api/school/penalty/").concat(e,"/").concat(t);return fetch(n,{method:"PUT",headers:{Authorization:"Bearer "+a,Accept:"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw e}))},Nn=function(e,t,a,c){console.log(c);var n="".concat("http://35.174.4.42:5000","/api/school/penalty/custome/get/").concat(e,"/").concat(t);return fetch(n,{method:"POST",headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw console.log(e),e}))},yn=function(e,t,a,c){console.log(c);var n="".concat("http://35.174.4.42:5000","/api/school/fees/object/all/get/").concat(e,"/").concat(t);return fetch(n,{method:"POST",headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"},body:c}).then((function(e){return e.json()})).catch((function(e){throw console.log(e),e}))},Sn=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(""),y=Object(u.a)(v,2),S=y[0],C=y[1],w=Object(r.useState)(!1),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Object(r.useState)(0),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)([]),q=Object(u.a)(B,2),R=q[0],K=q[1],M=Object(r.useState)([]),z=Object(u.a)(M,2),J=z[0],W=z[1],H=Object(r.useState)(""),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=Object(r.useState)(""),X=Object(u.a)(Z,2),Q=(X[0],X[1],Object(r.useReducer)((function(e){return e+1}),0)),$=Object(u.a)(Q,2),ee=($[0],$[1]);Object(r.useEffect)(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,ae();case 3:return e.next=5,te();case 5:I(!1);case 6:case"end":return e.stop()}}),e)}))),[]);var te=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,n=t.token,e.prev=1,e.next=4,nt(a._id,a.school,n);case 4:if(!(r=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(r.err));case 9:return c(r),e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe(),a=t.user,c=t.token,e.prev=1,e.next=4,Ca(a._id,a.school,c);case 4:if(!(n=e.sent).err){e.next=9;break}return e.abrupt("return",G.b.error(n.err));case 9:return i(n),e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),I(!0),a=Fe(),c=a.user,n=a.token,""!==S||""!==m){e.next=8;break}I(!1),G.b.error("Please Select Data First"),e.next=23;break;case 8:return r={class:S._id,session:m._id},e.next=11,yn(c.school,c._id,n,JSON.stringify(r));case 11:if(s=e.sent,console.log(s),!(s&&s.length>0)){e.next=21;break}return e.next=16,Nn(c.school,c._id,n,JSON.stringify(r));case 16:l=e.sent,console.log(l),l&&l.penalty?(L(2),Y(l),K(l.penalty),I(!1)):(L(1),Y(s),K(s),I(!1)),e.next=23;break;case 21:G.b.error("Class Fees is not added please add that first"),I(!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e,t,a){return function(c){var r=J;r[a]=Object(n.a)(Object(n.a)({},J[a]),{},Object(E.a)({name:t},e,c.target.value)),W(r),console.log(J)}},re=function(e,t,a){return function(c){if(""===c.target.value){var r=J;r[a]=Object(n.a)(Object(n.a)({},J[a]),{},Object(E.a)({name:t},e,"")),W(r)}else{var s=J;s[a]=Object(n.a)(Object(n.a)({},J[a]),{},Object(E.a)({name:t},e,c.target.value)),W(s)}}},le=function(e,t){return function(a){var c=R;c[t]=Object(n.a)(Object(n.a)({},R[t]),{},Object(E.a)({},e,a.target.value)),K(c),ee(),console.log(R)}},oe=function(e,t){return function(a){if(""===a.target.value){var c=R;c[t]=Object(n.a)(Object(n.a)({},R[t]),{},Object(E.a)({},e,"")),K(c),ee()}else{var r=R;r[t]=Object(n.a)(Object(n.a)({},R[t]),{},Object(E.a)({},e,a.target.value)),K(r),ee()}}},je=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),t.preventDefault(),a=new FormData,c=Fe(),n=c.user,r=c.token,a.set("class",S._id),a.set("school",n.school),a.set("penalty",JSON.stringify(J)),a.set("session",m._id),e.prev=8,e.next=11,fn(n._id,r,a);case 11:s=e.sent,console.log(s),s&&s.err?(I(!1),G.b.error(s.err)):(I(!1),G.b.success("Penalty Added Successfully"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),G.b.error("Something Went Wrong!");case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),t.preventDefault(),a=new FormData,c=Fe(),n=c.user,r=c.token,a.set("penalty",JSON.stringify(R)),e.prev=5,e.next=8,gn(U._id,n._id,r,a);case 8:s=e.sent,console.log(s),s&&s.err?(I(!1),G.b.error(s.err)):(I(!1),G.b.success("Penalty Updated Successfully"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),G.b.error("Something Went Wrong!");case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),a=Fe(),c=a.user,n=a.token,e.prev=3,e.next=6,vn(U._id,c._id,n);case 6:(r=e.sent)&&r.err?(I(!1),G.b.error(r.err)):(I(!1),G.b.success("Penalty Delete Successfully"),setTimeout((function(){window.location.reload(1)}),1e3)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),I(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Penalty",parentName:"Penalty Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(vc.a,{loading:D,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Please Wait..."}),0===P&&Object(se.jsx)(ie.a,{fluid:!0,className:"mt--6",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h2",{children:"Penalty"})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(N.a,{onSubmit:ce,children:[Object(se.jsxs)(x.a,{className:"feesMainRow",fluid:!0,children:[Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Select Class"}),Object(se.jsxs)(k.a,{id:"example4cols3Input",type:"select",onChange:function(e){e.preventDefault(),""===e.target.value||C(JSON.parse(e.target.value))},required:!0,children:[Object(se.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Class"}),o&&""!==o&&o.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Select Session"}),Object(se.jsxs)("select",{required:!0,className:"form-control",onChange:function(e){e.preventDefault(),""===e.target.value||p(JSON.parse(e.target.value))},children:[Object(se.jsx)("option",{value:"",children:"Select Session"}),a&&a.map((function(e){return Object(se.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]})]}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Next"})})})]})})]})}),1===P&&Object(se.jsx)(ie.a,{fluid:!0,className:"mt--6",children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"Set Penalty Fees"}),Object(se.jsxs)("p",{children:["Class : ",S.name]}),Object(se.jsxs)("p",{children:["Session : ",m.name]})]}),Object(se.jsx)("form",{onSubmit:je,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"App Date"}),Object(se.jsx)("th",{children:"Amount"}),Object(se.jsx)("th",{children:"Penalty Type"})]}),Object(se.jsx)("tbody",{children:R.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:e}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,onChange:re("app_date",e,t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"number",required:!0,placeholder:"Amount",onChange:ne("amount",e,t)})}),Object(se.jsx)("td",{children:Object(se.jsxs)("select",{required:!0,className:"form-control",onChange:ne("penalty_type",e,t),children:[Object(se.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select Penalty Type"}),Object(se.jsx)("option",{value:"flat",children:"Flat"}),Object(se.jsx)("option",{value:"percentage",children:"% Percentage"})]})})]})}))})]})}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})}),2===P&&Object(se.jsx)(ie.a,{fluid:!0,className:"mt--6",children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"View Penalty Fees"}),Object(se.jsxs)("p",{children:["Class :"," ",U&&U.class&&U.class.name]}),Object(se.jsxs)("p",{children:["Session :"," ",U&&U.session&&U.session.name]}),Object(se.jsx)(F.a,{onClick:function(e){e.preventDefault(),I(!0),L(3),I(!1)},size:"sm",color:"primary",children:"Edit Penalty"}),Object(se.jsx)(F.a,{size:"sm",color:"danger",children:Object(se.jsx)($e.a,{title:"Are You Sure to Delete?",onConfirm:ue,children:"Delete Entire Penalty"})})]}),Object(se.jsx)("form",{onSubmit:je,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"App Date"}),Object(se.jsx)("th",{children:"Amount"}),Object(se.jsx)("th",{children:"Penalty Type"})]}),Object(se.jsx)("tbody",{children:R.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:e.name}),Object(se.jsx)("td",{children:e.app_date}),Object(se.jsx)("td",{children:e.amount}),Object(se.jsx)("td",{children:e.penalty_type})]})}))})]})}),Object(se.jsx)("br",{})]})})]})}),3===P&&Object(se.jsx)(ie.a,{fluid:!0,className:"mt--6",children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h2",{children:"Edit Penalty Fees"}),Object(se.jsxs)("p",{children:["Class :"," ",U&&U.class&&U.class.name]}),Object(se.jsxs)("p",{children:["Session :"," ",U&&U.session&&U.session.name]})]}),Object(se.jsx)("form",{onSubmit:de,children:Object(se.jsxs)(g.a,{children:[Object(se.jsx)("div",{className:"table_div_fees",children:Object(se.jsxs)("table",{className:"fees_table",children:[Object(se.jsxs)("thead",{children:[Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"App Date"}),Object(se.jsx)("th",{children:"Amount"}),Object(se.jsx)("th",{children:"Penalty Type"})]}),Object(se.jsx)("tbody",{children:R.map((function(e,t){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:e.name}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"date",required:!0,value:e.app_date,onChange:oe("app_date",t)})}),Object(se.jsx)("td",{children:Object(se.jsx)(k.a,{id:"exampleFormControlTextarea1",type:"number",required:!0,placeholder:"Amount",value:e.amount,onChange:le("amount",t)})}),Object(se.jsx)("td",{children:Object(se.jsxs)("select",{required:!0,className:"form-control",value:e.penalty_type,onChange:le("penalty_type",t),children:[Object(se.jsx)("option",{value:"",disabled:!0,children:"Select Penalty Type"}),Object(se.jsx)("option",{value:"flat",children:"Flat"}),Object(se.jsx)("option",{value:"percentage",children:"% Percentage"})]})})]})}))})]})}),Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{className:"left_button",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]})})]})},Cn=(a(165),function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/librarysection/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()),wn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/librarysection/all/").concat(t,"/").concat(a),{},"GET");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),kn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryshelf/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),_n=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryshelf/all/").concat(t,"/").concat(a),{},"GET");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Fn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/librarysection/delete/").concat(a,"/").concat(t),{},"DELETE");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",new e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Dn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryshelf/delete/").concat(a,"/").concat(t),{},"DELETE");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",new e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),In=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryshelf/edit/").concat(a,"/").concat(t),c,"PUT");case 3:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",new e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/books/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",new e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),An=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/books/all/").concat(t,"/").concat(a),{},"GET");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/books/delete/").concat(a,"/").concat(t),{},"DELETE");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/books/edit/").concat(a,"/").concat(t),c,"PUT");case 3:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Bn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryhistory/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),qn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryhistory/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),En=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/libraryhistory/all/").concat(t,"/").concat(a),{},"GET");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),s=Object(u.a)(n,2),l=s[0],o=s[1],i=Fe().user,j=Object(r.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)([]),y=Object(u.a)(v,2),S=y[0],C=y[1],w=Object(r.useState)(""),_=Object(u.a)(w,2),D=_[0],I=_[1],T=Object(r.useState)(""),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)(""),q=Object(u.a)(B,2),E=q[0],R=q[1],K=Object(r.useState)(!1),M=Object(u.a)(K,2),z=M[0],J=M[1],W=Object(r.useState)([]),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=Object(r.useState)(!1),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=Object(r.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(r.useState)(""),ne=Object(u.a)(ce,2),re=ne[0],le=ne[1],oe=Object(r.useState)([]),je=Object(u.a)(oe,2),de=(je[0],je[1]),ue=Object(r.useState)(!1),be=Object(u.a)(ue,2),he=be[0],me=be[1],pe=Object(r.useState)(!1),xe=Object(u.a)(pe,2),Oe=xe[0],fe=xe[1],ve=Object(r.useState)(""),ge=Object(u.a)(ve,2),Ne=ge[0],ye=ge[1],Se=Object(r.useState)(""),Ce=Object(u.a)(Se,2),we=Ce[0],ke=Ce[1],_e=Object(r.useState)(""),De=Object(u.a)(_e,2),Ie=De[0],Ae=De[1],Pe=[{title:"S No.",dataIndex:"s_no"},{title:"Shelf Name",dataIndex:"shelf_name",sorter:function(e,t){return e.shelf_name>t.shelf_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.shelf_name.toLowerCase().includes(e.toLowerCase())}},{title:"Shelf Abbreviation ",dataIndex:"shelf_abv",sorter:function(e,t){return e.shelf_abv>t.shelf_abv},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.shelf_abv.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}];Object(r.useEffect)((function(){Le(),qe()}),[z]);var Le=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wn(i.school,i._id);case 3:t=e.sent,console.log(t),C(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),G.b.error("Error in getting Sections");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).set("name",a),n.set("abbreviation",l),n.set("school",i.school),e.prev=5,p(!0),e.next=9,Cn(i._id,n);case 9:if(r=e.sent,console.log(r),!r.err){e.next=15;break}return G.b.error(r.err),p(!1),e.abrupt("return");case 15:G.b.success("Section Added Successfully"),c(""),o(""),J(!z),p(!1),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(5),console.log(e.t0),p(!1),G.b.error("Section Added Failed");case 27:case"end":return e.stop()}}),e,null,[[5,22]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ae(!0),e.next=4,_n(i.school,i._id);case 4:t=e.sent,console.log(t),de(t),ae(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),ae(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).set("name",D),a.set("abbreviation",P),a.set("section",E),a.set("school",i.school),e.prev=6,p(!0),e.next=10,kn(i._id,a);case 10:if(c=e.sent,console.log(c),!c.err){e.next=16;break}return G.b.error(c.err),p(!1),e.abrupt("return");case 16:G.b.success("Shelf Added Successfully"),J(!z),I(""),L(""),R(""),p(!1),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(6),console.log(e.t0),p(!1),G.b.error("Shelf Added Failed");case 29:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==re){e.next=2;break}return e.abrupt("return");case 2:if("empty"!==re){e.next=5;break}return Q(!1),e.abrupt("return");case 5:return e.next=7,S.find((function(e){return e._id===re}));case 7:if(t=e.sent,a=[],0!==t.shelf.length){e.next=12;break}return Q(!1),e.abrupt("return");case 12:for(Q(!0),c=function(e){a.push({key:e,s_no:[e+1],shelf_name:t.shelf[e].name,shelf_abv:t.shelf[e].abbreviation,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){me(!0),ye(t.shelf[e].name),ke(t.shelf[e].abbreviation),Ae(t.shelf[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return Ke(t.shelf[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1)]},e+1)})},n=0;n<t.shelf.length;n++)c(n);U(a),ae(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(d.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ae(!0),e.next=4,Dn(i._id,t);case 4:if(a=e.sent,console.log(a),!a.err){e.next=10;break}return G.b.error(a.err),ae(!1),e.abrupt("return");case 10:G.b.success("Shelf Deleted Successfully"),J(!z),le("empty"),ae(!1),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),ae(!1),G.b.error("Shelf Deleted Failed");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).set("name",Ne),a.set("abbreviation",we),a.set("section",re),a.set("school",i.school),e.prev=6,ae(!0),fe(!0),e.next=11,In(i._id,Ie,a);case 11:if(c=e.sent,console.log(c),!c.err){e.next=18;break}return G.b.error(c.err),ae(!1),fe(!1),e.abrupt("return");case 18:G.b.success("Shelf Edited Successfully"),J(!z),le("empty"),me(!1),ae(!1),fe(!1),e.next=32;break;case 26:e.prev=26,e.t0=e.catch(6),console.log(e.t0),ae(!1),fe(!1),G.b.error("Shelf Edited Failed");case 32:case"end":return e.stop()}}),e,null,[[6,26]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){re&&Re()}),[re]);var We=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ae(!0),e.next=4,Fn(i._id,re);case 4:if(t=e.sent,console.log(t),!t.err){e.next=10;break}return G.b.error(t.err),ae(!1),e.abrupt("return");case 10:J(!z),le("empty"),G.b.success("Section Deleted Successfully"),J(!z),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),G.b.error("Section Delete Failed");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(Ve,{name:"Library",parentName:"Add Shelf"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[m?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Library Section"})}),Object(se.jsx)(g.a,{children:Object(se.jsxs)(N.a,{className:"mb-4",onSubmit:Be,children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Section Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Section Name",type:"text",onChange:function(e){return c(e.target.value)},value:a,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Section Abbreviation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Section Name",type:"text",onChange:function(e){return o(e.target.value)},value:l,required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Add Section"})})})]})})]})})}),Object(se.jsx)(O.a,{lg:"8",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Add Shelf"})}),Object(se.jsx)(g.a,{children:Object(se.jsx)(N.a,{className:"mb-4",onSubmit:Ee,children:Object(se.jsxs)(x.a,{md:"4",className:"d-flex justify-content-center mb-4",children:[Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Shelf Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:function(e){return I(e.target.value)},value:D,required:!0})]}),Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Section"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:function(e){return R(e.target.value)},value:E,required:!0,children:[Object(se.jsx)("option",{value:"",selected:!0,children:"Select Section"}),S&&S.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"12",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Shelf Abbreviation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:function(e){return L(e.target.value)},value:P,required:!0})]}),Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"2rem"},md:"12",children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Add Shelf"})})]})})})]})})})]}),Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsx)(ie.a,{className:"mt--6 shadow-lg",fluid:!0,children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)("h3",{children:"View Shelves"}),Object(se.jsxs)(x.a,{style:{alignItems:"center",justifyContent:"space-between"},children:[Object(se.jsx)(O.a,{children:Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",onChange:function(e){return le(e.target.value)},value:re,required:!0,style:{maxWidth:"10rem"},children:[Object(se.jsx)("option",{value:"empty",children:"Select Section"}),S.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(se.jsx)(F.a,{color:"danger",className:"mt-3",children:Object(se.jsxs)($e.a,{title:"Sure to delete?",onConfirm:function(){return We()},children:["DeleteSection ",Object(se.jsx)("i",{className:"fas fa-trash"})]})})})]})]}),Object(se.jsx)(g.a,{children:!te&&V?X?Object(se.jsx)(tt,{columns:Pe,data:V,pagination:!0,exportFileName:"StudentDetails"}):Object(se.jsx)("h3",{children:"No Shelf Found"}):Object(se.jsx)(ct,{})})]})})})})]}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:he,toggle:function(){return me(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Edit Shelf"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return me(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Oe?Object(se.jsx)(ct,{}):Object(se.jsx)(Je.a,{children:Object(se.jsxs)(N.a,{className:"mb-4",onSubmit:Me,children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Shelf Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:function(e){return ye(e.target.value)},value:Ne,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Shelf Abbreviation"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:function(e){return ke(e.target.value)},value:we,required:!0})]})}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Save Changes"})})})]})})]})]})]})},Kn=function(){var e=Fe(),t=e.user,a=(e.token,Object(r.useState)(!1)),c=Object(u.a)(a,2),n=c[0],s=c[1],l=Object(r.useState)([]),o=Object(u.a)(l,2),i=o[0],j=o[1],b=Object(r.useState)({}),m=Object(u.a)(b,2),p=m[0],v=m[1],y=Object(r.useState)({}),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)([]),D=Object(u.a)(_,2),I=(D[0],D[1]),T=Object(r.useState)(!1),A=Object(u.a)(T,2),P=A[0],L=A[1],B=Object(r.useState)(""),q=Object(u.a)(B,2),E=q[0],R=q[1],K=Object(r.useState)(""),M=Object(u.a)(K,2),z=M[0],J=M[1],W=Object(r.useState)(""),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=Object(r.useState)(""),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=Object(r.useState)(""),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ce=Object(r.useState)(""),ne=Object(u.a)(ce,2),re=ne[0],le=ne[1],oe=Object(r.useState)(""),je=Object(u.a)(oe,2),de=je[0],ue=je[1],be=Object(r.useState)(""),he=Object(u.a)(be,2),me=he[0],pe=he[1],xe=Object(r.useState)(""),Oe=Object(u.a)(xe,2),fe=Oe[0],ve=Oe[1],ge=Object(r.useState)(""),Ne=Object(u.a)(ge,2),ye=Ne[0],Se=Ne[1],Ce=Object(r.useState)(!1),we=Object(u.a)(Ce,2),ke=we[0],_e=we[1],De=Object(r.useState)([]),Ie=Object(u.a)(De,2),Te=Ie[0],Ae=Ie[1],Pe=Object(r.useState)(!1),Le=Object(u.a)(Pe,2),Be=Le[0],qe=Le[1],Ee=Object(r.useState)(!1),Re=Object(u.a)(Ee,2),Ke=Re[0],Me=Re[1];Object(r.useEffect)((function(){He(),Ge()}),[]),Object(r.useEffect)((function(){Ue()}),[Be]);var We=[{title:"S No.",dataIndex:"s_no"},{title:"Book Name",dataIndex:"book_name",sorter:function(e,t){return e.book_name>t.book_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_name.toLowerCase().includes(e.toLowerCase())}},{title:"Book Author",dataIndex:"book_author",sorter:function(e,t){return e.book_author>t.book_author},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_author.toLowerCase().includes(e.toLowerCase())}},{title:"Quantity",dataIndex:"book_quantity",sorter:function(e,t){return e.book_quantity>t.book_quantity},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_quantity.toLowerCase().includes(e.toLowerCase())}},{title:"Section Name",dataIndex:"section_name",sorter:function(e,t){return e.section_name>t.section_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.section_name.toLowerCase().includes(e.toLowerCase())}},{title:"Shelf Name",dataIndex:"shelf_name",sorter:function(e,t){return e.shelf_name>t.shelf_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.shelf_name.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],He=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wn(t.school,t._id);case 3:a=e.sent,console.log(a),j(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),G.b.error("Error in getting Sections");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,_n(t.school,t._id);case 4:a=e.sent,console.log(a),I(a),L(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),L(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(h.a.mark((function e(){var a,c,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(t.school,t._id);case 2:for(a=e.sent,console.log(a),c=[],n=function(e){c.push({key:e,s_no:e+1,book_name:a[e].name,book_quantity:a[e].quantity,book_author:a[e].author,section_name:a[e].section.name,shelf_name:a[e].shelf.name,action:Object(se.jsxs)("h5",{className:"mb-0",children:[Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"primary",type:"button",onClick:function(){_e(!0),ue(a[e].name),pe(a[e].section._id),ve(a[e].shelf._id),Se(a[e]._id),ae(a[e].author)},children:Object(se.jsx)("i",{className:"fas fa-user-edit"})},"edit"+e+1),Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return Ze(a[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1)]},e+1)})},r=0;r<a.length;r++)n(r);Ae(c);case 8:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),console.log(e.t1);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(c=new FormData).set("name",de),c.set("section",me),c.set("shelf",fe),c.set("author",te),e.prev=6,L(!0),Me(!0),e.next=11,Ln(t._id,ye,c);case 11:if(n=e.sent,console.log(n),!n.err){e.next=18;break}return G.b.error(n.err),L(!1),Me(!1),e.abrupt("return");case 18:_e(!1),L(!1),Me(!1),Ue(),G.b.success("Book Edited Successfully"),e.next=31;break;case 25:e.prev=25,e.t0=e.catch(6),console.log(e.t0),L(!1),Me(!1),G.b.error("Error in Editing Book");case 31:case"end":return e.stop()}}),e,null,[[6,25]])})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(d.a)(h.a.mark((function e(a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,Pn(t._id,a);case 4:if(!(c=e.sent).err){e.next=9;break}return G.b.error(c.err),L(!1),e.abrupt("return");case 9:G.b.success("Book Deleted"),qe(!Be),L(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),L(!1),G.b.error("Error in deleting book");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(""!==z){var e=i.find((function(e){return e._id===z}));v(e)}}),[z]),Object(r.useEffect)((function(){if(""!==me){var e=i.find((function(e){return e._id===me}));w(e)}}),[me,ke]);var Xe=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(c=new FormData).set("name",E),c.set("section",z),c.set("shelf",re),c.set("school",t.school),c.set("quantity",V),c.set("author",X),e.prev=8,s(!0),e.next=12,Tn(t._id,c);case 12:if(n=e.sent,console.log(n),!n.err){e.next=18;break}return G.b.error(n.err),s(!1),e.abrupt("return");case 18:s(!1),G.b.success("Book Added Successfully"),qe(!Be),R(""),U(""),J(""),le(""),Q(""),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(8),console.log(e.t0),G.b.error("Error in adding book"),s(!1);case 33:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Books",parentName:"Library Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsxs)(ie.a,{className:"mt--6",fluid:!0,children:[Object(se.jsx)(x.a,{children:n?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(O.a,{lg:"4",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:Object(se.jsxs)(N.a,{className:"mb-4",onSubmit:Xe,children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Book Name",type:"text",onChange:function(e){return R(e.target.value)},value:E,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Author"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Book Author",type:"text",onChange:function(e){return Q(e.target.value)},value:X})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Quantity"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Book Quantity",type:"number",onChange:function(e){return U(e.target.value)},value:V,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Section"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Book Section",type:"select",onChange:function(e){return J(e.target.value)},value:z,required:!0,children:[Object(se.jsx)("option",{value:"",children:" Select Section"}),i&&i.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Shelf"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Book Shelf",type:"select",onChange:function(e){return le(e.target.value)},value:re,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Shelf"}),p.shelf&&p.shelf.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",style:{display:"flex",justifyContent:"center"},children:"Submit"})})})]})})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:P?Object(se.jsx)(ct,{}):Object(se.jsx)(tt,{columns:We,data:Te,pagination:!0,exportFileName:"BookDetails"})})})})})]})}),Object(se.jsxs)(ze.a,{className:"modal-dialog-centered",isOpen:ke,toggle:function(){return _e(!1)},size:"lg",children:[Object(se.jsxs)("div",{className:"modal-header",children:[Object(se.jsx)("h2",{className:"modal-title",id:"modal-title-default",children:"Edit Book"}),Object(se.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return _e(!1)},children:Object(se.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Ke?Object(se.jsx)(ct,{}):Object(se.jsx)(Je.a,{children:Object(se.jsxs)(N.a,{className:"mb-4",onSubmit:Ye,children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Name"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:function(e){return ue(e.target.value)},value:de,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Author"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Name",type:"text",onChange:function(e){return ae(e.target.value)},value:te})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Section"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Book Section",type:"select",onChange:function(e){return pe(e.target.value)},value:me,required:!0,children:[Object(se.jsx)("option",{value:"",children:" Select Section"}),i&&i.map((function(e,t){return Object(se.jsx)("option",{value:e._id,children:e.name},t)}))]})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Shelf"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Book Shelf",type:"select",onChange:function(e){return ve(e.target.value)},value:fe,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Shelf"}),C.shelf&&C.shelf.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),Object(se.jsx)(x.a,{className:"mt-4 float-right",children:Object(se.jsx)(O.a,{children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Save Changes"})})})]})})]})]})]})},Mn=function(){var e=Fe(),t=e.user,a=e.token,c=Object(r.useState)({class:"",section:"",student:"",bookName:"",bookId:"",allocationDate:"",allocatedBy:"",duration:""}),s=Object(u.a)(c,2),l=s[0],o=s[1],i=Object(r.useState)(!1),j=Object(u.a)(i,2),b=j[0],m=j[1],p=Object(r.useState)([]),f=Object(u.a)(p,2),v=f[0],g=f[1],y=Object(r.useState)({}),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)(!1),D=Object(u.a)(_,2),I=(D[0],D[1],Object(r.useState)([])),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)([]),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)({}),M=Object(u.a)(K,2),z=M[0],J=M[1],W=Object(r.useState)([]),H=Object(u.a)(W,2),V=H[0],U=H[1],Y=Object(r.useState)(!1),Z=Object(u.a)(Y,2),X=Z[0],Q=Z[1],$=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Ca(t._id,t.school,a);case 4:if(c=e.sent,console.log("classes",c),!c.err){e.next=9;break}return m(!1),e.abrupt("return",G.b.error(c.err));case 9:g(c),m(!1),m(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),G.b.error("Fetching Classes Failed");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,An(t.school,t._id);case 4:a=e.sent,console.log(a),R(a),m(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Books Failed"),m(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,it(t.school,t._id);case 4:a=e.sent,c=a.data,console.log(c),U(c),m(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Staffs Failed"),m(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){$(),ee(),te()}),[X]);var ae=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var c,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(Object(n.a)(Object(n.a)({},l),{},Object(E.a)({},e,a.target.value))),console.log(e,a.target.value),"class"===e&&(c=v.find((function(e){return e._id.toString()===a.target.value.toString()})),w(c)),"section"===e&&ce(a.target.value),"bookName"===e&&(r=q.find((function(e){return e._id.toString()===a.target.value.toString()})),console.log(r),J(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(l),c={section:a,class:l.class},e.prev=2,m(!0),e.next=6,Yt(t.school,t._id,c);case 6:n=e.sent,console.log(n),P(n),m(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),G.b.error("Fetching Students Failed"),m(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(c=new FormData).set("book",l.bookName),c.set("bookID",l.bookId),c.set("student",l.student),c.set("allocationDate",l.allocationDate),c.set("duration",l.duration),c.set("school",t.school),e.prev=8,m(!0),e.next=12,Bn(t._id,c);case 12:if(n=e.sent,console.log(n),!n.err){e.next=17;break}return m(!1),e.abrupt("return",G.b.error(n.err));case 17:Q(!X),G.b.success("Book Allocated Successfully"),o({class:"",section:"",student:"",bookName:"",bookId:"",allocationDate:"",allocatedBy:"",duration:""}),m(!1),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(8),console.log(e.t0),G.b.error("Allocation Failed"),m(!1);case 28:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0,theme:"colored"}),b?Object(se.jsx)(ct,{}):Object(se.jsxs)(N.a,{className:"mt-3",onSubmit:ne,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Canteen Name",type:"select",name:"class",onChange:ae("class"),value:l.class,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Class"}),v&&v.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Section"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,value:l.section,onChange:ae("section"),name:"section",children:[Object(se.jsx)("option",{value:"",children:"Select Section"}),C.section&&C.section.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Student"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"class",onChange:ae("student"),value:l.student,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Student"}),A&&A.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Name"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"bookName",onChange:ae("bookName"),value:l.bookName,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Book"}),q&&q.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Id"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"bookId",onChange:ae("bookId"),value:l.bookId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Book Id"}),z.bookID&&z.bookID.map((function(e){return Object(se.jsx)("option",{value:e,children:e},e)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Allocation Date"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:ae("allocationDate"),value:l.allocationDate,required:!0})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Duration"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"number",onChange:ae("duration"),value:l.duration,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Allocated By"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"allocatedBy",onChange:ae("allocatedBy"),value:l.allocatedBy,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),V&&V.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]})]}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Allocate Book"})})})]})]})},zn=function(){var e=Fe(),t=e.user,a=e.token,c=Object(r.useState)(!1),s=Object(u.a)(c,2),l=s[0],o=s[1],i=Object(r.useState)({department:"",staff:"",bookName:"",bookId:"",allocationDate:"",allocatedBy:"",duration:""}),j=Object(u.a)(i,2),b=j[0],m=j[1],p=Object(r.useState)([]),f=Object(u.a)(p,2),v=f[0],g=f[1],y=Object(r.useState)([]),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)([]),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(!1),P=Object(u.a)(A,2),L=P[0],B=P[1],q=Object(r.useState)({}),R=Object(u.a)(q,2),K=R[0],M=R[1],z=Object(r.useState)([]),J=Object(u.a)(z,2),W=J[0],H=J[1],V=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ye(t.school,t._id,a);case 4:if(!(c=e.sent).err){e.next=7;break}return e.abrupt("return",G.b.error(c.err));case 7:console.log(c),g(c),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),o(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,An(t.school,t._id);case 4:a=e.sent,console.log(a),H(a),o(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Books Failed"),o(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,it(t.school,t._id);case 4:a=e.sent,c=a.data,console.log(c),w(c),o(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Staffs Failed"),o(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){V(),Y(),U()}),[L]);var Z=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(Object(n.a)(Object(n.a)({},b),{},Object(E.a)({},e,a.target.value))),console.log(e,a.target.value),"department"===e&&X(a.target.value),"bookName"===e&&(c=W.find((function(e){return e._id.toString()===a.target.value.toString()})),console.log(c),M(c));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={departmentId:a},e.prev=1,o(!0),e.next=5,bt(t.school,t._id,c);case 5:n=e.sent,console.log(n),T(n),o(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),G.b.error("Error fetching staff"),o(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(c=new FormData).set("book",b.bookName),c.set("bookID",b.bookId),c.set("staff",b.staff),c.set("allocationDate",b.allocationDate),c.set("duration",b.duration),c.set("school",t.school),e.prev=8,o(!0),e.next=12,Bn(t._id,c);case 12:if(n=e.sent,console.log(n),!n.err){e.next=17;break}return o(!1),e.abrupt("return",G.b.error(n.err));case 17:B(!L),G.b.success("Book Allocated Successfully"),m({department:"",staff:"",bookName:"",bookId:"",allocationDate:"",allocatedBy:"",duration:""}),o(!1),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(8),console.log(e.t0),G.b.error("Allocation Failed"),o(!1);case 28:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0,theme:"colored"}),l?Object(se.jsx)(ct,{}):Object(se.jsxs)(N.a,{className:"mt-3",onSubmit:Q,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Department"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Canteen Name",type:"select",name:"department",onChange:Z("department"),value:b.department,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Department"}),v&&v.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Staff"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"staff",onChange:Z("staff"),value:b.staff,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),I&&I.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Name"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"bookName",onChange:Z("bookName"),value:b.bookName,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Book"}),W&&W.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Book Id"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"bookId",onChange:Z("bookId"),value:b.bookId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Book Id"}),K.bookID&&K.bookID.map((function(e){return Object(se.jsx)("option",{value:e,children:e},e)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Allocation Date"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:Z("allocationDate"),value:b.allocationDate,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Duration"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"number",onChange:Z("duration"),value:b.duration,required:!0})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Allocated By"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"allocatedBy",onChange:Z("allocatedBy"),value:b.allocatedBy,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),C&&C.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Allocate Book"})})})]})]})},Jn=function(){var e=Fe(),t=e.user,a=e.token,c=Object(r.useState)({class:"",section:"",student:"",bookName:"",bookId:"",collectionDate:"",collectedBy:""}),s=Object(u.a)(c,2),l=s[0],o=s[1],i=Object(r.useState)(!1),j=Object(u.a)(i,2),b=j[0],m=j[1],p=Object(r.useState)([]),f=Object(u.a)(p,2),v=f[0],g=f[1],y=Object(r.useState)({}),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)(!1),D=Object(u.a)(_,2),I=(D[0],D[1],Object(r.useState)([])),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)([]),B=Object(u.a)(L,2),q=B[0],R=B[1],K=Object(r.useState)([]),M=Object(u.a)(K,2),z=(M[0],M[1]),J=Object(r.useState)({}),W=Object(u.a)(J,2),H=(W[0],W[1],Object(r.useState)({})),V=Object(u.a)(H,2),U=V[0],Y=V[1],Z=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Ca(t._id,t.school,a);case 4:if(c=e.sent,console.log("classes",c),!c.err){e.next=9;break}return m(!1),e.abrupt("return",G.b.error(c.err));case 9:g(c),m(!1),m(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),G.b.error("Fetching Classes Failed");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,An(t.school,t._id);case 4:a=e.sent,console.log(a),z(a),m(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Books Failed"),m(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,it(t.school,t._id);case 4:a=e.sent,c=a.data,console.log(c),R(c),m(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Staffs Failed"),m(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Z(),X(),Q()}),[]);var $=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var c,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(Object(n.a)(Object(n.a)({},l),{},Object(E.a)({},e,a.target.value))),console.log(e,a.target.value),"class"!==e){t.next=7;break}if(""!==a.target.value){t.next=5;break}return t.abrupt("return");case 5:c=v.find((function(e){return e._id.toString()===a.target.value.toString()})),w(c);case 7:if("section"===e&&ee(a.target.value),"student"!==e){t.next=15;break}if(console.log("student"),""!==a.target.value){t.next=12;break}return t.abrupt("return");case 12:r=A.find((function(e){return e._id.toString()===a.target.value.toString()})),console.log(r),Y(r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={section:a,class:l.class},e.prev=1,m(!0),e.next=5,Yt(t.school,t._id,c);case 5:n=e.sent,console.log(n),P(n),m(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),G.b.error("Fetching Students Failed"),m(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(l),c=l.bookName.slice(0,8),console.log(c),n=l.bookName.slice(9,33),r=l.bookName.slice(34,59),console.log(n),console.log(r),a.preventDefault(),(s=new FormData).set("status","Return"),s.set("book",n),s.set("bookID",c),s.set("student",l.student),s.set("school",t.school),s.set("returned",!0),s.set("collectedBy",l.collectedBy),s.set("collectionDate",l.collectionDate),s.set("allocationId",r),e.prev=18,m(!0),e.next=22,qn(t._id,s);case 22:if(i=e.sent,console.log(i),!i.err){e.next=27;break}return m(!1),e.abrupt("return",G.b.error(i.err));case 27:m(!1),G.b.success("Book Returned Successfully"),o({class:"",section:"",student:"",bookName:"",bookId:"",collectionDate:"",collectedBy:""}),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(18),console.log(e.t0),G.b.error("Book Return Failed"),m(!1);case 37:case"end":return e.stop()}}),e,null,[[18,32]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsx)(se.Fragment,{children:b?Object(se.jsx)(ct,{}):Object(se.jsxs)(N.a,{className:"mt-3 ",onSubmit:te,children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Class"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Canteen Name",type:"select",name:"class",onChange:$("class"),value:l.class,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Class"}),v&&v.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlSelect3",children:"Section"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,value:l.section,onChange:$("section"),name:"section",children:[Object(se.jsx)("option",{value:"",children:"Select Section"}),C.section&&C.section.map((function(e){return Object(se.jsx)("option",{value:e._id,selected:!0,children:e.name},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Student"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"class",onChange:$("student"),value:l.student,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Student"}),A&&A.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Issued Book"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,value:l.bookName,onChange:$("bookName"),name:"section",children:[Object(se.jsx)("option",{value:"",children:"Select Book"}),U.issuedBooks&&U.issuedBooks.map((function(e){return Object(se.jsxs)("option",{value:e.bookID+"-"+e.book._id+"-"+e._id,children:[e.book.name," - ",e.bookID]},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Collection Date"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:$("collectionDate"),value:l.collectionDate,required:!0})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Collected By"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"allocatedBy",onChange:$("collectedBy"),value:l.collectedBy,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),q&&q.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]})]}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Allocate Book"})})})]})})},Wn=function(){var e=Fe(),t=e.user,a=e.token,c=Object(r.useState)(!1),s=Object(u.a)(c,2),l=s[0],o=s[1],i=Object(r.useState)({department:"",staff:"",bookName:"",bookId:"",collectionDate:"",collectedBy:""}),j=Object(u.a)(i,2),b=j[0],m=j[1],p=Object(r.useState)([]),f=Object(u.a)(p,2),v=f[0],g=f[1],y=Object(r.useState)([]),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)([]),D=Object(u.a)(_,2),I=D[0],T=D[1],A=Object(r.useState)(!1),P=Object(u.a)(A,2),L=P[0],B=(P[1],Object(r.useState)({})),q=Object(u.a)(B,2),R=q[0],K=q[1],M=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Ye(t.school,t._id,a);case 4:if(!(c=e.sent).err){e.next=7;break}return e.abrupt("return",G.b.error(c.err));case 7:console.log(c),g(c),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),o(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(h.a.mark((function e(){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,it(t.school,t._id);case 4:a=e.sent,c=a.data,console.log(c),w(c),o(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),G.b.error("Fetching Staffs Failed"),o(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){M(),z()}),[L]);var J=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(Object(n.a)(Object(n.a)({},b),{},Object(E.a)({},e,a.target.value))),console.log(e,a.target.value),"department"!==e){t.next=6;break}if(""!==a.target.value){t.next=5;break}return t.abrupt("return");case 5:W(a.target.value);case 6:if("staff"!==e){t.next=12;break}if(""!==a.target.value){t.next=9;break}return t.abrupt("return");case 9:c=C.find((function(e){return e._id===a.target.value})),console.log(c),K(c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(){var e=Object(d.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={departmentId:a},e.prev=1,o(!0),e.next=5,bt(t.school,t._id,c);case 5:n=e.sent,console.log(n),T(n),o(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),G.b.error("Error fetching staff"),o(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0,theme:"colored"}),l?Object(se.jsx)(ct,{}):Object(se.jsxs)(N.a,{className:"mt-3",children:[Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Department"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Canteen Name",type:"select",name:"department",onChange:J("department"),value:b.department,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Department"}),v&&v.map((function(e){return Object(se.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Staff"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"staff",onChange:J("staff"),value:b.staff,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),I&&I.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Issued Book"}),Object(se.jsxs)(k.a,{id:"exampleFormControlSelect3",type:"select",required:!0,value:b.bookName,onChange:J("bookName"),name:"section",children:[Object(se.jsx)("option",{value:"",children:"Select Book"}),R.issuedBooks&&R.issuedBooks.map((function(e){return console.log(e),Object(se.jsxs)("option",{value:e._id,children:[e.book.name," - ",e.bookID]},e._id)}))]})]}),Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example-date-input",children:"Collection Date"}),Object(se.jsx)(k.a,{id:"example-date-input",type:"date",onChange:J("collectionDate"),value:b.collectionDate,required:!0})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{md:"6",children:[Object(se.jsx)(pt.a,{className:"form-control-label",htmlFor:"example4cols2Input",children:"Collected By"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Student Name",type:"select",name:"allocatedBy",onChange:J("collectedBy"),value:b.collectedBy,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Staff"}),C&&C.map((function(e){return Object(se.jsxs)("option",{value:e._id,children:[e.firstname," ",e.lastname]},e._id)}))]})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Allocate Book"})})})]})]})},Hn=function(){var e=Fe(),t=(e.user,e.token,Object(r.useState)("")),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(0),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(""),d=Object(u.a)(j,2),b=d[0],h=d[1],m=Object(r.useState)(0),p=Object(u.a)(m,2),v=p[0],N=p[1],y=Object(r.useState)({studentClass:"",studentSection:"",student:"",bookName:"",bookId:"",allocationDate:"",allocatedBy:"",duration:""}),S=Object(u.a)(y,2);S[0],S[1];return Object(r.useEffect)((function(){if(""!==c)return"student"===c?(i(1),void console.log("here1")):void("staff"===c&&(console.log("here2"),i(2)));i(0)}),[c]),Object(r.useEffect)((function(){if(""!==b)return"student"===b?(N(1),void console.log("here1")):void("staff"===b&&(console.log("here2"),N(2)));N(0)}),[b]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(Ve,{name:"Allocation Manager",parentName:"Library Management"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[Object(se.jsx)(O.a,{lg:"6",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Allocate Book"})}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",onChange:function(e){return n(e.target.value)},value:c,children:[Object(se.jsx)("option",{value:"",children:"Select Role"}),Object(se.jsx)("option",{value:"student",children:"Student"}),Object(se.jsx)("option",{value:"staff",children:"Staff"})]})})}),Object(se.jsxs)(se.Fragment,{children:[1===o&&Object(se.jsx)(Mn,{}),2===o&&Object(se.jsx)(zn,{})]})]})]})})}),Object(se.jsx)(O.a,{lg:"6",children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsx)(Te.a,{children:Object(se.jsx)("h3",{children:"Return Book"})}),Object(se.jsxs)(g.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",onChange:function(e){return h(e.target.value)},value:b,children:[Object(se.jsx)("option",{value:"",children:"Select Role"}),Object(se.jsx)("option",{value:"student",children:"Student"}),Object(se.jsx)("option",{value:"staff",children:"Staff"})]})})}),Object(se.jsxs)(se.Fragment,{children:[1===v&&Object(se.jsx)(Jn,{}),2===v&&Object(se.jsx)(Wn,{})]})]})]})})})]})})]})},Vn=function(){var e=Fe().user,t=Object(r.useState)("empty"),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(0),l=Object(u.a)(s,2),o=l[0],i=l[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)([]),N=Object(u.a)(v,2),y=N[0],S=N[1],C=Object(r.useState)([]),w=Object(u.a)(C,2),_=w[0],D=w[1],I=Object(r.useState)(1),T=Object(u.a)(I,2),A=T[0],P=T[1],L=Object(r.useState)([]),B=Object(u.a)(L,2),q=B[0],E=B[1],R=Object(r.useState)([]),K=Object(u.a)(R,2),M=K[0],z=K[1];Object(r.useEffect)((function(){U()}),[]);var J=[{title:"Student Name",dataIndex:"student_name",width:150,sorter:function(e,t){return e.student_name>t.student_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_name.toLowerCase().includes(e.toLowerCase())}},{title:"Student SID",dataIndex:"student_sid",width:150,sorter:function(e,t){return e.student_sid>t.student_sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_sid.toLowerCase().includes(e.toLowerCase())}},{title:"Roll No",dataIndex:"student_roll",width:150,sorter:function(e,t){return e.student_roll>t.student_roll},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_roll.toLowerCase().includes(e.toLowerCase())}},{title:"Class",dataIndex:"student_class",width:150,sorter:function(e,t){return e.student_class>t.student_class},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_class.toLowerCase().includes(e.toLowerCase())}},{title:"Section",dataIndex:"student_section",width:150,sorter:function(e,t){return e.student_section>t.student_section},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_section.toLowerCase().includes(e.toLowerCase())}},{title:"Book Name",dataIndex:"book_name",width:150,sorter:function(e,t){return e.book_name>t.book_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_name.toLowerCase().includes(e.toLowerCase())}},{title:"Book Id",dataIndex:"book_id",width:150,sorter:function(e,t){return e.book_id>t.book_id},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_id.toLowerCase().includes(e.toLowerCase())}},{title:"Allocation Date",dataIndex:"allocation_date",width:150,sorter:function(e,t){return e.allocation_date>t.allocation_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.allocation_date.toLowerCase().includes(e.toLowerCase())}},{title:"Allocated By",dataIndex:"allocated_by",width:150,sorter:function(e,t){return e.allocated_by>t.allocated_by},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.allocated_by.toLowerCase().includes(e.toLowerCase())}}],W=[{title:"Student Name",dataIndex:"student_name",width:150,sorter:function(e,t){return e.student_name>t.student_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_name.toLowerCase().includes(e.toLowerCase())}},{title:"Student SID",dataIndex:"student_sid",width:150,sorter:function(e,t){return e.student_sid>t.student_sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_sid.toLowerCase().includes(e.toLowerCase())}},{title:"Roll No",dataIndex:"student_roll",width:150,sorter:function(e,t){return e.student_roll>t.student_roll},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_roll.toLowerCase().includes(e.toLowerCase())}},{title:"Class",dataIndex:"student_class",width:150,sorter:function(e,t){return e.student_class>t.student_class},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_class.toLowerCase().includes(e.toLowerCase())}},{title:"Section",dataIndex:"student_section",width:150,sorter:function(e,t){return e.student_section>t.student_section},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_section.toLowerCase().includes(e.toLowerCase())}},{title:"Book Name",dataIndex:"book_name",width:150,sorter:function(e,t){return e.book_name>t.book_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_name.toLowerCase().includes(e.toLowerCase())}},{title:"Book Id",dataIndex:"book_id",width:150,sorter:function(e,t){return e.book_id>t.book_id},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_id.toLowerCase().includes(e.toLowerCase())}},{title:"Collection Date",dataIndex:"collection_date",width:150,sorter:function(e,t){return e.collection_date>t.collection_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.collection_date.toLowerCase().includes(e.toLowerCase())}},{title:"Collected By",dataIndex:"collected_by",width:150,sorter:function(e,t){return e.collected_by>t.collected_by},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.collected_by.toLowerCase().includes(e.toLowerCase())}}],H=[{title:"Staff Name",dataIndex:"staff_name",width:150,sorter:function(e,t){return e.staff_name>t.staff_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_name.toLowerCase().includes(e.toLowerCase())}},{title:"Staff SID",dataIndex:"staff_sid",width:150,sorter:function(e,t){return e.staff_sid>t.staff_sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.staff_sid.toLowerCase().includes(e.toLowerCase())}},{title:"Department",dataIndex:"department",width:150,sorter:function(e,t){return e.department>t.department},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.department.toLowerCase().includes(e.toLowerCase())}},{title:"Book Name",dataIndex:"book_name",width:150,sorter:function(e,t){return e.book_name>t.book_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_name.toLowerCase().includes(e.toLowerCase())}},{title:"Book Id",dataIndex:"book_id",width:150,sorter:function(e,t){return e.book_id>t.book_id},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_id.toLowerCase().includes(e.toLowerCase())}},{title:"Allocation Date",dataIndex:"allocation_date",width:150,sorter:function(e,t){return e.allocation_date>t.allocation_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.allocation_date.toLowerCase().includes(e.toLowerCase())}},{title:"Allocated By",dataIndex:"allocated_by",width:150,sorter:function(e,t){return e.allocated_by>t.allocated_by},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.allocated_by.toLowerCase().includes(e.toLowerCase())}}],V=[{title:"Staff Name",dataIndex:"staff_name",width:150,sorter:function(e,t){return e.staff_name>t.staff_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.student_name.toLowerCase().includes(e.toLowerCase())}},{title:"Staff SID",dataIndex:"staff_sid",width:150,sorter:function(e,t){return e.staff_sid>t.staff_sid},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.staff_sid.toLowerCase().includes(e.toLowerCase())}},{title:"Department",dataIndex:"department",width:150,sorter:function(e,t){return e.department>t.department},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.department.toLowerCase().includes(e.toLowerCase())}},{title:"Book Name",dataIndex:"book_name",width:150,sorter:function(e,t){return e.book_name>t.book_name},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_name.toLowerCase().includes(e.toLowerCase())}},{title:"Book Id",dataIndex:"book_id",width:150,sorter:function(e,t){return e.book_id>t.book_id},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.book_id.toLowerCase().includes(e.toLowerCase())}},{title:"Collection Date",dataIndex:"collection_date",width:150,sorter:function(e,t){return e.allocation_date>t.allocation_date},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.collection_date.toLowerCase().includes(e.toLowerCase())}},{title:"Collected By",dataIndex:"collected_by",width:150,sorter:function(e,t){return e.collected_by>t.collected_by},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.collected_by.toLowerCase().includes(e.toLowerCase())}}],U=function(){var t=Object(d.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,En(e.school,e._id);case 4:a=t.sent,console.log(a),S(a),p(!1),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),p(!1),G.b.error("Error fetching Allocations");case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(console.log("here"),"empty"!==c){if("allocation"===c){i(1);var e=y.filter((function(e){return"Allocated"===e.status}));console.log(e),D(e)}else if("return"===c){i(2);var t=y.filter((function(e){return"Return"===e.status}));D(t),console.log(t)}}else D([])}),[c]),Object(r.useEffect)((function(){if(console.log("here"),0!==A)if(1===A){console.log("@@@@@");var e=[];console.log(_),_.forEach((function(t,a){console.log(t),t.student&&"Allocated"===t.status?e.push({key:a,student_name:t.student&&t.student.firstname,student_sid:t.student&&t.student.SID,student_roll:t.student&&t.student.roll_number,student_class:t.student&&t.student.class.name,student_section:t.student&&t.student.section.name,book_name:t.book&&t.book.name,book_id:t.book&&t.bookID,allocation_date:t.allocationDate,allocated_by:t.allocatedBy}):t.student&&"Return"===t.status&&e.push({key:a,student_name:t.student&&t.student.firstname,student_sid:t.student&&t.student.SID,student_roll:t.student&&t.student.roll_number,student_class:t.student.class&&t.student.class.name,student_section:t.student.section&&t.student.section.name,book_name:t.book&&t.book.name,book_id:t.book&&t.bookID,collection_date:t.collectionDate,collected_by:t.collectedBy})})),console.log(e),E(e)}else if(2===A){var t=[];_.forEach((function(e,a){e.staff&&"Allocated"===e.status?t.push({key:a,staff_name:e.staff&&e.staff.firstname,staff_sid:e.staff&&e.staff.SID,department:e.staff&&e.staff.department.name,book_name:e.book&&e.book.name,book_id:e.book&&e.bookID,allocation_date:e.allocationDate,allocated_by:e.allocatedBy}):e.staff&&"Return"===e.status&&t.push({key:a,staff_name:e.staff&&e.staff.firstname,staff_sid:e.staff&&e.staff.SID,department:e.staff&&e.staff.department.name,book_name:e.book&&e.book.name,book_id:e.book&&e.bookID,collection_date:e.collectionDate,collected_by:e.collectedBy})})),z(t)}}),[A,c,o]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Add Section",parentName:"Class Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsxs)(f.a,{children:[Object(se.jsxs)(Te.a,{children:[Object(se.jsx)(x.a,{children:Object(se.jsx)(O.a,{md:"3",children:Object(se.jsxs)(k.a,{id:"example4cols2Input",type:"select",required:!0,onChange:function(e){return n(e.target.value)},value:c,children:[Object(se.jsx)("option",{value:"empty",children:"Select Type"}),Object(se.jsx)("option",{value:"allocation",children:"Allocations"}),Object(se.jsx)("option",{value:"return",children:"Return"})]})})}),Object(se.jsx)(x.a,{className:"mt-2",children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)(F.a,{color:"".concat(1===A?"warning":"primary"),type:"button",onClick:function(){P(1)},children:"Student"})," ",Object(se.jsx)(F.a,{color:"".concat(2===A?"warning":"primary"),type:"button",onClick:function(){P(2)},children:"Staff"})]})})]}),Object(se.jsx)(g.a,{children:m?Object(se.jsx)(ct,{}):Object(se.jsxs)(se.Fragment,{children:[1===o&&Object(se.jsxs)(se.Fragment,{children:[1===A&&Object(se.jsx)("div",{style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:J,data:q,pagination:!0,exportFileName:"LibraryDetails"})}),2===A&&Object(se.jsx)("div",{style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:H,data:M,pagination:!0,exportFileName:"LibraryDetails"})})]}),2===o&&Object(se.jsxs)(se.Fragment,{children:[1===A&&Object(se.jsx)("div",{style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:W,data:q,pagination:!0,exportFileName:"LibraryDetails"})}),2===A&&Object(se.jsx)("div",{style:{overflowX:"auto"},children:Object(se.jsx)(tt,{columns:V,data:M,pagination:!0,exportFileName:"LibraryDetails"})})]})]})})]})})})})})]})},Gn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/leave/create/").concat(t),a,"POST");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Un=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/leave/get/").concat(t,"/").concat(a),{},"GET");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Yn=function(){var e=Object(d.a)(h.a.mark((function e(t,a,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/leave/delete/").concat(c,"/").concat(a,"/").concat(t),{},"DELETE");case 3:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(d.a)(h.a.mark((function e(t,a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat("http://35.174.4.42:5000","/api/school/leave/get/all/").concat(a,"/").concat(t),{},"GET");case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Xn=function(){var e=Fe().user,t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Object(r.useState)(!1),o=Object(u.a)(l,2),i=o[0],j=o[1],b=Object(r.useState)([]),m=Object(u.a)(b,2),p=m[0],v=m[1],y=Object(r.useState)(!1),S=Object(u.a)(y,2),C=S[0],w=S[1],_=Object(r.useState)({leaveType:"",from:"",fromType:"",to:"",toType:"",reason:"",priority:"",section:""}),D=Object(u.a)(_,2),I=D[0],T=D[1],A=[{title:"Date From",dataIndex:"date_from",width:"40%",sorter:function(e,t){return e.date_from>t.date_from},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.date_from.toLowerCase().includes(e.toLowerCase())}},{title:"Date To",dataIndex:"date_to",width:"40%",sorter:function(e,t){return e.date_to>t.date_to},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.date_to.toLowerCase().includes(e.toLowerCase())}},{title:"No of Days",dataIndex:"no_of_days",width:"40%",sorter:function(e,t){return e.no_of_days>t.no_of_days},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.no_of_days.toLowerCase().includes(e.toLowerCase())}},{title:"Leave Type",dataIndex:"leave_type",width:"40%",sorter:function(e,t){return e.leave_type>t.leave_type},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.leave_type.toLowerCase().includes(e.toLowerCase())}},{title:"Reason",dataIndex:"reason",width:"40%",sorter:function(e,t){return e.reason>t.reason},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.reason.toLowerCase().includes(e.toLowerCase())}},{title:"Status",dataIndex:"status",width:"40%",sorter:function(e,t){return e.status>t.status},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,c=e.confirm;return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(k.a,{autoFocus:!0,placeholder:"Type text here",value:a[0],onChange:function(e){t(e.target.value?[e.target.value]:[]),c({closeDropdown:!1})},onBlur:function(){c()}})})},filterIcon:function(){return Object(se.jsx)(et.a,{})},onFilter:function(e,t){return t.status.toLowerCase().includes(e.toLowerCase())}},{title:"Action",key:"action",dataIndex:"action",fixed:"right"}],P=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T(Object(n.a)(Object(n.a)({},I),{},Object(E.a)({},e,a.target.value))),console.log(e,a.target.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};Object(r.useEffect)((function(){L()}),[C]);var L=function(){var t=Object(d.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(h.a.mark((function t(){var a,c,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,Un(e._id,e.SID);case 3:if(!(a=t.sent).err){t.next=8;break}return G.b.error(a.err),j(!1),t.abrupt("return",{v:void 0});case 8:for(c=[],n=function(e){c.push({key:e,date_from:a[e].dateFrom,date_to:a[e].dateTo,no_of_days:a[e].noOfDays,leave_type:a[e].leaveType,reason:a[e].reason,status:a[e].status,action:Object(se.jsx)("h5",{className:"mb-0",children:Object(se.jsx)(F.a,{className:"btn-sm pull-right",color:"danger",type:"button",children:Object(se.jsx)($e.a,{title:"Sure to delete?",onConfirm:function(){return B(a[e]._id)},children:Object(se.jsx)("i",{className:"fas fa-trash"})})},"delete"+e+1)},e+1)})},r=0;r<a.length;r++)n(r);v(c),j(!1);case 13:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:if("object"!==typeof(a=t.t0)){t.next=5;break}return t.abrupt("return",a.v);case 5:t.next=12;break;case 7:t.prev=7,t.t1=t.catch(0),console.log(t.t1),G.b.error("Fetching Leaves Failed"),j(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(d.a)(h.a.mark((function t(a){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,Yn(e._id,e.SID,a);case 4:if(c=t.sent,console.log(c),!c.err){t.next=10;break}return G.b.error(c.err),j(!1),t.abrupt("return");case 10:G.b.success("Leave Deleted Successfully"),w(!C),j(!1),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),G.b.error("Deleting Leave Failed"),j(!1);case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(d.a)(h.a.mark((function t(a){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(c=new FormData).set("leaveType",I.leaveType),c.set("dateFrom",I.from),c.set("dateTo",I.to),c.set("reason",I.reason),c.set("userId",e._id),c.set("user",e.user),"student"===e.user?c.set("section",e.section):"staff"===e.user&&c.set("department",e.department),t.prev=9,s(!0),t.next=13,Gn(e._id,c);case 13:if(n=t.sent,console.log(n),!n.err){t.next=19;break}return G.b.error(n.err),s(!1),t.abrupt("return");case 19:w(!C),G.b.success("Leave Applied Successfully"),T({leaveType:"",from:"",fromType:"",to:"",toType:"",reason:"",priority:""}),s(!1),t.next=30;break;case 25:t.prev=25,t.t0=t.catch(9),console.log(t.t0),G.b.error("Leave Application Failed"),s(!1);case 30:case"end":return t.stop()}}),t,null,[[9,25]])})));return function(e){return t.apply(this,arguments)}}();return console.log(e),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ve,{name:"Apply Leave",parentName:"Leave Management"}),Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(x.a,{children:[c?Object(se.jsx)(ct,{}):Object(se.jsx)(O.a,{lg:"6",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:Object(se.jsxs)(N.a,{className:"mb-4",onSubmit:q,children:[Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Leave Type"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Leave Type",type:"select",onChange:P("leaveType"),value:I.leaveType,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Leave Type"}),Object(se.jsx)("option",{value:"Earned Leave",children:"Earned Leave"}),Object(se.jsx)("option",{value:"LOP Leave",children:"LOP Leave"}),Object(se.jsx)("option",{value:"Comp Off Leave",children:"Comp Off Leave"})]})]})}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"From"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Leave Type",type:"date",onChange:P("from"),value:I.from,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Day Type"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Leave Type",type:"select",onChange:P("fromType"),value:I.fromType,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Day Type"}),Object(se.jsx)("option",{value:"Full",children:"Full"}),Object(se.jsx)("option",{value:"Half",children:"Half"})]})]})]}),Object(se.jsxs)(x.a,{children:[Object(se.jsxs)(O.a,{md:"8",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"To"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Leave Type",type:"date",onChange:P("to"),value:I.to,required:!0})]}),Object(se.jsxs)(O.a,{md:"4",children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Day Type"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Leave Type",type:"select",onChange:P("toType"),value:I.toType,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Day Type"}),Object(se.jsx)("option",{value:"Full",children:"Full"}),Object(se.jsx)("option",{value:"Half",children:"Half"})]})]})]}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Reason"}),Object(se.jsx)(k.a,{id:"example4cols2Input",placeholder:"Reason",type:"textarea",onChange:P("reason"),value:I.reason,required:!0})]})}),Object(se.jsx)(x.a,{children:Object(se.jsxs)(O.a,{children:[Object(se.jsx)("label",{className:"form-control-label",htmlFor:"example4cols2Input",children:"Priority"}),Object(se.jsxs)(k.a,{id:"example4cols2Input",placeholder:"Leave Type",type:"select",onChange:P("priority"),value:I.priority,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Priority"}),Object(se.jsx)("option",{value:"Critical",children:"Critical"}),Object(se.jsx)("option",{value:"Advance",children:"Advance"})]})]})}),Object(se.jsx)(x.a,{className:"mt-4",children:Object(se.jsx)(O.a,{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(se.jsx)(F.a,{color:"primary",type:"submit",children:"Submit"})})})]})})})}),Object(se.jsx)(O.a,{children:Object(se.jsx)("div",{className:"card-wrapper",children:Object(se.jsx)(f.a,{children:Object(se.jsx)(g.a,{children:i?Object(se.jsx)(ct,{}):Object(se.jsx)(tt,{columns:A,data:p,pagination:!0,exportFileName:"LeaveDetails"})})})})})]})})]})},Qn=function(){var e=Fe().user,t=Object(r.useState)([]),a=Object(u.a)(t,2),c=(a[0],a[1],Object(r.useState)(!1)),n=Object(u.a)(c,2),s=n[0],l=n[1];Object(r.useEffect)((function(){o()}),[]);var o=function(){var t=Object(d.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l(!0),t.next=4,Zn(e._id,e.school);case 4:a=t.sent,console.log(a),l(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),l(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(G.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Object(se.jsx)(Ve,{name:"View Leaves"}),Object(se.jsx)(ie.a,{className:"mt--6",fluid:!0,children:Object(se.jsxs)(f.a,{className:"mb-4",children:[Object(se.jsx)(Te.a,{className:"buttons-head",children:Object(se.jsx)("h5",{children:"View Leaves"})}),Object(se.jsx)(g.a,{children:s?Object(se.jsx)(ct,{}):Object(se.jsx)(tt,{})})]})})]})},$n=[{path:"/dashboard",name:"Dashboard",icon:"ni ni-shop text-primary",component:Me,layout:"/admin",module:"Dashboard"},{collapse:!0,name:"Staff Management",icon:"ni ni-single-02 text-orange",state:"examplesCollapse",module:"Staff Management",views:[{path:"/add-staff",name:"Add Staff",miniName:"A",component:Jt,layout:"/admin",permission:"add"},{path:"/all-staffs",name:"All Staffs",miniName:"A",component:ac,layout:"/admin",permission:"view"}]},{path:"/staff-profile",name:"Profile",icon:"ni ni-shop text-primary",component:sa,layout:"/admin",module:"Staff Profile Module"},{collapse:!0,name:"Class Management",icon:"fa fa-users",state:"classCollapse",module:"Class, section and subject master",views:[{path:"/add-class",name:"Add Class ",miniName:"ACs",component:Ra,layout:"/admin",permission:"view"},{path:"/add-section",name:"Add Section",miniName:"AS",component:qa,layout:"/admin",permission:"view"},{path:"/add-subject",name:"Add Subject",miniName:"AS",component:Ma,layout:"/admin",permission:"view"},{path:"/class-teacher",name:"Class Teacher",miniName:"CT",component:Ea,layout:"/admin",permission:"add"}]},{collapse:!0,name:"Department",icon:"fa fa-users",state:"departmentsCollapse",module:"Department",views:[{path:"/department-list",name:"Department List",miniName:"DL",component:ht,layout:"/admin",permission:"view"},{path:"/department-head",name:"Department Head",miniName:"DH",component:mt,layout:"/admin",permission:"edit"}]},{path:"/school-profile",name:"School Profile",icon:"ni ni-shop text-primary",component:na,layout:"/admin",module:"School Profile Module"},{collapse:!0,name:"Student Management",icon:"ni ni-single-02 text-orange",state:"studentsCollapse",module:"Student Management",views:[{path:"/add-student",name:"Add Student",miniName:"A",component:Zt,layout:"/admin",permission:"add"},{path:"/all-students",name:"All Students",miniName:"A",component:Ya,layout:"/admin",permission:"view"}]},{path:"/student-profile",name:"Student Profile",icon:"ni ni-shop text-primary",component:ra,layout:"/admin",module:"Student Profile"},{path:"/session",name:"Session",icon:"ni ni-shop text-primary",component:ya,layout:"/admin",module:"Session"},{path:"/support",name:"Support",icon:"ni ni-shop text-primary",component:ba,layout:"/admin",module:"Support"},{path:"/calendar",name:"Calendar",icon:"ni ni-calendar-grid-58 text-red",component:bc,layout:"/admin",module:"School Calendar"},{path:"/attendance",name:"Attendance",icon:"ni ni-badge",component:gc,layout:"/admin",module:"Attendance"},{collapse:!0,name:"Time Table",icon:"ni ni-calendar-grid-58 text-black",state:"timetableCollapse",module:"Time table Management",views:[{path:"/add_time_table",name:"Add Time Table",miniName:"A",component:_c,layout:"/admin",permission:"add"},{path:"/view_time_table",name:"View Time Table",miniName:"V",component:Fc,layout:"/admin",permission:"view"}]},{collapse:!0,name:"Canteen Management",icon:"ni ni-basket text-yellow",state:"canteenCollapse",module:"Canteen Management",views:[{path:"/add-canteen",name:"Add Canteen",miniName:"A",component:qc,layout:"/admin",permission:"add"},{path:"/view-canteen",name:"View Canteen",miniName:"V",component:Ec,layout:"/admin",permission:"view"},{path:"/view-all-canteen",name:"View All Canteen",miniName:"V",component:Rc,layout:"/admin",permission:"view"}]},{path:"/rolesPermissions",name:"Roles&Permissions",icon:"ni ni-settings-gear-65 text-blue",component:Dc,layout:"/admin",module:"Role and Permissions"},{collapse:!0,name:"Transportation",icon:"ni ni-bus-front-12 text-red",state:"transportationCollapse",module:"Transportation management",views:[{path:"/add-route",name:"Add Route",miniName:"A",component:Hc,layout:"/admin",permission:"add"},{path:"/view-route",name:"View Route",miniName:"V",component:Wc,layout:"/admin",permission:"view"}]},{collapse:!0,name:"Ecommerce",icon:"ni ni-bag-17 text-pink",state:"ecommerceCollapse",module:"Edu Commerce Store",views:[{path:"/add-cart",name:"Add Product",miniName:"A",component:cn,layout:"/admin",permission:"add"},{path:"/viewCart",name:"View Product",miniName:"V",component:an,layout:"/admin",permission:"view"}]}],er=[{path:"/dashboard",name:"Dashboard",icon:"ni ni-shop text-primary",component:Me,layout:"/admin"},{collapse:!0,name:"Fees Management",icon:"ni ni-single-02 text-orange",state:"feesCollapse",views:[{path:"/feesmaster",name:"Fees Master",miniName:"FM",component:On,layout:"/admin"},{path:"/Penaltymaster",name:"Penalty Master",miniName:"PM",component:Sn,layout:"/admin"}]},{collapse:!0,name:"Staff Management",icon:"ni ni-single-02 text-orange",state:"examplesCollapse",views:[{path:"/add-staff",name:"Add Staff",miniName:"A",component:Jt,layout:"/admin"},{path:"/all-staffs",name:"All Staffs",miniName:"A",component:ac,layout:"/admin"},{path:"/staff-attendance",name:"Staff Attendance",miniName:"S",component:bn,layout:"/admin"}]},{path:"/profile",name:"Profile",icon:"ni ni-shop text-primary",component:ia,layout:"/admin",module:"Profile"},{collapse:!0,name:"Class Management",icon:"fa fa-users",state:"classCollapse",views:[{path:"/add-class",name:"Add Class",miniName:"AC",component:Ra,layout:"/admin"},{path:"/add-section",name:"Add Section",miniName:"AS",component:qa,layout:"/admin"},{path:"/add-subject",name:"Add Subject",miniName:"AS",component:Ma,layout:"/admin"},{path:"/class-teacher",name:"Class Teacher",miniName:"CT",component:Ea,layout:"/admin"}]},{collapse:!0,name:"Department",icon:"fa fa-users",state:"departmentsCollapse",views:[{path:"/department-list",name:"Department List",miniName:"DL",component:ht,layout:"/admin"},{path:"/department-head",name:"Department Head",miniName:"DH",component:mt,layout:"/admin"}]},{path:"/school-profile",name:"School Profile",icon:"ni ni-shop text-primary",component:na,layout:"/admin"},{collapse:!0,name:"Student Management",icon:"ni ni-single-02 text-orange",state:"studentsCollapse",views:[{path:"/add-student",name:"Add Student",miniName:"A",component:Zt,layout:"/admin"},{path:"/all-students",name:"All Students",miniName:"A",component:Ya,layout:"/admin"}]},{path:"/session",name:"Session",icon:"ni ni-shop text-primary",component:ya,layout:"/admin"},{path:"/support",name:"Support",icon:"ni ni-shop text-primary",component:ba,layout:"/admin"},{path:"/calendar",name:"Calendar",icon:"ni ni-calendar-grid-58 text-red",component:bc,layout:"/admin"},{path:"/attendance",name:"Attendance",icon:"ni ni-badge",component:gc,layout:"/admin"},{collapse:!0,name:"Time Table",icon:"ni ni-calendar-grid-58 text-black",state:"timetableCollapse",views:[{path:"/add_time_table",name:"Add Time Table",miniName:"A",component:_c,layout:"/admin"},{path:"/view_time_table",name:"View Time Table",miniName:"V",component:Fc,layout:"/admin"}]},{collapse:!0,name:"Canteen",icon:"ni ni-basket text-yellow",state:"canteenCollapse",views:[{path:"/add-canteen",name:"Add Canteen",miniName:"A",component:qc,layout:"/admin"},{path:"/view-canteen",name:"View Canteen",miniName:"V",component:Ec,layout:"/admin"},{path:"/view-all-canteen",name:"View All Canteen",miniName:"V",component:Rc,layout:"/admin"}]},{path:"/rolesPermissions",name:"Roles&Permissions",icon:"ni ni-settings-gear-65 text-blue",component:Dc,layout:"/admin"},{collapse:!0,name:"Transport",icon:"ni ni-bus-front-12 text-red",state:"transportationCollapse",views:[{path:"/add-route",name:"Add Route",miniName:"A",component:Hc,layout:"/admin"},{path:"/view-route",name:"View Route",miniName:"V",component:Wc,layout:"/admin"}]},{collapse:!0,name:"Credential Master",icon:"ni ni-settings-gear-65 text-red",state:"credentialCollapse",views:[{path:"/student-credentials",name:"Student",miniName:"A",component:on,layout:"/admin"},{path:"/staff-credentials",name:"Staff",miniName:"S",layout:"/admin"}]},{collapse:!0,name:"Ecommerce",icon:"ni ni-bag-17 text-pink",state:"ecommerceCollapse",views:[{path:"/add-cart",name:"Add Product",miniName:"A",component:cn,layout:"/admin"},{path:"/viewCart",name:"View Product",miniName:"V",component:an,layout:"/admin"}]},{collapse:!0,name:"Library Management",icon:"ni ni-bag-17 text-pink",state:"libraryCollapse",views:[{path:"/add-shelf",name:"Add Section and Shelf",miniName:"A",component:Rn,layout:"/admin"},{path:"/add-books",name:"Add Books",miniName:"V",component:Kn,layout:"/admin"},{path:"/book-allocations",name:"Allocations",miniName:"V",component:Hn,layout:"/admin"},{path:"/view-allocations",name:"View Allocations",miniName:"V",component:Vn,layout:"/admin"}]},{collapse:!0,name:"Leave Management",icon:"ni ni-bag-17 text-pink",state:"leaveCollapse",views:[{path:"/apply-leave",name:"Apply Leave",miniName:"a",component:Xn,layout:"/admin"},{path:"/view-leave",name:"View Leave",miniName:"a",component:Qn,layout:"/admin"}]}];var tr=function(){var e=s.a.useState(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],l=Object(j.h)(),o=Fe().user,i=s.a.useRef(null);s.a.useEffect((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,i.current.scrollTop=0}),[l]),Object(r.useEffect)((function(){}),[o]);var d=[];d.push({path:"/profile",name:"Profile",icon:"ni ni-shop text-primary",component:ia,layout:"/admin",module:"Profile"});var b=function(e){var t=$n.find((function(t){return e.toString()===t.module.toString()}));if(t&&t.views){var a=[];o.permissions[e].forEach((function(e){for(var c=0;c<t.views.length;c++)t.views[c].permission.toString()===e.toString()&&a.push(t.views[c])})),t.views=a}t&&d.push(t)};for(var h in o.permissions)b(h);var m=function(e){document.body.classList.contains("g-sidenav-pinned")?(document.body.classList.remove("g-sidenav-pinned"),document.body.classList.add("g-sidenav-hidden")):(document.body.classList.add("g-sidenav-pinned"),document.body.classList.remove("g-sidenav-hidden")),n(!c)};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(_e,{routes:d,toggleSidenav:m,sidenavOpen:c,logo:{innerLink:"/",imgSrc:a(731).default,imgAlt:"..."}}),Object(se.jsxs)("div",{className:"main-content",ref:i,children:[Object(se.jsx)(Ne,{theme:-1===l.pathname.indexOf("admin/alternative-dashboard")?"dark":"light",toggleSidenav:m,sidenavOpen:c,brandText:function(e){for(var t=0;t<er.length;t++)if(-1!==l.pathname.indexOf(er[t].layout+er[t].path))return er[t].name;return"Brand"}(l.pathname)}),Object(se.jsx)(j.d,{children:function e(t){return t.map((function(t,a){return t.collapse?e(t.views):"/admin"===t.layout?Object(se.jsx)(j.b,{path:t.layout+t.path,component:t.component},a):null}))}(er)}),Object(se.jsx)(ye,{})]}),c?Object(se.jsx)("div",{className:"backdrop d-xl-none",onClick:m}):null]})},ar=function(){return Object(se.jsx)(j.b,{render:function(){return!1!==Fe()?Object(se.jsx)(tr,{}):Object(se.jsx)(j.a,{to:"/login"})}})},cr=a(109),nr=a(359),rr=a(68),sr=a(360),lr=a.n(sr),or=Object(rr.b)({authReducer:V,studentReducer:Ga,staffReducer:Qa,classReducer:Ba,cartReducer:$c}),ir={key:"root",version:1,storage:lr.a,whitelist:["authReducer","classReducer","cartReducer"]},jr=Object(cr.g)(ir,or),dr=Object(R.a)({reducer:jr,middleware:function(e){return e({serializableCheck:{ignoredActions:[cr.a,cr.f,cr.b,cr.c,cr.d,cr.e]}})}}),ur=(a(734),Object(cr.h)(dr));o.a.render(Object(se.jsx)(i.a,{children:Object(se.jsx)(q.a,{store:dr,children:Object(se.jsx)(nr.a,{loading:null,persistor:ur,children:Object(se.jsxs)(j.d,{children:[Object(se.jsx)(j.b,{path:"/login",render:function(e){return Object(se.jsx)(le,Object(n.a)({},e))}}),Object(se.jsx)(ar,{})]})})})}),document.getElementById("root"))},76:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/team-1.fa5a7ac2.jpg"},82:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/team-2.3e08ef14.jpg"},83:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/team-3.70911cdd.jpg"},90:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/team-4.99c612eb.jpg"}},[[741,1,2]]]);
//# sourceMappingURL=main.79ce4602.chunk.js.map